if ((typeof(basics$0ElabDec$1)) == "undefined") {basics$0ElabDec$1 = {};
};
(function(){basics$0ElabDec$1.eq_flexresResult$4284 = function(v$4286,v$4287){switch (v$4286) { case 0: {switch (v$4287) { case 0: {return true;
 break; }default: {return false;
} };
 break; }case 1: {switch (v$4287) { case 1: {return true;
 break; }default: {return false;
} };
 break; } };
};
var values_64bit$180 = tools$0Flags$1$6.is_on0$5191("values_64bit");
var addTypeInfo_CON$351 = function(v$367,v$368,v$369,v$370){var v$365 = syntax_objects$0Ident$1.decompose$96(v$370);
var v$366 = v$365[1];
var cons$360 = (basics$0Environments$1.lookup_fellow_constructors$3418(v$368))(v$370);
var t$6501 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6500 = v$367;
var t$6499;
var t$6494;
var v$361;
var fix$6491 = {};
fix$6491.$acc = function(v$4391,v$4392){lab$acc: while (true) {if (v$4391 == null) {return v$4392;
} else {var v$4393 = v$4391;
var v$4394 = v$4393[1];
var t$6492 = v$4394;
var t$6493 = SmlPrims.chk_ovf_i32(v$4392 + 1);
var v$4391 = t$6492;
var v$4392 = t$6493;
continue lab$acc;
};
};
};
var acc$4390 = fix$6491.$acc;
v$361 = (acc$4390(cons$360,0));
var t$6498;
var v$4398;
var fix$6495 = {};
fix$6495.$count = function(v$6343,v$6344){lab$count: while (true) {if (v$6343 == null) {return [1];
} else {var v$6345 = v$6343;
var v$6346 = v$6345[0];
var v$6347 = v$6345[1];
if (syntax_objects$0Ident$1.eq_id$248(v$6346,v$366)) {return [0,v$6344];
} else {var t$6496 = v$6347;
var t$6497 = SmlPrims.chk_ovf_i32(v$6344 + 1);
var v$6343 = t$6496;
var v$6344 = t$6497;
continue lab$count;
};
};
};
};
var count$6342 = fix$6495.$count;
v$4398 = (count$6342(cons$360,0));
switch (v$4398[0]) { case 0: {t$6498 = v$4398[1];
 break; }default: {t$6498 = (tools$0Crash$1.impossible$59("ElabDec.where'"));
} };
t$6494 = [t$6498,v$369,v$370,v$361];
t$6499 = [18,t$6494];
return t$6501(t$6500,t$6499);
};
var fix$6502 = {};
fix$6502.$dom_vb = function(v$527,v$528){lab$dom_vb: while (true) {switch (v$528[0]) { case 1: {var v$522 = v$528[1];
var v$523 = v$522[1];
var v$524 = v$522[3];
var t$6505 = basis$0List$1.s$n$686;
var t$6504 = basics$0Environments$1.dom_pat$3422(v$527,v$523,true);
var t$6503;
switch (v$524[0]) { case 0: {var v$521 = v$524[1];
t$6503 = (fix$6502.$dom_vb(v$527,v$521));
 break; }default: {t$6503 = null;
} };
return t$6505(t$6504,t$6503);
 break; }default: {var v$525 = v$528[1];
var v$526 = v$525[1];
var t$6506 = v$527;
var t$6507 = v$526;
var v$527 = t$6506;
var v$528 = t$6507;
continue lab$dom_vb;
} };
};
};
var dom_vb$502 = fix$6502.$dom_vb;
var fix$6508 = {};
fix$6508.$initial_TE = function(v$532){var v$542 = v$532[1];
var v$543 = v$542[4];
switch (v$543[0]) { case 1: {var v$544 = v$542[1];
var v$545 = v$542[2];
return basics$0Environments$1.init$2007(v$544,v$545);
 break; }default: {var v$546 = v$542[1];
var v$547 = v$542[2];
var v$548 = v$543[1];
return basics$0Environments$1.plus$1790(basics$0Environments$1.init$2007(v$546,v$547),fix$6508.$initial_TE(v$548));
} };
};
var initial_TE$529 = fix$6508.$initial_TE;
var fix$6509 = {};
fix$6509.$elab_ty = function(v$3387,v$3388){switch (v$3388[0]) { case 0: {var v$3375 = v$3388[1];
var v$3376 = v$3375[0];
var v$3377 = v$3375[1];
var ty_opt$3368 = basics$0Environments$1.ExplicitTyVar_lookup$3300(v$3387,v$3377);
var t$6874 = ty_opt$3368;
var t$6873;
var t$6872;
var t$6871;
switch (ty_opt$3368[0]) { case 0: {t$6871 = (basics$0ElabInfo$1.from_ParseInfo$231(v$3376));
 break; }default: {var v$5793 = [15,[syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$3377),null]];
t$6871 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3376),v$5793));
} };
t$6872 = [t$6871,v$3377];
t$6873 = [0,t$6872];
return [t$6874,t$6873];
 break; }case 1: {var v$3350 = v$3388[1];
var v$3351 = v$3350[1];
switch (v$3351[0]) { case 1: {var v$3352 = v$3350[0];
return [[0,basics$0StatObject$1.Unit$1989],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3352),[1]]]];
 break; }default: {var v$3365 = v$3350[0];
var v$3366 = v$3351[1];
var v$3359 = fix$6509.$elab_tyrow(v$3387,v$3366);
var v$3360 = v$3359[0];
switch (v$3360[0]) { case 0: {var v$3362 = v$3360[1];
var v$3363 = v$3359[1];
return [[0,basics$0StatObject$1.from_RecType$1539(v$3362)],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3365),[0,v$3363]]]];
 break; }default: {var v$3364 = v$3359[1];
return [[1],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3365),[0,v$3364]]]];
} };
} };
 break; }case 4: {var v$3345 = v$3388[1];
var v$3346 = v$3345[0];
var v$3347 = v$3345[1];
var v$3348 = v$3345[2];
var res_list$3280 = basis$0List$1.map$697(function(ty$3283){return fix$6509.$elab_ty(v$3387,ty$3283);
},v$3347);
var tau_opt_list$3284 = basis$0List$1.map$697(function(v$3287){return v$3287[0];
},res_list$3280);
var out_ty_list$3289 = basis$0List$1.map$697(function(v$3292){return v$3292[1];
},res_list$3280);
var fix$6857 = {};
fix$6857.$unopt_list = function(v$3310,v$6443){lab$unopt_list: while (true) {if (v$3310 == null) {return [0,basis$0List$1.rev$682(v$6443)];
} else {var v$3312 = v$3310;
var v$3313 = v$3312[0];
switch (v$3313[0]) { case 1: {return [1];
 break; }default: {var v$3316 = v$3313[1];
var v$3317 = v$3312[1];
var t$6858 = v$3317;
var t$6859 = [v$3316,v$6443];
var v$3310 = t$6858;
var v$6443 = t$6859;
continue lab$unopt_list;
} };
};
};
};
var unopt_list$3294 = fix$6857.$unopt_list;
var v$3323 = unopt_list$3294(tau_opt_list$3284,null);
switch (v$3323[0]) { case 0: {var v$3344 = v$3323[1];
var v$3329 = (basics$0Environments$1.lookup_longtycon$3419(v$3387))(v$3348);
switch (v$3329[0]) { case 0: {var v$3343 = v$3329[1];
var v$3341 = basics$0Environments$1.to_theta_and_VE$1680(v$3343);
var v$3342 = v$3341[0];
var expectedArity$3333 = basics$0StatObject$1.arity$4013(v$3342);
var actualArity$3334;
var fix$6860 = {};
fix$6860.$acc = function(v$4522,v$4523){lab$acc: while (true) {if (v$4522 == null) {return v$4523;
} else {var v$4524 = v$4522;
var v$4525 = v$4524[1];
var t$6861 = v$4525;
var t$6862 = SmlPrims.chk_ovf_i32(v$4523 + 1);
var v$4522 = t$6861;
var v$4523 = t$6862;
continue lab$acc;
};
};
};
var acc$4521 = fix$6860.$acc;
actualArity$3334 = (acc$4521(v$3344,0));
if (expectedArity$3333 == actualArity$3334) {return [[0,basics$0StatObject$1.apply$3998(v$3342,v$3344)],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3346),out_ty_list$3289,v$3348]]];
} else {var t$6866 = [1];
var t$6865;
var t$6864;
var t$6863;
var v$5795 = [0,[actualArity$3334,expectedArity$3333]];
t$6863 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3346),v$5795));
t$6864 = [t$6863,out_ty_list$3289,v$3348];
t$6865 = [4,t$6864];
return [t$6866,t$6865];
};
 break; }default: {var t$6870 = [1];
var t$6869;
var t$6868;
var t$6867;
var v$5799 = [33,v$3348];
t$6867 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3346),v$5799));
t$6868 = [t$6867,out_ty_list$3289,v$3348];
t$6869 = [4,t$6868];
return [t$6870,t$6869];
} };
 break; }default: {return [[1],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3346),out_ty_list$3289,v$3348]]];
} };
 break; }case 3: {var v$3275 = v$3388[1];
var v$3276 = v$3275[0];
var v$3277 = v$3275[1];
var v$3278 = v$3275[2];
var v$5800 = fix$6509.$elab_ty(v$3387,v$3277);
var v$5801 = fix$6509.$elab_ty(v$3387,v$3278);
var v$3261 = v$5800[0];
switch (v$3261[0]) { case 0: {var v$3264 = v$5801[0];
switch (v$3264[0]) { case 0: {var v$3266 = v$3261[1];
var v$3267 = v$5800[1];
var v$3268 = v$3264[1];
var v$3269 = v$5801[1];
return [[0,basics$0StatObject$1.mk_Arrow$2104(v$3266,v$3268)],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$3267,v$3269]]];
 break; }default: {var v$4537 = v$5800[1];
var v$4539 = v$5801[1];
return [[1],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$4537,v$4539]]];
} };
 break; }default: {var v$4542 = v$5800[1];
var v$4544 = v$5801[1];
return [[1],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$4542,v$4544]]];
} };
 break; }default: {var v$3384 = v$3388[1];
var v$3385 = v$3384[0];
var v$3386 = v$3384[1];
var v$3381 = fix$6509.$elab_ty(v$3387,v$3386);
var v$3382 = v$3381[0];
var v$3383 = v$3381[1];
return [v$3382,[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$3385),v$3383]]];
} };
};
fix$6509.$elab_tyrow = function(v$3446,v$3447){var v$3448 = v$3447[1];
var v$3449 = v$3448[0];
var v$3450 = v$3448[1];
var v$3451 = v$3448[2];
var v$3452 = v$3448[3];
var v$5782 = fix$6509.$elab_ty(v$3446,v$3451);
var v$5783 = fix$6509.$elab_tyrow_opt(v$3446,v$3452);
var v$3416 = v$5782[0];
switch (v$3416[0]) { case 0: {var v$3419 = v$5783[0];
switch (v$3419[0]) { case 0: {var v$3431 = v$3416[1];
var v$3432 = v$5782[1];
var v$3433 = v$3419[1];
var v$3434 = v$5783[1];
var v$3424;
var t$6856;
var fix$6854 = {};
fix$6854.$member = function(v$6351){lab$member: while (true) {if (v$6351 == null) {return false;
} else {var v$6352 = v$6351;
var v$6353 = v$6352[0];
var v$6354 = v$6352[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$3450,v$6353)) {return true;
} else {var t$6855 = v$6354;
var v$6351 = t$6855;
continue lab$member;
};
};
};
};
var member$6350 = fix$6854.$member;
t$6856 = (member$6350(basics$0StatObject$1.sorted_labs$1754(v$3433)));
if (t$6856) {var t$6853 = v$3433;
var t$6852;
var v$5789 = [[5,v$3450],null];
var v$5791 = [24,v$5789];
t$6852 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$5791));
v$3424 = [t$6853,t$6852];
} else {v$3424 = [(basics$0StatObject$1.add_field$1695(v$3450,v$3431))(v$3433),basics$0ElabInfo$1.from_ParseInfo$231(v$3449)];
};
return [[0,v$3424[0]],[0,[v$3424[1],v$3450,v$3432,v$3434]]];
 break; }default: {var v$4509 = v$5782[1];
var v$4511 = v$5783[1];
return [[1],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$4509,v$4511]]];
} };
 break; }default: {var v$3441 = v$5783[0];
switch (v$3441[0]) { case 0: {var v$3443 = v$5782[1];
var v$3444 = v$3441[1];
var v$3445 = v$5783[1];
return [[0,v$3444],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$3443,v$3445]]];
 break; }default: {var v$4514 = v$5782[1];
var v$4516 = v$5783[1];
return [[1],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$4514,v$4516]]];
} };
} };
};
fix$6509.$elab_tyrow_opt = function(v$6442,v$3463){switch (v$3463[0]) { case 1: {return [[0,basics$0StatObject$1.empty$1611],[1]];
 break; }default: {var v$3478 = v$3463[1];
var v$3471 = fix$6509.$elab_tyrow(v$6442,v$3478);
var v$3472 = v$3471[0];
switch (v$3472[0]) { case 0: {return [[0,v$3472[1]],[0,v$3471[1]]];
 break; }default: {return [[1],[0,v$3471[1]]];
} };
} };
};
basics$0ElabDec$1.elab_ty$807 = fix$6509.$elab_ty;
var elab_tyrow$806 = fix$6509.$elab_tyrow;
var elab_tyrow_opt$805 = fix$6509.$elab_tyrow_opt;
var fix$6510 = {};
fix$6510.$elab_patrow = function(v$2975,v$2976){switch (v$2976[0]) { case 0: {var v$2917 = v$2976[1];
var v$2918 = v$2917[3];
switch (v$2918[0]) { case 1: {var v$2930 = v$2917[0];
var v$2931 = v$2917[1];
var v$2932 = v$2917[2];
var v$2924 = fix$6510.$elab_pat(v$2975,v$2932);
var v$2925 = v$2924[0];
var v$2926 = v$2924[1];
var v$2927 = v$2926[0];
var v$2928 = v$2926[1];
var v$2929 = v$2924[2];
return [v$2925,[v$2927,(basics$0StatObject$1.add_field$1695(v$2931,v$2928))(basics$0StatObject$1.empty$1611)],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2930),v$2931,v$2929,[1]]]];
 break; }default: {var v$2969 = v$2917[0];
var v$2970 = v$2917[1];
var v$2971 = v$2917[2];
var v$2972 = v$2918[1];
var v$2963 = fix$6510.$elab_pat(v$2975,v$2971);
var v$2965 = v$2963[1];
var v$2966 = v$2965[0];
var v$2967 = v$2965[1];
var v$2968 = v$2963[2];
var v$2957 = fix$6510.$elab_patrow(v$2975,v$2972);
var v$2959 = v$2957[1];
var v$2960 = v$2959[0];
var v$2961 = v$2959[1];
var v$2962 = v$2957[2];
var intdom$2943 = edlib$0EqSet$1.intersect$238(function(v$6446){return syntax_objects$0Ident$1.eq_id$248(v$6446[0],v$6446[1]);
},basics$0Environments$1.dom$1166(v$2966),basics$0Environments$1.dom$1166(v$2960));
var v$5850 = edlib$0EqSet$1.isEmpty$119(intdom$2943);
var v$5851;
var fix$6831 = {};
fix$6831.$member = function(v$6365){lab$member: while (true) {if (v$6365 == null) {return false;
} else {var v$6366 = v$6365;
var v$6367 = v$6366[0];
var v$6368 = v$6366[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$2970,v$6367)) {return true;
} else {var t$6832 = v$6368;
var v$6365 = t$6832;
continue lab$member;
};
};
};
};
var member$6364 = fix$6831.$member;
v$5851 = (member$6364(basics$0StatObject$1.sorted_labs$1754(v$2961)));
if (v$5850) {if (v$5851) {var t$6837 = basics$0StatObject$1.Id$845;
var t$6836 = [v$2960,v$2961];
var t$6835;
var t$6834;
var t$6833;
var v$5857 = [[5,v$2970],null];
var v$5859 = [24,v$5857];
t$6833 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5859));
t$6834 = [t$6833,v$2970,v$2968,[0,v$2962]];
t$6835 = [0,t$6834];
return [t$6837,t$6836,t$6835];
} else {return [0,[basics$0Environments$1.plus$1101(v$2966,v$2960),(basics$0StatObject$1.add_field$1695(v$2970,v$2967))(v$2961)],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$2970,v$2968,[0,v$2962]]]];
};
} else {if (v$5851) {var t$6842 = basics$0StatObject$1.Id$845;
var t$6841 = [v$2960,v$2961];
var t$6840;
var t$6839;
var t$6838;
var v$5865 = basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2956){return [6,v$2956];
},edlib$0EqSet$1.list$107(intdom$2943)),[[5,v$2970],null]);
var v$5867 = [24,v$5865];
t$6838 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5867));
t$6839 = [t$6838,v$2970,v$2968,[0,v$2962]];
t$6840 = [0,t$6839];
return [t$6842,t$6841,t$6840];
} else {var t$6847 = basics$0StatObject$1.Id$845;
var t$6846 = [v$2960,(basics$0StatObject$1.add_field$1695(v$2970,v$2967))(v$2961)];
var t$6845;
var t$6844;
var t$6843;
var v$5861 = basis$0List$1.map$697(function(v$2955){return [6,v$2955];
},edlib$0EqSet$1.list$107(intdom$2943));
var v$5863 = [24,v$5861];
t$6843 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5863));
t$6844 = [t$6843,v$2970,v$2968,[0,v$2962]];
t$6845 = [0,t$6844];
return [t$6847,t$6846,t$6845];
};
};
} };
 break; }default: {var v$2974 = v$2976[1];
var rho$2973 = basics$0StatObject$1.dotdotdot$1612(0);
var t$6851 = basics$0StatObject$1.Id$845;
var t$6850 = [basics$0Environments$1.empty$1052,rho$2973];
var t$6849;
var t$6848;
var v$5869 = [1,rho$2973];
t$6848 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$2974),v$5869));
t$6849 = [1,t$6848];
return [t$6851,t$6850,t$6849];
} };
};
fix$6510.$elab_atpat = function(v$2896,v$2897){switch (v$2897[0]) { case 0: {var v$2879 = v$2897[1];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.fresh_normal$1538(0),null],[0,basics$0ElabInfo$1.from_ParseInfo$231(v$2879)]];
 break; }case 1: {var v$2875 = v$2897[1];
var v$2876 = v$2875[0];
var v$2877 = v$2875[1];
var v$2872 = basics$0StatObject$1.of_scon$2232(v$2877);
var v$2873 = v$2872[1];
var v$2874 = v$2872[0];
var i_out$2859;
switch (v$2874[0]) { case 1: {switch (v$2877[0]) { case 2: {var v$5828 = [29];
i_out$2859 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2876),v$5828));
 break; }default: {i_out$2859 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2876));
} };
 break; }default: {var v$2870 = v$2874[1];
var v$5830 = [0,v$2870];
i_out$2859 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$2876),v$5830));
} };
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,v$2873,null],[1,[basics$0ElabInfo$1.plus_TypeInfo$128(i_out$2859,[9,[v$2873]]),v$2877]]];
 break; }case 4: {var v$2848 = v$2897[1];
var v$2849 = v$2848[0];
var v$2850 = v$2848[1];
var v$2851 = v$2850[1];
var v$2852 = v$2851[0];
var v$2853 = v$2851[1];
var v$2854 = v$2848[2];
var v$2740 = (basics$0Environments$1.lookup_longid$3417(v$2896))(v$2852);
var rhs2$2736 = function(obj$2847){var tau$2810 = basics$0StatObject$1.fresh_normal$1538(0);
var tau_scheme$2811 = [null,tau$2810];
var regvars_opt$$2812 = basis$0Option$1.map$69(function(v$2816){var v$2817 = v$2816[0];
var v$2818 = v$2816[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2817),v$2818];
},v$2854);
var v$2823 = syntax_objects$0Ident$1.decompose$96(v$2852);
if (v$2823[0] == null) {var v$2846 = v$2823[1];
var v$2828;
switch (v$2854[0]) { case 1: {v$2828 = [basics$0ElabInfo$1.from_ParseInfo$231(v$2849),null];
 break; }default: {var v$2843 = v$2854[1];
var v$2844 = v$2843[0];
var v$2845 = v$2843[1];
var v$2841 = basis$0List$1.filter$417(function(e$4621){var t$6822;
var fix$6820 = {};
fix$6820.$NoOfOccurences = function(v$6357){lab$NoOfOccurences: while (true) {if (v$6357 == null) {return 0;
} else {var v$6358 = v$6357;
var v$6359 = v$6358[0];
var v$6360 = v$6358[1];
if (e$4621[1] == v$6359[1]) {return SmlPrims.chk_ovf_i32(1 + (fix$6820.$NoOfOccurences(v$6360)));
} else {var t$6821 = v$6360;
var v$6357 = t$6821;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6356 = fix$6820.$NoOfOccurences;
t$6822 = (NoOfOccurences$6356(v$2845));
return t$6822 > 1;
},v$2845);
if (v$2841 == null) {v$2828 = [basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$2845];
} else {var t$6823;
var v$5836 = basis$0List$1.map$697(function(v$2842){return [4,v$2842];
},v$2841);
var v$5838 = [24,v$5836];
t$6823 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2844),v$5838));
v$2828 = [t$6823,v$2845];
};
} };
var v$2829 = v$2828[0];
var v$2830 = v$2828[1];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.singleton_var$1058(v$2846,tau_scheme$2811),tau$2810,v$2830],[4,[basics$0ElabInfo$1.plus_TypeInfo$128(v$2829,[0,[tau$2810,null]]),[0,[v$2852,v$2853]],regvars_opt$$2812]]];
} else {var t$6819 = basics$0StatObject$1.Id$845;
var t$6818 = [basics$0Environments$1.empty$1052,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6817;
var t$6816;
var t$6815;
var v$5842 = [30,v$2852];
t$6815 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$5842));
t$6816 = [t$6815,[0,[v$2852,v$2853]],regvars_opt$$2812];
t$6817 = [4,t$6816];
return [t$6819,t$6818,t$6817];
};
};
switch (v$2740[0]) { case 0: {var v$2742 = v$2740[1];
switch (v$2742[0]) { case 2: {var v$2809 = v$2742[1];
var v$2806 = basics$0StatObject$1.instance$$3693(v$2809);
var v$2807 = v$2806[0];
var v$2808 = v$2806[1];
var v$2799;
var t$6830;
switch ((basics$0StatObject$1.to_ConsType$2041(v$2807))[0]) { case 0: {t$6830 = true;
 break; }default: {t$6830 = false;
} };
if (t$6830) {v$2799 = [v$2807,basics$0ElabInfo$1.from_ParseInfo$231(v$2849)];
} else {var t$6829 = basics$0StatObject$1.fresh_normal$1538(0);
var t$6828;
var v$5844 = [31,v$2807];
t$6828 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$5844));
v$2799 = [t$6829,t$6828];
};
var v$2800 = v$2799[0];
var v$2801 = v$2799[1];
var i$$2778 = ((basis$0Option$1.isSome$56(0))(v$2854))?(basics$0ElabInfo$1.plus_ErrorInfo$102(v$2801,[26])):v$2801;
var R$2783;
switch (v$2854[0]) { case 0: {R$2783 = v$2854[1][1];
 break; }default: {R$2783 = null;
} };
var regvars_opt$$2792 = basis$0Option$1.map$69(function(v$2796){var v$2797 = v$2796[0];
var v$2798 = v$2796[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2797),v$2798];
},v$2854);
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,v$2800,R$2783],[4,[addTypeInfo_CON$351(i$$2778,v$2896,v$2808,v$2852),[0,[v$2852,v$2853]],regvars_opt$$2792]]];
 break; }case 1: {var v$2761 = v$2742[1];
var v$2759;
var v$6164 = basics$0StatObject$1.unify$3416(basics$0StatObject$1.Exn$2084,v$2761);
switch (v$6164[0]) { case 1: {v$2759 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$2849)];
 break; }case 2: {var t$6825 = basics$0StatObject$1.Id$845;
var t$6824;
var v$6165 = [9,["expected long excon in pattern to have type",basics$0StatObject$1.Exn$2084,"but found it to have type",v$2761]];
t$6824 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$6165));
v$2759 = [t$6825,t$6824];
 break; }default: {var v$6166 = v$6164[1];
var v$6167 = v$6166[0];
var v$6168 = v$6166[1];
var t$6827 = basics$0StatObject$1.Id$845;
var t$6826;
var v$6169 = [10,[basics$0StatObject$1.Exn$2084,v$2761,v$6167,v$6168]];
t$6826 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$6169));
v$2759 = [t$6827,t$6826];
} };
var v$2760 = v$2759[1];
var i$$2747 = ((basis$0Option$1.isSome$56(0))(v$2854))?(basics$0ElabInfo$1.plus_ErrorInfo$102(v$2760,[26])):v$2760;
var regvars_opt$$2752 = basis$0Option$1.map$69(function(v$2756){var v$2757 = v$2756[0];
var v$2758 = v$2756[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2757),v$2758];
},v$2854);
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.Exn$2084,null],[4,[basics$0ElabInfo$1.plus_TypeInfo$128(i$$2747,[15,[basics$0StatObject$1.Exn$2084,v$2852]]),[0,[v$2852,v$2853]],regvars_opt$$2752]]];
 break; }default: {return rhs2$2736(0);
} };
 break; }default: {return rhs2$2736(0);
} };
 break; }case 2: {var v$2715 = v$2897[1];
var v$2716 = v$2715[1];
switch (v$2716[0]) { case 1: {var v$2717 = v$2715[0];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.Unit$1989,null],[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$2717),[1]]]];
 break; }default: {var v$2729 = v$2715[0];
var v$2730 = v$2716[1];
var v$2723 = fix$6510.$elab_patrow(v$2896,v$2730);
var v$2724 = v$2723[0];
var v$2725 = v$2723[1];
var v$2726 = v$2725[0];
var v$2727 = v$2725[1];
var v$2728 = v$2723[2];
var t$6814 = v$2724;
var t$6813 = [v$2726,basics$0StatObject$1.from_RecType$1539(v$2727),null];
var t$6812;
var t$6811;
var t$6810;
var v$5848 = basics$0ElabInfo$1.from_ParseInfo$231(v$2729);
var v$5849 = basics$0StatObject$1.from_RecType$1539(v$2727);
t$6810 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5848,[5,[v$5849]]));
t$6811 = [t$6810,[0,v$2728]];
t$6812 = [2,t$6811];
return [t$6814,t$6813,t$6812];
} };
 break; }default: {var v$2893 = v$2897[1];
var v$2894 = v$2893[0];
var v$2895 = v$2893[1];
var v$2886 = fix$6510.$elab_pat(v$2896,v$2895);
var v$2887 = v$2886[0];
var v$2888 = v$2886[1];
var v$2889 = v$2888[0];
var v$2890 = v$2888[1];
var v$2891 = v$2888[2];
var v$2892 = v$2886[2];
return [v$2887,[v$2889,v$2890,v$2891],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$2894),v$2892]]];
} };
};
fix$6510.$elab_pat = function(v$2994,v$2995){var v$2987 = fix$6510.$elab_pat$(v$2994,v$2995);
var v$2988 = v$2987[0];
var v$2989 = v$2987[1];
return [v$2988,[v$2989[0],v$2989[1],v$2989[2]],v$2987[2]];
};
fix$6510.$elab_pat$ = function(v$3217,v$3218){switch (v$3218[0]) { case 4: {var v$3214 = v$3218[1];
var v$3215 = v$3214[0];
var v$3216 = v$3214[1];
var v$3207 = fix$6510.$elab_atpat(v$3217,v$3216);
var v$3208 = v$3207[0];
var v$3209 = v$3207[1];
var v$3210 = v$3209[0];
var v$3211 = v$3209[1];
var v$3212 = v$3209[2];
var v$3213 = v$3207[2];
return [v$3208,[v$3210,v$3211,v$3212],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3215),v$3213]]];
 break; }case 3: {var v$3193 = v$3218[1];
var v$3194 = v$3193[0];
var v$3195 = v$3193[1];
var v$3196 = v$3195[1];
var v$3197 = v$3196[0];
var v$3198 = v$3196[1];
var v$3199 = v$3193[2];
var v$3186 = fix$6510.$elab_atpat(v$3217,v$3199);
var v$3188 = v$3186[1];
var v$3189 = v$3188[0];
var v$3190 = v$3188[1];
var v$3191 = v$3188[2];
var v$3192 = v$3186[2];
var v$3156 = (basics$0Environments$1.lookup_longid$3417(v$3217))(v$3197);
switch (v$3156[0]) { case 0: {var v$3158 = v$3156[1];
switch (v$3158[0]) { case 2: {var v$3184 = v$3158[1];
var new$3169 = basics$0StatObject$1.fresh_normal$1538(0);
var arrow$3170 = basics$0StatObject$1.mk_Arrow$2104(v$3190,new$3169);
var v$3181 = basics$0StatObject$1.instance$$3693(v$3184);
var v$3182 = v$3181[0];
var v$3183 = v$3181[1];
var v$3178;
var v$6115 = basics$0StatObject$1.unify$3416(arrow$3170,v$3182);
switch (v$6115[0]) { case 1: {v$3178 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3194)];
 break; }case 2: {var t$6797 = basics$0StatObject$1.Id$845;
var t$6796;
var v$6116 = [9,["argument to long value constructor in pattern suggests constructor type",arrow$3170,"but constructor has type",v$3182]];
t$6796 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6116));
v$3178 = [t$6797,t$6796];
 break; }default: {var v$6117 = v$6115[1];
var v$6118 = v$6117[0];
var v$6119 = v$6117[1];
var t$6799 = basics$0StatObject$1.Id$845;
var t$6798;
var v$6120 = [10,[arrow$3170,v$3182,v$6118,v$6119]];
t$6798 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6120));
v$3178 = [t$6799,t$6798];
} };
var v$3179 = v$3178[0];
var v$3180 = v$3178[1];
return [0,[v$3189,basics$0StatObject$1.on$854(v$3179,new$3169),v$3191],[3,[addTypeInfo_CON$351(v$3180,v$3217,v$3183,v$3197),[0,[v$3197,v$3198]],v$3192]]];
 break; }case 1: {var v$3167 = v$3158[1];
var arrow$3160 = basics$0StatObject$1.mk_Arrow$2104(v$3190,basics$0StatObject$1.Exn$2084);
var v$3164;
var v$6127 = basics$0StatObject$1.unify$3416(arrow$3160,v$3167);
switch (v$6127[0]) { case 1: {v$3164 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3194)];
 break; }case 2: {var t$6788 = basics$0StatObject$1.Id$845;
var t$6787;
var v$6128 = [9,["argument to long exception constructor in pattern requires exception constructor type ",arrow$3160,"but the exception constructor has type",v$3167]];
t$6787 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6128));
v$3164 = [t$6788,t$6787];
 break; }default: {var v$6129 = v$6127[1];
var v$6130 = v$6129[0];
var v$6131 = v$6129[1];
var t$6790 = basics$0StatObject$1.Id$845;
var t$6789;
var v$6132 = [10,[arrow$3160,v$3167,v$6130,v$6131]];
t$6789 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6132));
v$3164 = [t$6790,t$6789];
} };
var v$3165 = v$3164[0];
var v$3166 = v$3164[1];
var t$6795 = 0;
var t$6794 = [v$3189,basics$0StatObject$1.Exn$2084,null];
var t$6793;
var t$6792;
var t$6791;
var v$5803 = basics$0StatObject$1.on$854(v$3165,arrow$3160);
t$6791 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$3166,[15,[v$5803,v$3197]]));
t$6792 = [t$6791,[0,[v$3197,v$3198]],v$3192];
t$6793 = [3,t$6792];
return [t$6795,t$6794,t$6793];
 break; }default: {var t$6804 = basics$0StatObject$1.Id$845;
var t$6803 = [v$3189,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6802;
var t$6801;
var t$6800;
var v$5808 = [35,v$3197];
t$6800 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$5808));
t$6801 = [t$6800,[0,[syntax_objects$0Ident$1.bogus$168,v$3198]],v$3192];
t$6802 = [3,t$6801];
return [t$6804,t$6803,t$6802];
} };
 break; }default: {var t$6809 = basics$0StatObject$1.Id$845;
var t$6808 = [v$3189,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6807;
var t$6806;
var t$6805;
var v$5812 = [35,v$3197];
t$6805 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$5812));
t$6806 = [t$6805,[0,[syntax_objects$0Ident$1.bogus$168,v$3198]],v$3192];
t$6807 = [3,t$6806];
return [t$6809,t$6808,t$6807];
} };
 break; }case 1: {var v$3137 = v$3218[1];
var v$3138 = v$3137[0];
var v$3139 = v$3137[1];
var v$3140 = v$3137[2];
var v$3130 = fix$6510.$elab_pat(v$3217,v$3139);
var v$3131 = v$3130[0];
var v$3132 = v$3130[1];
var v$3133 = v$3132[0];
var v$3134 = v$3132[1];
var v$3135 = v$3132[2];
var v$3136 = v$3130[2];
var v$3117 = basics$0ElabDec$1.elab_ty$807(v$3217,v$3140);
var v$3118 = v$3117[0];
switch (v$3118[0]) { case 0: {var v$3127 = v$3118[1];
var v$3128 = v$3117[1];
var v$3124;
var v$6139 = basics$0StatObject$1.unify$3416(v$3134,v$3127);
switch (v$6139[0]) { case 1: {v$3124 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3138)];
 break; }case 2: {var t$6784 = basics$0StatObject$1.Id$845;
var t$6783;
var v$6140 = [9,["pattern has type",v$3134,"which conflicts with your type constraint",v$3127]];
t$6783 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$6140));
v$3124 = [t$6784,t$6783];
 break; }default: {var v$6141 = v$6139[1];
var v$6142 = v$6141[0];
var v$6143 = v$6141[1];
var t$6786 = basics$0StatObject$1.Id$845;
var t$6785;
var v$6144 = [10,[v$3134,v$3127,v$6142,v$6143]];
t$6785 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$6144));
v$3124 = [t$6786,t$6785];
} };
var v$3126 = v$3124[1];
var S$$$3123 = 0;
return [S$$$3123,[v$3133,basics$0StatObject$1.on$854(S$$$3123,v$3134),v$3135],[1,[v$3126,v$3136,v$3128]]];
 break; }default: {var v$3129 = v$3117[1];
return [v$3131,[v$3133,v$3134,v$3135],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$3136,v$3129]]];
} };
 break; }case 2: {var v$3031 = v$3218[1];
var v$3032 = v$3031[2];
switch (v$3032[0]) { case 1: {var v$3052 = v$3031[0];
var v$3053 = v$3031[1];
var v$3054 = v$3053[1];
var v$3055 = v$3054[0];
var v$3056 = v$3054[1];
var v$3057 = v$3031[3];
var v$3046 = fix$6510.$elab_pat(v$3217,v$3057);
var v$3047 = v$3046[0];
var v$3048 = v$3046[1];
var v$3049 = v$3048[0];
var v$3050 = v$3048[1];
var v$3051 = v$3046[2];
var VE2$3038 = basics$0Environments$1.singleton_var$1058(v$3055,[null,v$3050]);
var intdom$3039 = edlib$0EqSet$1.intersect$238(function(v$6444){return syntax_objects$0Ident$1.eq_id$248(v$6444[0],v$6444[1]);
},basics$0Environments$1.dom$1166(v$3049),basics$0Environments$1.dom$1166(VE2$3038));
var VE3$3040 = basics$0Environments$1.plus$1101(v$3049,VE2$3038);
if (edlib$0EqSet$1.isEmpty$119(intdom$3039)) {var t$6768 = v$3047;
var t$6767 = [VE3$3040,v$3050,null];
var t$6766;
var t$6765;
var t$6764;
var v$5813 = basics$0ElabInfo$1.from_ParseInfo$231(v$3052);
t$6764 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5813,[0,[v$3050,null]]));
t$6765 = [t$6764,[0,[v$3055,v$3056]],[1],v$3051];
t$6766 = [2,t$6765];
return [t$6768,t$6767,t$6766];
} else {var t$6773 = v$3047;
var t$6772 = [VE3$3040,v$3050,null];
var t$6771;
var t$6770;
var t$6769;
var v$5816 = basis$0List$1.map$697(function(v$3045){return [6,v$3045];
},edlib$0EqSet$1.list$107(intdom$3039));
var v$5818 = [24,v$5816];
t$6769 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3052),v$5818));
t$6770 = [t$6769,[0,[v$3055,v$3056]],[1],v$3051];
t$6771 = [2,t$6770];
return [t$6773,t$6772,t$6771];
};
 break; }default: {var v$3097 = v$3031[0];
var v$3098 = v$3031[1];
var v$3099 = v$3098[1];
var v$3100 = v$3099[0];
var v$3101 = v$3099[1];
var v$3102 = v$3032[1];
var v$3103 = v$3031[3];
var v$3091 = fix$6510.$elab_pat(v$3217,v$3103);
var v$3092 = v$3091[0];
var v$3093 = v$3091[1];
var v$3094 = v$3093[0];
var v$3095 = v$3093[1];
var v$3096 = v$3091[2];
var v$3069 = basics$0ElabDec$1.elab_ty$807(v$3217,v$3102);
var v$3070 = v$3069[0];
switch (v$3070[0]) { case 0: {var v$3088 = v$3070[1];
var v$3089 = v$3069[1];
var v$3085;
var v$6151 = basics$0StatObject$1.unify$3416(v$3095,v$3088);
switch (v$6151[0]) { case 1: {v$3085 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3097)];
 break; }case 2: {var t$6775 = basics$0StatObject$1.Id$845;
var t$6774;
var v$6152 = [9,["pattern has type",v$3095,"which conflicts with your constraint",v$3088]];
t$6774 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$6152));
v$3085 = [t$6775,t$6774];
 break; }default: {var v$6153 = v$6151[1];
var v$6154 = v$6153[0];
var v$6155 = v$6153[1];
var t$6777 = basics$0StatObject$1.Id$845;
var t$6776;
var v$6156 = [10,[v$3095,v$3088,v$6154,v$6155]];
t$6776 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$6156));
v$3085 = [t$6777,t$6776];
} };
var v$3087 = v$3085[1];
var i$$3075 = basics$0ElabInfo$1.plus_TypeInfo$128(v$3087,[0,[v$3088,null]]);
var S$$$3076 = 0;
var VE2$3077 = basics$0Environments$1.singleton_var$1058(v$3100,[null,v$3095]);
var intdom$3078 = edlib$0EqSet$1.intersect$238(function(v$6445){return syntax_objects$0Ident$1.eq_id$248(v$6445[0],v$6445[1]);
},basics$0Environments$1.dom$1166(v$3094),basics$0Environments$1.dom$1166(VE2$3077));
var VE3$3079 = basics$0Environments$1.plus$1101(v$3094,VE2$3077);
if (edlib$0EqSet$1.isEmpty$119(intdom$3078)) {return [S$$$3076,[VE3$3079,basics$0StatObject$1.on$854(S$$$3076,v$3095),null],[2,[i$$3075,[0,[v$3100,v$3101]],[0,v$3089],v$3096]]];
} else {var t$6782 = S$$$3076;
var t$6781 = [VE3$3079,basics$0StatObject$1.on$854(S$$$3076,v$3095),null];
var t$6780;
var t$6779;
var t$6778;
var v$5822 = basis$0List$1.map$697(function(v$3084){return [6,v$3084];
},edlib$0EqSet$1.list$107(intdom$3078));
var v$5824 = [24,v$5822];
t$6778 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$5824));
t$6779 = [t$6778,[0,[v$3100,v$3101]],[0,v$3089],v$3096];
t$6780 = [2,t$6779];
return [t$6782,t$6781,t$6780];
};
 break; }default: {var v$3090 = v$3069[1];
return [v$3092,[v$3094,v$3095,null],[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$3097),[0,[v$3100,v$3101]],[0,v$3090],v$3096]]];
} };
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_pat(UNRES_INFIX)");
} };
};
var elab_patrow$810 = fix$6510.$elab_patrow;
var elab_atpat$811 = fix$6510.$elab_atpat;
var elab_pat$809 = fix$6510.$elab_pat;
var elab_pat$$808 = fix$6510.$elab_pat$;
var out_i_for_exbind$813 = function(excon$2641,VE_rest$2644,i$2647,tau_opt$2650){if (edlib$0EqSet$1.member$128(function(v$6447){return syntax_objects$0Ident$1.eq_id$248(v$6447[0],v$6447[1]);
},excon$2641,basics$0Environments$1.dom$1166(VE_rest$2644))) {var v$5871 = [[8,excon$2641],null];
var v$5873 = [24,v$5871];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5873);
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(excon$2641)) {var v$5875 = [27,[excon$2641,null]];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5875);
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(excon$2641)) {var v$5877 = [28];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5877);
} else {var v$5878 = basics$0ElabInfo$1.from_ParseInfo$231(i$2647);
return basics$0ElabInfo$1.plus_TypeInfo$128(v$5878,[16,[tau_opt$2650]]);
};
};
};
};
var fix$6511 = {};
fix$6511.$elab_exbind = function(v$2637,v$2638){switch (v$2638[0]) { case 1: {var v$2559 = v$2638[1];
var v$2560 = v$2559[2];
switch (v$2560[0]) { case 0: {var v$2582 = v$2559[0];
var v$2583 = v$2559[1];
var v$2584 = v$2583[1];
var v$2585 = v$2584[0];
var v$2586 = v$2584[1];
var v$2587 = v$2560[1];
var v$2588 = v$2559[3];
var v$2579 = fix$6511.$elab_exbind_opt(v$2637,v$2588);
var v$2580 = v$2579[0];
var v$2581 = v$2579[1];
var v$2571 = basics$0ElabDec$1.elab_ty$807(v$2637,v$2587);
var v$2572 = v$2571[0];
switch (v$2572[0]) { case 0: {var v$2576 = v$2572[1];
var v$2577 = v$2571[1];
var exnTy$2574 = basics$0StatObject$1.mk_Arrow$2104(v$2576,basics$0StatObject$1.Exn$2084);
var VE_this$2575 = basics$0Environments$1.singleton_excon$1074(v$2585,exnTy$2574);
return [basics$0Environments$1.plus$1101(VE_this$2575,v$2580),[1,[out_i_for_exbind$813(v$2585,v$2580,v$2582,[0,v$2576]),[0,[v$2585,v$2586]],[0,v$2577],v$2581]]];
 break; }default: {var v$2578 = v$2571[1];
return [v$2580,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$2582),[0,[v$2585,v$2586]],[0,v$2578],v$2581]]];
} };
 break; }default: {var v$2596 = v$2559[0];
var v$2597 = v$2559[1];
var v$2598 = v$2597[1];
var v$2599 = v$2598[0];
var v$2600 = v$2598[1];
var v$2601 = v$2559[3];
var VE_this$2589 = basics$0Environments$1.singleton_excon$1074(v$2599,basics$0StatObject$1.Exn$2084);
var v$2593 = fix$6511.$elab_exbind_opt(v$2637,v$2601);
var v$2594 = v$2593[0];
var v$2595 = v$2593[1];
return [basics$0Environments$1.plus$1101(VE_this$2589,v$2594),[1,[out_i_for_exbind$813(v$2599,v$2594,v$2596,[1]),[0,[v$2599,v$2600]],[1],v$2595]]];
} };
 break; }default: {var v$2626 = v$2638[1];
var v$2627 = v$2626[0];
var v$2628 = v$2626[1];
var v$2629 = v$2628[1];
var v$2630 = v$2629[0];
var v$2631 = v$2629[1];
var v$2632 = v$2626[2];
var v$2633 = v$2632[1];
var v$2634 = v$2633[0];
var v$2635 = v$2633[1];
var v$2636 = v$2626[3];
var v$2607 = (basics$0Environments$1.lookup_longid$3417(v$2637))(v$2634);
switch (v$2607[0]) { case 0: {var v$2609 = v$2607[1];
switch (v$2609[0]) { case 1: {var v$2618 = v$2609[1];
var VE_this$2611 = basics$0Environments$1.singleton_excon$1074(v$2630,v$2618);
var v$2615 = fix$6511.$elab_exbind_opt(v$2637,v$2636);
var v$2616 = v$2615[0];
var v$2617 = v$2615[1];
return [basics$0Environments$1.plus$1101(VE_this$2611,v$2616),[0,[out_i_for_exbind$813(v$2630,v$2616,v$2627,[1]),[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$2617]]];
 break; }default: {var v$4712 = fix$6511.$elab_exbind_opt(v$2637,v$2636);
var v$4713 = v$4712[0];
var v$4714 = v$4712[1];
var t$6759 = v$4713;
var t$6758;
var t$6757;
var t$6756;
var v$5883 = [35,v$2634];
t$6756 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2627),v$5883));
t$6757 = [t$6756,[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$4714];
t$6758 = [0,t$6757];
return [t$6759,t$6758];
} };
 break; }default: {var v$4722 = fix$6511.$elab_exbind_opt(v$2637,v$2636);
var v$4723 = v$4722[0];
var v$4724 = v$4722[1];
var t$6763 = v$4723;
var t$6762;
var t$6761;
var t$6760;
var v$5887 = [35,v$2634];
t$6760 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2627),v$5887));
t$6761 = [t$6760,[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$4724];
t$6762 = [0,t$6761];
return [t$6763,t$6762];
} };
} };
};
fix$6511.$elab_exbind_opt = function(v$6448,v$2673){switch (v$2673[0]) { case 0: {var v$2682 = v$2673[1];
var v$2678 = fix$6511.$elab_exbind(v$6448,v$2682);
return [v$2678[0],[0,v$2678[1]]];
 break; }default: {return [basics$0Environments$1.empty$1052,[1]];
} };
};
var elab_exbind$814 = fix$6511.$elab_exbind;
var elab_exbind_opt$812 = fix$6511.$elab_exbind_opt;
var fix$6512 = {};
fix$6512.$elab_conbind = function(v$2488,v$2489,v$2490){var v$2443 = v$2490[1];
var v$2444 = v$2443[2];
switch (v$2444[0]) { case 0: {var v$2469 = v$2443[0];
var v$2470 = v$2443[1];
var v$2471 = v$2470[1];
var v$2472 = v$2471[0];
var v$2473 = v$2471[1];
var v$2474 = v$2444[1];
var v$2475 = v$2443[3];
var v$2466 = fix$6512.$elab_conbind_opt(v$2488,v$2489,v$2475);
var v$2467 = v$2466[0];
var v$2468 = v$2466[1];
var v$2459 = basics$0ElabDec$1.elab_ty$807(v$2488,v$2474);
var v$2460 = v$2459[0];
switch (v$2460[0]) { case 0: {var v$2463 = v$2460[1];
var v$2464 = v$2459[1];
var arrow$2462 = [null,basics$0StatObject$1.mk_Arrow$2104(v$2463,v$2489)];
var t$6747 = basics$0Environments$1.add$3708(function(v$6449){return syntax_objects$0Ident$1.eq_id$248(v$6449[0],v$6449[1]);
},v$2472,arrow$2462,v$2467);
var t$6746;
var t$6745;
var t$6744;
if (basics$0Environments$1.in_dom$3718(function(v$6450){return syntax_objects$0Ident$1.eq_id$248(v$6450[0],v$6450[1]);
},v$2472,v$2467)) {var v$6173 = [[9,v$2472],null];
var v$6174 = [24,v$6173];
t$6744 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6174));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2472)) {var v$6175 = [27,[v$2472,null]];
t$6744 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6175));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2472)) {var v$6176 = [28];
t$6744 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6176));
} else {t$6744 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2469));
};
};
};
t$6745 = [t$6744,[0,[v$2472,v$2473]],[0,v$2464],v$2468];
t$6746 = [0,t$6745];
return [t$6747,t$6746];
 break; }default: {var v$2465 = v$2459[1];
var t$6751 = v$2467;
var t$6750;
var t$6749;
var t$6748;
if (basics$0Environments$1.in_dom$3718(function(v$6451){return syntax_objects$0Ident$1.eq_id$248(v$6451[0],v$6451[1]);
},v$2472,v$2467)) {var v$6180 = [[9,v$2472],null];
var v$6181 = [24,v$6180];
t$6748 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6181));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2472)) {var v$6182 = [27,[v$2472,null]];
t$6748 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6182));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2472)) {var v$6183 = [28];
t$6748 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6183));
} else {t$6748 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2469));
};
};
};
t$6749 = [t$6748,[0,[v$2472,v$2473]],[0,v$2465],v$2468];
t$6750 = [0,t$6749];
return [t$6751,t$6750];
} };
 break; }default: {var v$2482 = v$2443[0];
var v$2483 = v$2443[1];
var v$2484 = v$2483[1];
var v$2485 = v$2484[0];
var v$2486 = v$2484[1];
var v$2487 = v$2443[3];
var v$2479 = fix$6512.$elab_conbind_opt(v$2488,v$2489,v$2487);
var v$2480 = v$2479[0];
var v$2481 = v$2479[1];
var t$6755 = basics$0Environments$1.add$3708(function(v$6452){return syntax_objects$0Ident$1.eq_id$248(v$6452[0],v$6452[1]);
},v$2485,[null,v$2489],v$2480);
var t$6754;
var t$6753;
var t$6752;
if (basics$0Environments$1.in_dom$3718(function(v$6453){return syntax_objects$0Ident$1.eq_id$248(v$6453[0],v$6453[1]);
},v$2485,v$2480)) {var v$6187 = [[9,v$2485],null];
var v$6188 = [24,v$6187];
t$6752 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6188));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2485)) {var v$6189 = [27,[v$2485,null]];
t$6752 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6189));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2485)) {var v$6190 = [28];
t$6752 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6190));
} else {t$6752 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2482));
};
};
};
t$6753 = [t$6752,[0,[v$2485,v$2486]],[1],v$2481];
t$6754 = [0,t$6753];
return [t$6755,t$6754];
} };
};
fix$6512.$elab_conbind_opt = function(v$2530,v$2531,v$2532){switch (v$2532[0]) { case 0: {var v$2529 = v$2532[1];
var v$2526 = fix$6512.$elab_conbind(v$2530,v$2531,v$2529);
return [v$2526[0],[0,v$2526[1]]];
 break; }default: {return [basics$0Environments$1.empty$3707,[1]];
} };
};
var elab_conbind$817 = fix$6512.$elab_conbind;
var elab_conbind_opt$815 = fix$6512.$elab_conbind_opt;
var fix$6513 = {};
fix$6513.$elab_datbind = function(v$2401,v$2402){var v$2395 = v$2402[1];
var v$2396 = v$2395[0];
var v$2397 = v$2395[1];
var v$2398 = v$2395[2];
var v$2399 = v$2395[3];
var v$2400 = v$2395[4];
basics$0StatObject$1.push$152(0);
var v$2392 = basics$0Environments$1.plus_U$$3237(v$2401,v$2397);
var v$2393 = v$2392[0];
var v$2394 = v$2392[1];
var tyvarsRepeated$2320 = basis$0List$1.filter$417(function(e$4758){var t$6740;
var fix$6738 = {};
fix$6738.$NoOfOccurences = function(v$6371){lab$NoOfOccurences: while (true) {if (v$6371 == null) {return 0;
} else {var v$6372 = v$6371;
var v$6373 = v$6372[0];
var v$6374 = v$6372[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(e$4758,v$6373)) {return SmlPrims.chk_ovf_i32(1 + (fix$6738.$NoOfOccurences(v$6374)));
} else {var t$6739 = v$6374;
var v$6371 = t$6739;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6370 = fix$6738.$NoOfOccurences;
t$6740 = (NoOfOccurences$6370(v$2397));
return t$6740 > 1;
},v$2397);
var tyvarsNotInTyVarList$2321 = basis$0List$1.filter$417(function(tv$2324){var t$6743;
var fix$6741 = {};
fix$6741.$member = function(v$6381){lab$member: while (true) {if (v$6381 == null) {return false;
} else {var v$6382 = v$6381;
var v$6383 = v$6382[0];
var v$6384 = v$6382[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(tv$2324,v$6383)) {return true;
} else {var t$6742 = v$6384;
var v$6381 = t$6742;
continue lab$member;
};
};
};
};
var member$6380 = fix$6741.$member;
t$6743 = (member$6380(v$2397));
return t$6743?false:true;
},basics$0PreElabDecGrammar$1$2.getExplicitTyVarsConbind$1810(v$2399));
var v$2390 = basics$0Environments$1.plus_U$$3237(v$2394,tyvarsNotInTyVarList$2321);
var v$2391 = v$2390[1];
var v$2381;
var v$2387 = (basics$0Environments$1.lookup_tycon$3421(v$2401))(v$2398);
switch (v$2387[0]) { case 0: {var v$2389 = v$2387[1];
v$2381 = (basics$0Environments$1.to_theta_and_VE$1680(v$2389));
 break; }default: {v$2381 = (tools$0Crash$1.impossible$59("ElabDec.datbind(1)"));
} };
var v$2382 = v$2381[0];
var tyname$2329;
var v$2334 = basics$0StatObject$1.to_TyName$4079(v$2382);
switch (v$2334[0]) { case 0: {tyname$2329 = v$2334[1];
 break; }default: {tyname$2329 = (tools$0Crash$1.impossible$59("ElabDec.datbind(2)"));
} };
var tau_list$2337 = basis$0List$1.map$697(function(v$6483){return basics$0StatObject$1.from_TyVar$1518(v$6483);
},v$2393);
var tau$2338 = basics$0StatObject$1.mk_ConsType$2059(tau_list$2337,tyname$2329);
var v$2378 = elab_conbind$817(v$2391,tau$2338,v$2399);
var v$2379 = v$2378[0];
var v$2380 = v$2378[1];
basics$0StatObject$1.pop$155(0);
var VE$2342 = basics$0Environments$1.to_VE$3725(v$2379);
var VE_closed$2343 = basics$0Environments$1.close$1400(VE$2342);
var tystr$2344 = basics$0Environments$1.from_theta_and_VE$1671(basics$0StatObject$1.from_TyName$4059(tyname$2329),VE_closed$2343);
var v$2373 = fix$6513.$elab_datbind_opt(v$2401,v$2400);
var v$2374 = v$2373[0];
var v$2375 = v$2374[0];
var v$2376 = v$2374[1];
var v$2377 = v$2373[1];
var out_i$2349;
if (syntax_objects$0TyCon$1.is_$true$_$nil$_etc$171(v$2398)) {var v$5907 = [27,null];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5907));
} else {if (syntax_objects$0TyCon$1.is_$it$$188(v$2398)) {var v$5909 = [28];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5909));
} else {if (((tyvarsNotInTyVarList$2321 == null)?true:false)?false:true) {var v$5911 = [15,basis$0List$1.map$697(function(v$6484){return syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$6484);
},tyvarsNotInTyVarList$2321)];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5911));
} else {var repeated_ids_errorinfos$2362 = basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2363){return [0,v$2363];
},basis$0List$1.map$697(function(v$6485){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6485);
},tyvarsRepeated$2320)),basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2364){return [6,v$2364];
},edlib$0EqSet$1.list$107(edlib$0EqSet$1.intersect$238(function(v$6454){return syntax_objects$0Ident$1.eq_id$248(v$6454[0],v$6454[1]);
},basics$0Environments$1.dom$1166(v$2375),basics$0Environments$1.dom$1166(VE$2342)))),(edlib$0EqSet$1.member$128(function(v$6455){return syntax_objects$0TyCon$1.eq_tycon$229(v$6455[0],v$6455[1]);
},v$2398,basics$0Environments$1.dom$1816(v$2376)))?[[1,v$2398],null]:null));
if (repeated_ids_errorinfos$2362 == null) {out_i$2349 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2396));
} else {var v$5915 = [24,repeated_ids_errorinfos$2362];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5915));
};
};
};
};
return [[basics$0Environments$1.plus$1101(VE_closed$2343,v$2375),basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2398,tystr$2344]),v$2376)],[0,[out_i$2349,v$2397,v$2398,v$2380,v$2377]]];
};
fix$6513.$elab_datbind_opt = function(v$2423,v$2424){switch (v$2424[0]) { case 0: {var v$2422 = v$2424[1];
var v$2417 = fix$6513.$elab_datbind(v$2423,v$2422);
var v$2418 = v$2417[0];
return [[v$2418[0],v$2418[1]],[0,v$2417[1]]];
 break; }default: {return [[basics$0Environments$1.empty$1052,basics$0Environments$1.empty$1786],[1]];
} };
};
var elab_datbind$819 = fix$6513.$elab_datbind;
var elab_datbind_opt$818 = fix$6513.$elab_datbind_opt;
var fix$6514 = {};
fix$6514.$elab_typbind = function(v$2285,v$2286){var v$2279 = v$2286[1];
var v$2280 = v$2279[0];
var v$2281 = v$2279[1];
var v$2282 = v$2279[2];
var v$2283 = v$2279[3];
var v$2284 = v$2279[4];
basics$0StatObject$1.push$152(0);
var v$2276 = basics$0Environments$1.plus_U$$3237(v$2285,v$2281);
var v$2277 = v$2276[0];
var v$2278 = v$2276[1];
var tyvarsRepeated$2232 = basis$0List$1.filter$417(function(e$4819){var t$6722;
var fix$6720 = {};
fix$6720.$NoOfOccurences = function(v$6387){lab$NoOfOccurences: while (true) {if (v$6387 == null) {return 0;
} else {var v$6388 = v$6387;
var v$6389 = v$6388[0];
var v$6390 = v$6388[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(e$4819,v$6389)) {return SmlPrims.chk_ovf_i32(1 + (fix$6720.$NoOfOccurences(v$6390)));
} else {var t$6721 = v$6390;
var v$6387 = t$6721;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6386 = fix$6720.$NoOfOccurences;
t$6722 = (NoOfOccurences$6386(v$2281));
return t$6722 > 1;
},v$2281);
var tyvarsNotInTyVarList$2233 = basis$0List$1.filter$417(function(tv$2236){var t$6725;
var fix$6723 = {};
fix$6723.$member = function(v$6397){lab$member: while (true) {if (v$6397 == null) {return false;
} else {var v$6398 = v$6397;
var v$6399 = v$6398[0];
var v$6400 = v$6398[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(tv$2236,v$6399)) {return true;
} else {var t$6724 = v$6400;
var v$6397 = t$6724;
continue lab$member;
};
};
};
};
var member$6396 = fix$6723.$member;
t$6725 = (member$6396(v$2281));
return t$6725?false:true;
},basics$0PreElabDecGrammar$1$2.getExplicitTyVarsTy$1806(v$2283));
var v$2243 = basics$0ElabDec$1.elab_ty$807(v$2278,v$2283);
var v$2244 = v$2243[0];
switch (v$2244[0]) { case 0: {var v$2267 = v$2244[1];
var v$2268 = v$2243[1];
basics$0StatObject$1.pop$155(0);
var typeFcn$2246 = basics$0StatObject$1.from_TyVars_and_Type$3984(v$2277,v$2267);
var tystr$2247 = basics$0Environments$1.from_theta_and_VE$1671(typeFcn$2246,basics$0Environments$1.empty$1052);
var v$2264 = fix$6514.$elab_typbind_opt(v$2285,v$2284);
var v$2265 = v$2264[0];
var v$2266 = v$2264[1];
if (((tyvarsNotInTyVarList$2233 == null)?true:false)?false:true) {var t$6729 = v$2265;
var t$6728;
var t$6727;
var t$6726;
var v$5923 = [15,basis$0List$1.map$697(function(v$6486){return syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$6486);
},tyvarsNotInTyVarList$2233)];
t$6726 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5923));
t$6727 = [t$6726,v$2281,v$2282,v$2268,v$2266];
t$6728 = [0,t$6727];
return [t$6729,t$6728];
} else {if (edlib$0EqSet$1.member$128(function(v$6456){return syntax_objects$0TyCon$1.eq_tycon$229(v$6456[0],v$6456[1]);
},v$2282,basics$0Environments$1.dom$1816(v$2265))) {var t$6733 = basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2282,tystr$2247]),v$2265);
var t$6732;
var t$6731;
var t$6730;
var v$5925 = [[1,v$2282],null];
var v$5927 = [24,v$5925];
t$6730 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5927));
t$6731 = [t$6730,v$2281,v$2282,v$2268,v$2266];
t$6732 = [0,t$6731];
return [t$6733,t$6732];
} else {if (tyvarsRepeated$2232 == null) {return [basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2282,tystr$2247]),v$2265),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$2281,v$2282,v$2268,v$2266]]];
} else {var t$6737 = v$2265;
var t$6736;
var t$6735;
var t$6734;
var v$5929 = basis$0List$1.map$697(function(v$2263){return [0,v$2263];
},basis$0List$1.map$697(function(v$6487){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6487);
},tyvarsRepeated$2232));
var v$5931 = [24,v$5929];
t$6734 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5931));
t$6735 = [t$6734,v$2281,v$2282,v$2268,v$2266];
t$6736 = [0,t$6735];
return [t$6737,t$6736];
};
};
};
 break; }default: {var v$2275 = v$2243[1];
basics$0StatObject$1.pop$155(0);
var v$2272 = fix$6514.$elab_typbind_opt(v$2285,v$2284);
var v$2273 = v$2272[0];
var v$2274 = v$2272[1];
return [v$2273,[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$2281,v$2282,v$2275,v$2274]]];
} };
};
fix$6514.$elab_typbind_opt = function(v$2304,v$2305){switch (v$2305[0]) { case 0: {var v$2303 = v$2305[1];
var v$2300 = fix$6514.$elab_typbind(v$2304,v$2303);
return [v$2300[0],[0,v$2300[1]]];
 break; }default: {return [basics$0Environments$1.empty$1786,[1]];
} };
};
var elab_typbind$821 = fix$6514.$elab_typbind;
var elab_typbind_opt$820 = fix$6514.$elab_typbind_opt;
var fix$6515 = {};
fix$6515.$elab_exprow = function(v$1072,v$1073){var v$1034 = v$1073[1];
var v$1035 = v$1034[3];
switch (v$1035[0]) { case 1: {var v$1045 = v$1034[0];
var v$1046 = v$1034[1];
var v$1047 = v$1034[2];
var v$1041 = fix$6515.$elab_exp(v$1072,v$1047);
var v$1042 = v$1041[0];
var v$1043 = v$1041[1];
var v$1044 = v$1041[2];
return [v$1042,(basics$0StatObject$1.add_field$1695(v$1046,v$1043))(basics$0StatObject$1.empty$1611),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1045),v$1046,v$1044,[1]]]];
 break; }default: {var v$1068 = v$1034[0];
var v$1069 = v$1034[1];
var v$1070 = v$1034[2];
var v$1071 = v$1035[1];
var v$1064 = fix$6515.$elab_exp(v$1072,v$1070);
var v$1066 = v$1064[1];
var v$1067 = v$1064[2];
var v$1060 = fix$6515.$elab_exprow(v$1072,v$1071);
var v$1061 = v$1060[0];
var v$1062 = v$1060[1];
var v$1063 = v$1060[2];
var t$6719;
var fix$6717 = {};
fix$6717.$member = function(v$6429){lab$member: while (true) {if (v$6429 == null) {return false;
} else {var v$6430 = v$6429;
var v$6431 = v$6430[0];
var v$6432 = v$6430[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$1069,v$6431)) {return true;
} else {var t$6718 = v$6432;
var v$6429 = t$6718;
continue lab$member;
};
};
};
};
var member$6428 = fix$6717.$member;
t$6719 = (member$6428(basics$0StatObject$1.sorted_labs$1754(v$1062)));
if (t$6719) {var t$6716 = v$1061;
var t$6715 = v$1062;
var t$6714;
var t$6713;
var t$6712;
var v$6052 = [[5,v$1069],null];
var v$6054 = [24,v$6052];
t$6712 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1068),v$6054));
t$6713 = [t$6712,v$1069,v$1067,[0,v$1063]];
t$6714 = [0,t$6713];
return [t$6716,t$6715,t$6714];
} else {return [0,(basics$0StatObject$1.add_field$1695(v$1069,basics$0StatObject$1.on$854(v$1061,v$1066)))(v$1062),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1068),v$1069,v$1067,[0,v$1063]]]];
};
} };
};
fix$6515.$elab_decs = function(v$1760,v$1761){switch (v$1761[0]) { case 3: {var v$1746 = v$1761[1];
var v$1747 = v$1746[0];
var v$1748 = v$1746[1];
var v$1749 = v$1746[2];
var v$1740 = fix$6515.$elab_decs(v$1760,v$1748);
var v$1742 = v$1740[1];
var v$1743 = v$1740[2];
var v$1744 = v$1740[3];
var v$1745 = v$1740[4];
var v$1735 = fix$6515.$elab_dec(v$1744,v$1749);
var v$1736 = v$1735[0];
var v$1737 = v$1735[1];
var v$1738 = v$1735[2];
var v$1739 = v$1735[3];
var E1$$1734 = basics$0Environments$1.on$2579(v$1736,v$1743);
return [0,basis$0List$1.s$n$686(v$1742,v$1737),basics$0Environments$1.plus$2441(E1$$1734,v$1738),basics$0Environments$1.plus_E$3334(v$1744,v$1738),[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$1747),v$1745,v$1739]]];
 break; }default: {var v$1755 = fix$6515.$elab_dec(v$1760,v$1761);
var v$1756 = v$1755[0];
var v$1757 = v$1755[1];
var v$1758 = v$1755[2];
var v$1759 = v$1755[3];
return [v$1756,v$1757,v$1758,basics$0Environments$1.plus_E$3334(v$1760,v$1758),v$1759];
} };
};
fix$6515.$elab_dec = function(v$1708,v$1709){switch (v$1709[0]) { case 0: {var v$1671 = v$1709[1];
var v$1672 = v$1671[0];
var v$1673 = v$1671[1];
var v$1674 = v$1671[2];
var U$1649;
var v$5986;
var v$5987 = basics$0Environments$1.unguarded_valbind$560(v$1674);
var v$5988 = basics$0Environments$1.to_U$3279(v$1708);
v$5986 = (basis$0List$1.filter$417(function(x$5028){var t$6676;
var fix$6674 = {};
fix$6674.$member = function(v$6403){lab$member: while (true) {if (v$6403 == null) {return false;
} else {var v$6404 = v$6403;
var v$6405 = v$6404[0];
var v$6406 = v$6404[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5028,v$6405)) {return true;
} else {var t$6675 = v$6406;
var v$6403 = t$6675;
continue lab$member;
};
};
};
};
var member$6402 = fix$6674.$member;
t$6676 = (member$6402(v$5988));
return t$6676?false:true;
},v$5987));
U$1649 = (basis$0List$1.s$n$686(v$1673,basis$0List$1.filter$417(function(x$5010){var t$6679;
var fix$6677 = {};
fix$6677.$member = function(v$6409){lab$member: while (true) {if (v$6409 == null) {return false;
} else {var v$6410 = v$6409;
var v$6411 = v$6410[0];
var v$6412 = v$6410[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5010,v$6411)) {return true;
} else {var t$6678 = v$6412;
var v$6409 = t$6678;
continue lab$member;
};
};
};
};
var member$6408 = fix$6677.$member;
t$6679 = (member$6408(v$1673));
return t$6679?false:true;
},v$5986)));
basics$0StatObject$1.push$152(0);
var v$1662;
try {v$1662 = (fix$6515.$elab_valbind((basics$0Environments$1.plus_U$$3237(v$1708,U$1649))[1],v$1674));
} catch(v$6680) {v$1662 = ((function(E$1668){basics$0StatObject$1.pop$155(0);
throw E$1668;
})(v$6680));
};
var v$1663 = v$1662[0];
var v$1664 = v$1662[1];
var v$1665 = v$1662[2];
basics$0StatObject$1.pop$155(0);
var VE$$1654 = basics$0Environments$1.close$3550(v$1708,v$1674,v$1664);
var out_i$1655;
var v$1660;
var v$5998 = basics$0Environments$1.to_U$3279(v$1708);
v$1660 = (basis$0List$1.filter$417(function(x$5048){var fix$6681 = {};
fix$6681.$member = function(v$6415){lab$member: while (true) {if (v$6415 == null) {return false;
} else {var v$6416 = v$6415;
var v$6417 = v$6416[0];
var v$6418 = v$6416[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5048,v$6417)) {return true;
} else {var t$6682 = v$6418;
var v$6415 = t$6682;
continue lab$member;
};
};
};
};
var member$6414 = fix$6681.$member;
return member$6414(v$1673);
},v$5998));
if (v$1660 == null) {out_i$1655 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1672));
} else {var v$6004 = [14,basis$0List$1.map$697(function(v$6490){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6490);
},v$1660)];
out_i$1655 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1672),v$6004));
};
var out_valbind$1661;
var generic_tyvars_pat$5068 = [null];
var fix$6683 = {};
fix$6683.$do_atpat = function(atpat$5112){switch (atpat$5112[0]) { case 0: {return atpat$5112;
 break; }case 1: {return atpat$5112;
 break; }case 4: {var v$5113 = atpat$5112[1];
var v$5114 = v$5113[0];
var v$5115 = v$5113[1];
var v$5116 = v$5115[1];
var v$5117 = v$5116[0];
var v$5118 = v$5113[2];
var t$6701;
var t$6700;
var v$5119 = syntax_objects$0Ident$1.decompose$96(v$5117);
if (v$5119[0] == null) {var v$5120 = v$5119[1];
var v$5121 = basics$0Environments$1.lookup$1132(VE$$1654,v$5120);
switch (v$5121[0]) { case 0: {var v$5122 = v$5121[1];
switch (v$5122[0]) { case 0: {var v$5123 = v$5122[1];
var v$5124 = v$5123[0];
var v$5125 = v$5123[1];
(generic_tyvars_pat$5068[0] = (basics$0StatObject$1.unionTyVarSet$788(generic_tyvars_pat$5068[0],v$5124)),0);
t$6700 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5114,[0,[v$5125,v$5124]]));
 break; }default: {t$6700 = v$5114;
} };
 break; }default: {t$6700 = v$5114;
} };
} else {t$6700 = v$5114;
};
t$6701 = [t$6700,v$5115,v$5118];
return [4,t$6701];
 break; }case 2: {var v$5128 = atpat$5112[1];
var v$5129 = v$5128[0];
var v$5130 = v$5128[1];
var t$6699;
var t$6698 = v$5129;
var t$6697;
switch (v$5130[0]) { case 0: {var v$5136 = v$5130[1];
t$6697 = [0,fix$6683.$do_patrow(v$5136)];
 break; }default: {t$6697 = [1];
} };
t$6699 = [t$6698,t$6697];
return [2,t$6699];
 break; }default: {var v$5137 = atpat$5112[1];
var v$5138 = v$5137[0];
var v$5139 = v$5137[1];
return [3,[v$5138,fix$6683.$do_pat(v$5139)]];
} };
};
fix$6683.$do_pat = function(pat$5084){switch (pat$5084[0]) { case 4: {var v$5085 = pat$5084[1];
var v$5086 = v$5085[0];
var v$5087 = v$5085[1];
return [4,[v$5086,fix$6683.$do_atpat(v$5087)]];
 break; }case 3: {var v$5088 = pat$5084[1];
var v$5089 = v$5088[0];
var v$5090 = v$5088[1];
var v$5091 = v$5088[2];
return [3,[v$5089,v$5090,fix$6683.$do_atpat(v$5091)]];
 break; }case 1: {var v$5092 = pat$5084[1];
var v$5093 = v$5092[0];
var v$5094 = v$5092[1];
var v$5095 = v$5092[2];
return [1,[v$5093,fix$6683.$do_pat(v$5094),v$5095]];
 break; }case 2: {var v$5096 = pat$5084[1];
var v$5097 = v$5096[0];
var v$5098 = v$5096[1];
var v$5099 = v$5098[1];
var v$5100 = v$5099[0];
var v$5101 = v$5096[2];
var v$5102 = v$5096[3];
var t$6696;
var t$6695;
var v$5103 = basics$0Environments$1.lookup$1132(VE$$1654,v$5100);
switch (v$5103[0]) { case 0: {var v$5104 = v$5103[1];
switch (v$5104[0]) { case 0: {var v$5105 = v$5104[1];
var v$5106 = v$5105[0];
var v$5107 = v$5105[1];
(generic_tyvars_pat$5068[0] = (basics$0StatObject$1.unionTyVarSet$788(generic_tyvars_pat$5068[0],v$5106)),0);
t$6695 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5097,[0,[v$5107,v$5106]]));
 break; }default: {t$6695 = v$5097;
} };
 break; }default: {t$6695 = v$5097;
} };
t$6696 = [t$6695,v$5098,v$5101,fix$6683.$do_pat(v$5102)];
return [2,t$6696];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.do_pat(UNRES_INFIX)");
} };
};
fix$6683.$do_patrow = function(patrow$5072){switch (patrow$5072[0]) { case 1: {return patrow$5072;
 break; }default: {var v$5073 = patrow$5072[1];
var v$5074 = v$5073[0];
var v$5075 = v$5073[1];
var v$5076 = v$5073[2];
var v$5077 = v$5073[3];
var t$6694;
var t$6693 = v$5074;
var t$6692 = v$5075;
var t$6691 = fix$6683.$do_pat(v$5076);
var t$6690;
switch (v$5077[0]) { case 0: {var v$5083 = v$5077[1];
t$6690 = [0,fix$6683.$do_patrow(v$5083)];
 break; }default: {t$6690 = [1];
} };
t$6694 = [t$6693,t$6692,t$6691,t$6690];
return [0,t$6694];
} };
};
var do_atpat$5071 = fix$6683.$do_atpat;
var do_pat$5070 = fix$6683.$do_pat;
var do_patrow$5069 = fix$6683.$do_patrow;
var fix$6684 = {};
fix$6684.$do_valbind = function(vb$5141){switch (vb$5141[0]) { case 1: {var v$5142 = vb$5141[1];
var v$5143 = v$5142[0];
var v$5144 = v$5142[1];
var v$5145 = v$5142[2];
var v$5146 = v$5142[3];
(generic_tyvars_pat$5068[0] = null,0);
var pat$5148 = do_pat$5070(v$5144);
var t$6689;
var t$6688;
var v$5149 = basics$0ElabInfo$1.to_TypeInfo$202(v$5143);
switch (v$5149[0]) { case 0: {var v$5150 = v$5149[1];
switch (v$5150[0]) { case 6: {var v$5151 = v$5150[1];
if (v$5151[1] == null) {var v$5152 = v$5151[0];
t$6688 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5143,[6,[v$5152,generic_tyvars_pat$5068[0]]]));
} else {t$6688 = v$5143;
};
 break; }default: {t$6688 = v$5143;
} };
 break; }default: {t$6688 = v$5143;
} };
var t$6687 = pat$5148;
var t$6686 = v$5145;
var t$6685;
switch (v$5146[0]) { case 0: {var v$5153 = v$5146[1];
t$6685 = [0,fix$6684.$do_valbind(v$5153)];
 break; }default: {t$6685 = [1];
} };
t$6689 = [t$6688,t$6687,t$6686,t$6685];
return [1,t$6689];
 break; }default: {var v$5154 = vb$5141[1];
var v$5155 = v$5154[0];
var v$5156 = v$5154[1];
return [0,[v$5155,fix$6684.$do_valbind(v$5156)]];
} };
};
var do_valbind$5140 = fix$6684.$do_valbind;
out_valbind$1661 = (do_valbind$5140(v$1665));
return [v$1663,null,basics$0Environments$1.from_VE$2390(VE$$1654),[0,[out_i$1655,v$1673,out_valbind$1661]]];
 break; }case 1: {return tools$0Crash$1.impossible$59("ElabDec.elab_dec(UNRES_FUN)");
 break; }case 2: {var v$1644 = v$1709[1];
var v$1645 = v$1644[0];
var v$1646 = v$1644[1];
var v$1641 = elab_typbind$821(v$1708,v$1646);
var v$1642 = v$1641[0];
var v$1643 = v$1641[1];
var t$6673 = basics$0StatObject$1.Id$845;
var t$6672 = null;
var t$6671 = basics$0Environments$1.from_TE$2407(v$1642);
var t$6670;
var t$6669;
var t$6668;
var v$6021 = basics$0ElabInfo$1.from_ParseInfo$231(v$1645);
t$6668 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6021,[2,v$1642]));
t$6669 = [t$6668,v$1643];
t$6670 = [2,t$6669];
return [t$6673,t$6672,t$6671,t$6670];
 break; }case 12: {var v$1634 = v$1709[1];
var v$1635 = v$1634[0];
var v$1636 = v$1634[1];
var TE$1604 = initial_TE$529(v$1636);
var v$1629 = elab_datbind$819(basics$0Environments$1.plus_TE$3350(v$1708,TE$1604),v$1636);
var v$1630 = v$1629[0];
var v$1631 = v$1630[0];
var v$1632 = v$1630[1];
var v$1633 = v$1629[1];
var v$1626 = basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(v$1631,v$1632);
var v$1627 = v$1626[0];
var v$1628 = v$1626[1];
var t$6667 = basics$0StatObject$1.Id$845;
var t$6666 = basics$0Environments$1.fold$1838(function(tystr$1615){return function(T$1618){var v$1623 = basics$0StatObject$1.to_TyName$4079(basics$0Environments$1.to_theta$1691(tystr$1615));
switch (v$1623[0]) { case 0: {return [v$1623[1],T$1618];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_dec(DATATYPEdec)");
} };
};
},null,v$1628);
var t$6665 = basics$0Environments$1.from_VE_and_TE$2379(v$1627,v$1628);
var t$6664;
var t$6663;
var t$6662;
var v$6025 = basics$0ElabInfo$1.from_ParseInfo$231(v$1635);
t$6662 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6025,[2,v$1628]));
t$6663 = [t$6662,v$1633];
t$6664 = [12,t$6663];
return [t$6667,t$6666,t$6665,t$6664];
 break; }case 13: {var v$1599 = v$1709[1];
var v$1600 = v$1599[0];
var v$1601 = v$1599[1];
var v$1602 = v$1599[2];
var v$1589 = (basics$0Environments$1.lookup_longtycon$3419(v$1708))(v$1602);
switch (v$1589[0]) { case 0: {var v$1598 = v$1589[1];
var TE$1591 = basics$0Environments$1.singleton$1788([v$1601,v$1598]);
var v$1595 = basics$0Environments$1.to_theta_and_VE$1680(v$1598);
var v$1597 = v$1595[1];
var t$6655 = basics$0StatObject$1.Id$845;
var t$6654 = null;
var t$6653 = basics$0Environments$1.from_VE_and_TE$2379(v$1597,TE$1591);
var t$6652;
var t$6651;
var t$6650;
var v$6027 = basics$0ElabInfo$1.from_ParseInfo$231(v$1600);
t$6650 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6027,[2,TE$1591]));
t$6651 = [t$6650,v$1601,v$1602];
t$6652 = [13,t$6651];
return [t$6655,t$6654,t$6653,t$6652];
 break; }default: {var t$6661 = basics$0StatObject$1.Id$845;
var t$6660 = null;
var t$6659 = basics$0Environments$1.empty$2601;
var t$6658;
var t$6657;
var t$6656;
var v$6032 = [33,v$1602];
t$6656 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1600),v$6032));
t$6657 = [t$6656,v$1601,v$1602];
t$6658 = [13,t$6657];
return [t$6661,t$6660,t$6659,t$6658];
} };
 break; }case 14: {var v$1580 = v$1709[1];
var v$1581 = v$1580[0];
var v$1582 = v$1580[1];
var v$1583 = v$1580[2];
var TE$1545 = initial_TE$529(v$1582);
var v$1575 = elab_datbind$819(basics$0Environments$1.plus_TE$3350(v$1708,TE$1545),v$1582);
var v$1576 = v$1575[0];
var v$1577 = v$1576[0];
var v$1578 = v$1576[1];
var v$1579 = v$1575[1];
var v$1572 = basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(v$1577,v$1578);
var v$1573 = v$1572[0];
var v$1574 = v$1572[1];
var v$1567;
var t$6649 = fix$6515.$elab_dec;
var t$6648;
var v$6476 = [v$1573,v$1574];
t$6648 = (basics$0Environments$1.plus_VE_and_TE$3357(v$1708,v$6476));
v$1567 = (t$6649(t$6648,v$1583));
var v$1568 = v$1567[0];
var v$1569 = v$1567[1];
var v$1570 = v$1567[2];
var v$1571 = v$1567[3];
var v$1563 = basics$0Environments$1.ABS$3877(v$1574,v$1570);
var v$1564 = v$1563[0];
var v$1565 = v$1563[1];
var v$1566 = v$1563[2];
var out_i$1562;
var v$6033 = basics$0ElabInfo$1.from_ParseInfo$231(v$1581);
out_i$1562 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6033,[19,[v$1574,v$1566]]));
return [v$1568,basis$0List$1.s$n$686(v$1569,v$1564),v$1565,[14,[out_i$1562,v$1579,v$1571]]];
 break; }case 10: {var v$1541 = v$1709[1];
var v$1542 = v$1541[0];
var v$1543 = v$1541[1];
var v$1538 = elab_exbind$814(v$1708,v$1543);
var v$1539 = v$1538[0];
var v$1540 = v$1538[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(v$1539),[10,[basics$0ElabInfo$1.from_ParseInfo$231(v$1542),v$1540]]];
 break; }case 7: {var v$1530 = v$1709[1];
var v$1531 = v$1530[0];
var v$1532 = v$1530[1];
var v$1533 = v$1530[2];
var v$1525 = fix$6515.$elab_dec(v$1708,v$1532);
var v$1527 = v$1525[1];
var v$1528 = v$1525[2];
var v$1529 = v$1525[3];
var v$1520 = fix$6515.$elab_dec(basics$0Environments$1.plus_E$3334(v$1708,v$1528),v$1533);
var v$1522 = v$1520[1];
var v$1523 = v$1520[2];
var v$1524 = v$1520[3];
return [0,basis$0List$1.s$n$686(v$1527,v$1522),v$1523,[7,[basics$0ElabInfo$1.from_ParseInfo$231(v$1531),v$1529,v$1524]]];
 break; }case 5: {var v$1506 = v$1709[1];
var v$1507 = v$1506[0];
var v$1508 = v$1506[1];
var fix$6637 = {};
fix$6637.$process = function(v$1489,v$1490){if (v$1490 == null) {return [basics$0Environments$1.empty$2601,null];
} else {var v$1483 = v$1490;
var v$1484 = v$1483[0];
var v$1485 = v$1484[1];
var v$1486 = v$1485[0];
var v$1487 = v$1485[1];
var v$1488 = v$1483[1];
var v$1467 = (basics$0Environments$1.lookup_longstrid$3420(v$1708))(v$1487);
switch (v$1467[0]) { case 0: {var v$1475 = v$1467[1];
var v$1472 = fix$6637.$process(v$1489,v$1488);
var v$1473 = v$1472[0];
var v$1474 = v$1472[1];
return [basics$0Environments$1.plus$2441(v$1475,v$1473),[[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1486),v$1487]],v$1474]];
 break; }default: {var v$1480 = fix$6637.$process(v$1489,v$1488);
var v$1481 = v$1480[0];
var v$1482 = v$1480[1];
var ei$1479 = [34,v$1487];
return [v$1481,[[0,[basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1486),ei$1479),v$1487]],v$1482]];
} };
};
};
var process$1450 = fix$6637.$process;
var v$1503 = process$1450(basics$0Environments$1.empty$2601,v$1508);
var v$1504 = v$1503[0];
var v$1505 = v$1503[1];
var t$6647 = basics$0StatObject$1.Id$845;
var t$6646 = null;
var t$6645 = v$1504;
var t$6644;
var t$6643;
var t$6642;
var t$6641 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6640 = basics$0ElabInfo$1.from_ParseInfo$231(v$1507);
var t$6639;
var t$6638;
var v$1499 = basics$0Environments$1.un$2351(v$1504);
var v$1500 = v$1499[0];
var v$1501 = v$1499[1];
var v$1502 = v$1499[2];
t$6638 = [edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$1500)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$1501)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$1502))];
t$6639 = [7,t$6638];
t$6642 = (t$6641(t$6640,t$6639));
t$6643 = [t$6642,v$1505];
t$6644 = [5,t$6643];
return [t$6647,t$6646,t$6645,t$6644];
 break; }case 8: {var v$1445 = v$1709[1];
var v$1446 = v$1445[0];
var v$1447 = v$1445[1];
var v$1448 = v$1445[2];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[8,[basics$0ElabInfo$1.from_ParseInfo$231(v$1446),v$1447,v$1448]]];
 break; }case 9: {var v$1440 = v$1709[1];
var v$1441 = v$1440[0];
var v$1442 = v$1440[1];
var v$1443 = v$1440[2];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[9,[basics$0ElabInfo$1.from_ParseInfo$231(v$1441),v$1442,v$1443]]];
 break; }case 6: {var v$1436 = v$1709[1];
var v$1437 = v$1436[0];
var v$1438 = v$1436[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[6,[basics$0ElabInfo$1.from_ParseInfo$231(v$1437),v$1438]]];
 break; }case 11: {var v$1434 = v$1709[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[11,basics$0ElabInfo$1.from_ParseInfo$231(v$1434)]];
 break; }case 3: {var v$1423 = fix$6515.$elab_decs(v$1708,v$1709);
return [v$1423[0],v$1423[1],v$1423[2],v$1423[4]];
 break; }default: {var v$1703 = v$1709[1];
var v$1704 = v$1703[0];
var v$1705 = v$1703[1];
var v$1706 = v$1705[0];
var v$1707 = v$1705[1];
var i2$$1675 = basics$0ElabInfo$1.from_ParseInfo$231(v$1706);
var i$$1676;
var v$1681 = basis$0List$1.filter$417(function(e$5201){var t$6704;
var fix$6702 = {};
fix$6702.$NoOfOccurences = function(v$6421){lab$NoOfOccurences: while (true) {if (v$6421 == null) {return 0;
} else {var v$6422 = v$6421;
var v$6423 = v$6422[0];
var v$6424 = v$6422[1];
if (e$5201[1] == v$6423[1]) {return SmlPrims.chk_ovf_i32(1 + (fix$6702.$NoOfOccurences(v$6424)));
} else {var t$6703 = v$6424;
var v$6421 = t$6703;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6420 = fix$6702.$NoOfOccurences;
t$6704 = (NoOfOccurences$6420(v$1707));
return t$6704 > 1;
},v$1707);
if (v$1681 == null) {i$$1676 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1704));
} else {var v$6040 = basis$0List$1.map$697(function(v$1682){return [4,v$1682];
},v$1681);
var v$6042 = [24,v$6040];
i$$1676 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1706),v$6042));
};
var i$$1683;
var rs_env$1684 = basics$0Environments$1.to_R$3291(v$1708);
var dups$1685;
var fix$6705 = {};
fix$6705.$foldl = function(v$5219,v$5220){lab$foldl: while (true) {if (v$5220 == null) {return v$5219;
} else {var v$5221 = v$5220;
var v$5222 = v$5221[0];
var v$5223 = v$5221[1];
var t$6709;
var t$6708;
var fix$6706 = {};
fix$6706.$exists = function(v$5239){lab$exists: while (true) {if (v$5239 == null) {return false;
} else {var v$5240 = v$5239;
var v$5241 = v$5240[0];
var v$5242 = v$5240[1];
if (v$5241[1] == v$5222[1]) {return true;
} else {var t$6707 = v$5242;
var v$5239 = t$6707;
continue lab$exists;
};
};
};
};
var exists$5238 = fix$6706.$exists;
t$6708 = (exists$5238(rs_env$1684));
t$6709 = (t$6708?[v$5222,v$5219]:v$5219);
var t$6710 = t$6709;
var t$6711 = v$5223;
var v$5219 = t$6710;
var v$5220 = t$6711;
continue lab$foldl;
};
};
};
var foldl$5218 = fix$6705.$foldl;
var v$6463 = null;
dups$1685 = (foldl$5218(v$6463,v$1707));
i$$1683 = ((dups$1685 == null)?i$$1676:(basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1676,[25,dups$1685])));
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_R$2366(v$1707),[4,[i$$1683,[i2$$1675,v$1707]]]];
} };
};
fix$6515.$elab_atexp = function(v$1017,v$1018){switch (v$1018[0]) { case 0: {var v$1002 = v$1018[1];
var v$1003 = v$1002[0];
var v$1004 = v$1002[1];
var v$1005 = v$1002[2];
var v$999 = basics$0StatObject$1.of_scon$2232(v$1004);
var v$1000 = v$999[1];
var v$1001 = v$999[0];
var i_out$984;
switch (v$1001[0]) { case 1: {i_out$984 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1003));
 break; }default: {var v$990 = v$1001[1];
var v$5969 = [0,v$990];
i_out$984 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$1003),v$5969));
} };
return [basics$0StatObject$1.Id$845,v$1000,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(i_out$984,[14,[v$1000]]),v$1004,basis$0Option$1.map$69(function(v$996){var v$997 = v$996[0];
var v$998 = v$996[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$997),v$998];
},v$1005)]]];
 break; }case 4: {var v$973 = v$1018[1];
var v$974 = v$973[0];
var v$975 = v$973[1];
var v$976 = v$975[1];
var v$977 = v$976[0];
var v$978 = v$976[1];
var v$979 = v$973[2];
var regvars_opt$924 = basis$0Option$1.map$69(function(v$928){var v$929 = v$928[0];
var v$930 = v$928[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$929),v$930];
},v$979);
var v$941 = (basics$0Environments$1.lookup_longid$3417(v$1017))(v$977);
switch (v$941[0]) { case 0: {var v$943 = v$941[1];
switch (v$943[0]) { case 0: {var v$971 = v$943[1];
var v$968 = basics$0StatObject$1.instance$$3693(v$971);
var v$969 = v$968[0];
var v$970 = v$968[1];
var t$6626 = basics$0StatObject$1.Id$845;
var t$6625 = v$969;
var t$6624;
var t$6623;
var t$6622;
var v$5972;
var v$962 = basis$0List$1.filter$417(function(v$6489){return basics$0StatObject$1.is_overloaded$556(v$6489);
},basics$0StatObject$1.tyvars$1921(v$969));
if (v$962 == null) {v$5972 = (basics$0ElabInfo$1.from_ParseInfo$231(v$974));
} else {var v$964 = v$962;
if (v$964[1] == null) {var v$966 = v$964[0];
var v$5975 = [0,v$966];
v$5972 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$5975));
} else {v$5972 = (basics$0ElabInfo$1.from_ParseInfo$231(v$974));
};
};
t$6622 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5972,[1,[v$970]]));
t$6623 = [t$6622,[0,[v$977,v$978]],regvars_opt$924];
t$6624 = [4,t$6623];
return [t$6626,t$6625,t$6624];
 break; }case 2: {var v$951 = v$943[1];
var v$948 = basics$0StatObject$1.instance$$3693(v$951);
var v$949 = v$948[0];
var v$950 = v$948[1];
return [basics$0StatObject$1.Id$845,v$949,[4,[addTypeInfo_CON$351(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$1017,v$950,v$977),[0,[v$977,v$978]],regvars_opt$924]]];
 break; }default: {var v$972 = v$943[1];
var t$6631 = basics$0StatObject$1.Id$845;
var t$6630 = v$972;
var t$6629;
var t$6628;
var t$6627;
var v$5976 = basics$0ElabInfo$1.from_ParseInfo$231(v$974);
t$6627 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5976,[15,[v$972,v$977]]));
t$6628 = [t$6627,[0,[v$977,v$978]],regvars_opt$924];
t$6629 = [4,t$6628];
return [t$6631,t$6630,t$6629];
} };
 break; }default: {var t$6636 = basics$0StatObject$1.Id$845;
var t$6635 = basics$0StatObject$1.fresh_normal$1538(0);
var t$6634;
var t$6633;
var t$6632;
var v$5982 = [35,v$977];
t$6632 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$5982));
t$6633 = [t$6632,[0,[syntax_objects$0Ident$1.bogus$168,v$978]],regvars_opt$924];
t$6634 = [4,t$6633];
return [t$6636,t$6635,t$6634];
} };
 break; }case 1: {var v$894 = v$1018[1];
var v$895 = v$894[1];
switch (v$895[0]) { case 1: {var v$903 = v$894[0];
var v$904 = v$894[2];
var rv_opt$896 = basis$0Option$1.map$69(function(v$900){var v$901 = v$900[0];
var v$902 = v$900[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$901),v$902];
},v$904);
return [basics$0StatObject$1.Id$845,basics$0StatObject$1.Unit$1989,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$903),[1],rv_opt$896]]];
 break; }default: {var v$920 = v$894[0];
var v$921 = v$895[1];
var v$922 = v$894[2];
var rv_opt$905 = basis$0Option$1.map$69(function(v$909){var v$910 = v$909[0];
var v$911 = v$909[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$910),v$911];
},v$922);
var v$916 = fix$6515.$elab_exprow(v$1017,v$921);
var v$917 = v$916[0];
var v$918 = v$916[1];
var v$919 = v$916[2];
return [v$917,basics$0StatObject$1.from_RecType$1539(v$918),[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$920),[0,v$919],rv_opt$905]]];
} };
 break; }case 3: {var v$889 = v$1018[1];
var v$890 = v$889[0];
var v$891 = v$889[1];
var v$892 = v$889[2];
var v$884 = fix$6515.$elab_dec(v$1017,v$891);
var v$886 = v$884[1];
var v$887 = v$884[2];
var v$888 = v$884[3];
var v$880 = fix$6515.$elab_exp(basics$0Environments$1.plus_E$3334(v$1017,v$887),v$892);
var v$882 = v$880[1];
var v$883 = v$880[2];
var t$6621 = 0;
var t$6620 = v$882;
var t$6619;
var t$6618;
var t$6617;
var v$879 = special_objects$0TyName$1$3.list$3322(special_objects$0TyName$1$3.intersect$3111(basics$0StatObject$1.tynames$1929(v$882),special_objects$0TyName$1$3.fromList$3331(v$886)));
if (v$879 == null) {t$6617 = (basics$0ElabInfo$1.from_ParseInfo$231(v$890));
} else {var v$5984 = [39,v$879];
t$6617 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$890),v$5984));
};
t$6618 = [t$6617,v$888,v$883];
t$6619 = [3,t$6618];
return [t$6621,t$6620,t$6619];
 break; }default: {var v$1014 = v$1018[1];
var v$1015 = v$1014[0];
var v$1016 = v$1014[1];
var v$1010 = fix$6515.$elab_exp(v$1017,v$1016);
var v$1011 = v$1010[0];
var v$1012 = v$1010[1];
var v$1013 = v$1010[2];
return [v$1011,v$1012,[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$1015),v$1013]]];
} };
};
fix$6515.$elab_mrule = function(v$1345,v$1346){var v$1341 = v$1346[1];
var v$1342 = v$1341[0];
var v$1343 = v$1341[1];
var v$1344 = v$1341[2];
var v$1335 = elab_pat$809(v$1345,v$1343);
var v$1337 = v$1335[1];
var v$1338 = v$1337[0];
var v$1339 = v$1337[1];
var v$1340 = v$1335[2];
var v$1331 = fix$6515.$elab_exp(basics$0Environments$1.plus_VE$3367(v$1345,v$1338),v$1344);
var v$1333 = v$1331[1];
var v$1334 = v$1331[2];
var S$$$1329 = 0;
var out_i$1330 = basics$0ElabInfo$1.from_ParseInfo$231(v$1342);
return [S$$$1329,basics$0StatObject$1.mk_Arrow$2104(basics$0StatObject$1.on$854(S$$$1329,v$1339),v$1333),[0,[out_i$1330,v$1340,v$1334]]];
};
fix$6515.$elab_match = function(v$1309,v$1310){var v$1271 = v$1310[1];
var v$1272 = v$1271[2];
switch (v$1272[0]) { case 1: {var v$1281 = v$1271[0];
var v$1282 = v$1271[1];
var v$1277 = fix$6515.$elab_mrule(v$1309,v$1282);
var v$1278 = v$1277[0];
var v$1279 = v$1277[1];
var v$1280 = v$1277[2];
var t$6612 = v$1278;
var t$6611 = v$1279;
var t$6610;
var t$6609;
var t$6608;
var v$5964 = basics$0ElabInfo$1.from_ParseInfo$231(v$1281);
t$6608 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5964,[9,[v$1279]]));
t$6609 = [t$6608,v$1280,[1]];
t$6610 = [0,t$6609];
return [t$6612,t$6611,t$6610];
 break; }default: {var v$1306 = v$1271[0];
var v$1307 = v$1271[1];
var v$1308 = v$1272[1];
var v$1302 = fix$6515.$elab_mrule(v$1309,v$1307);
var v$1304 = v$1302[1];
var v$1305 = v$1302[2];
var v$1298 = fix$6515.$elab_match(v$1309,v$1308);
var v$1299 = v$1298[0];
var v$1300 = v$1298[1];
var v$1301 = v$1298[2];
var v$1295;
var v$6334 = basics$0StatObject$1.on$854(v$1299,v$1304);
var v$6266 = basics$0StatObject$1.unify$3416(v$1300,v$6334);
switch (v$6266[0]) { case 1: {v$1295 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1306)];
 break; }case 2: {var t$6614 = basics$0StatObject$1.Id$845;
var t$6613;
var v$6267 = [9,["type of match rule with wildcard",v$1300,"type of previous match rules",v$6334]];
t$6613 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1306),v$6267));
v$1295 = [t$6614,t$6613];
 break; }default: {var v$6268 = v$6266[1];
var v$6269 = v$6268[0];
var v$6270 = v$6268[1];
var t$6616 = basics$0StatObject$1.Id$845;
var t$6615;
var v$6271 = [10,[v$1300,v$6334,v$6269,v$6270]];
t$6615 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1306),v$6271));
v$1295 = [t$6616,t$6615];
} };
var v$1296 = v$1295[0];
var v$1297 = v$1295[1];
var tau$$$1294 = basics$0StatObject$1.on$854(v$1296,v$1300);
return [0,tau$$$1294,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1297,[9,[tau$$$1294]]),v$1305,[0,v$1301]]]];
} };
};
fix$6515.$elab_exp$ = function(v$1256,v$1257){switch (v$1257[0]) { case 5: {var v$1253 = v$1257[1];
var v$1254 = v$1253[0];
var v$1255 = v$1253[1];
var v$1249 = fix$6515.$elab_atexp(v$1256,v$1255);
var v$1250 = v$1249[0];
var v$1251 = v$1249[1];
var v$1252 = v$1249[2];
var t$6607 = v$1250;
var t$6606 = v$1251;
var t$6605;
var t$6604;
var t$6603;
var v$5950 = basics$0ElabInfo$1.from_ParseInfo$231(v$1254);
t$6603 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5950,[14,[v$1251]]));
t$6604 = [t$6603,v$1252];
t$6605 = [5,t$6604];
return [t$6607,t$6606,t$6605];
 break; }case 6: {var v$1240 = v$1257[1];
var v$1241 = v$1240[0];
var v$1242 = v$1240[1];
var v$1243 = v$1240[2];
var v$1236 = fix$6515.$elab_exp(v$1256,v$1242);
var v$1238 = v$1236[1];
var v$1239 = v$1236[2];
var v$1232 = fix$6515.$elab_atexp(v$1256,v$1243);
var v$1233 = v$1232[0];
var v$1234 = v$1232[1];
var v$1235 = v$1232[2];
var new$1223 = basics$0StatObject$1.fresh_normal$1538(0);
var arrow$1224 = basics$0StatObject$1.mk_Arrow$2104(v$1234,new$1223);
var v$1229;
var v$6314 = basics$0StatObject$1.on$854(v$1233,v$1238);
var v$6218 = basics$0StatObject$1.unify$3416(arrow$1224,v$6314);
switch (v$6218[0]) { case 1: {v$1229 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1241)];
 break; }case 2: {var t$6600 = basics$0StatObject$1.Id$845;
var t$6599;
var v$6219 = [9,["operand suggests operator type",arrow$1224,"but I found operator type",v$6314]];
t$6599 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1241),v$6219));
v$1229 = [t$6600,t$6599];
 break; }default: {var v$6220 = v$6218[1];
var v$6221 = v$6220[0];
var v$6222 = v$6220[1];
var t$6602 = basics$0StatObject$1.Id$845;
var t$6601;
var v$6223 = [10,[arrow$1224,v$6314,v$6221,v$6222]];
t$6601 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1241),v$6223));
v$1229 = [t$6602,t$6601];
} };
var v$1230 = v$1229[0];
var v$1231 = v$1229[1];
var tau$1228 = basics$0StatObject$1.on$854(v$1230,new$1223);
return [0,tau$1228,[6,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1231,[14,[tau$1228]]),v$1239,v$1235]]];
 break; }case 1: {var v$1210 = v$1257[1];
var v$1211 = v$1210[0];
var v$1212 = v$1210[1];
var v$1213 = v$1210[2];
var v$1206 = fix$6515.$elab_exp(v$1256,v$1212);
var v$1207 = v$1206[0];
var v$1208 = v$1206[1];
var v$1209 = v$1206[2];
var v$1193 = basics$0ElabDec$1.elab_ty$807(v$1256,v$1213);
var v$1194 = v$1193[0];
switch (v$1194[0]) { case 0: {var v$1203 = v$1194[1];
var v$1204 = v$1193[1];
var v$1200;
var v$6230 = basics$0StatObject$1.unify$3416(v$1208,v$1203);
switch (v$6230[0]) { case 1: {v$1200 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1211)];
 break; }case 2: {var t$6596 = basics$0StatObject$1.Id$845;
var t$6595;
var v$6231 = [9,["type of expression",v$1208,"disagrees with your type constraint",v$1203]];
t$6595 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$6231));
v$1200 = [t$6596,t$6595];
 break; }default: {var v$6232 = v$6230[1];
var v$6233 = v$6232[0];
var v$6234 = v$6232[1];
var t$6598 = basics$0StatObject$1.Id$845;
var t$6597;
var v$6235 = [10,[v$1208,v$1203,v$6233,v$6234]];
t$6597 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$6235));
v$1200 = [t$6598,t$6597];
} };
var v$1201 = v$1200[0];
var v$1202 = v$1200[1];
var tau$$$1199 = basics$0StatObject$1.on$854(v$1201,v$1203);
return [0,tau$$$1199,[1,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1202,[14,[tau$$$1199]]),v$1209,v$1204]]];
 break; }default: {var v$1205 = v$1193[1];
return [v$1207,v$1208,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$1209,v$1205]]];
} };
 break; }case 3: {var v$1178 = v$1257[1];
var v$1179 = v$1178[0];
var v$1180 = v$1178[1];
var v$1181 = v$1178[2];
var v$1174 = fix$6515.$elab_exp(v$1256,v$1180);
var v$1176 = v$1174[1];
var v$1177 = v$1174[2];
var v$1170 = fix$6515.$elab_match(v$1256,v$1181);
var v$1172 = v$1170[1];
var v$1173 = v$1170[2];
var matchTy$1162 = basics$0StatObject$1.mk_Arrow$2104(basics$0StatObject$1.Exn$2084,v$1176);
var v$1167;
var v$6242 = basics$0StatObject$1.unify$3416(matchTy$1162,v$1172);
switch (v$6242[0]) { case 1: {v$1167 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1179)];
 break; }case 2: {var t$6592 = basics$0StatObject$1.Id$845;
var t$6591;
var v$6243 = [9,["handled expression suggests handler type",matchTy$1162,"but I found handler type",v$1172]];
t$6591 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1179),v$6243));
v$1167 = [t$6592,t$6591];
 break; }default: {var v$6244 = v$6242[1];
var v$6245 = v$6244[0];
var v$6246 = v$6244[1];
var t$6594 = basics$0StatObject$1.Id$845;
var t$6593;
var v$6247 = [10,[matchTy$1162,v$1172,v$6245,v$6246]];
t$6593 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1179),v$6247));
v$1167 = [t$6594,t$6593];
} };
var v$1169 = v$1167[1];
var tau3$1166 = basics$0StatObject$1.on$854(0,v$1176);
return [0,tau3$1166,[3,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1169,[14,[tau3$1166]]),v$1177,v$1173]]];
 break; }case 2: {var v$1150 = v$1257[1];
var v$1151 = v$1150[0];
var v$1152 = v$1150[1];
var v$1146 = fix$6515.$elab_exp(v$1256,v$1152);
var v$1148 = v$1146[1];
var v$1149 = v$1146[2];
var v$1143;
var v$6254 = basics$0StatObject$1.unify$3416(basics$0StatObject$1.Exn$2084,v$1148);
switch (v$6254[0]) { case 1: {v$1143 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1151)];
 break; }case 2: {var t$6588 = basics$0StatObject$1.Id$845;
var t$6587;
var v$6255 = [9,["type of expression after 'raise' should be",basics$0StatObject$1.Exn$2084,"but I found type",v$1148]];
t$6587 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1151),v$6255));
v$1143 = [t$6588,t$6587];
 break; }default: {var v$6256 = v$6254[1];
var v$6257 = v$6256[0];
var v$6258 = v$6256[1];
var t$6590 = basics$0StatObject$1.Id$845;
var t$6589;
var v$6259 = [10,[basics$0StatObject$1.Exn$2084,v$1148,v$6257,v$6258]];
t$6589 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1151),v$6259));
v$1143 = [t$6590,t$6589];
} };
var v$1145 = v$1143[1];
var tau$1142 = basics$0StatObject$1.fresh_normal$1538(0);
return [0,tau$1142,[2,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1145,[14,[tau$1142]]),v$1149]]];
 break; }case 4: {var v$1130 = v$1257[1];
var v$1131 = v$1130[0];
var v$1132 = v$1130[1];
var v$1126 = fix$6515.$elab_match(v$1256,v$1132);
var v$1127 = v$1126[0];
var v$1128 = v$1126[1];
var v$1129 = v$1126[2];
var t$6586 = v$1127;
var t$6585 = v$1128;
var t$6584;
var t$6583;
var t$6582;
var v$5960 = basics$0ElabInfo$1.from_ParseInfo$231(v$1131);
t$6582 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5960,[14,[v$1128]]));
t$6583 = [t$6582,v$1129];
t$6584 = [4,t$6583];
return [t$6586,t$6585,t$6584];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_exp(UNRES_INFIX)");
} };
};
fix$6515.$elab_exp = function(v$1086,v$1087){var v$1082 = fix$6515.$elab_exp$(v$1086,v$1087);
return [v$1082[0],v$1082[1],v$1082[2]];
};
fix$6515.$elab_valbind = function(v$2216,v$2217){switch (v$2217[0]) { case 1: {var v$1847 = v$2217[1];
var v$1848 = v$1847[0];
var v$1849 = v$1847[1];
var v$1850 = v$1847[2];
var v$1851 = v$1847[3];
var v$1840 = elab_pat$809(v$2216,v$1849);
var v$1842 = v$1840[1];
var v$1843 = v$1842[0];
var v$1844 = v$1842[1];
var v$1845 = v$1842[2];
var v$1846 = v$1840[2];
var v$1836 = fix$6515.$elab_exp(basics$0Environments$1.plus_E$3334(v$2216,basics$0Environments$1.from_R$2366(v$1845)),v$1850);
var v$1838 = v$1836[1];
var v$1839 = v$1836[2];
var v$1833;
var v$6305 = basics$0StatObject$1.on$854(0,v$1844);
var v$6203 = basics$0StatObject$1.unify$3416(v$6305,v$1838);
switch (v$6203[0]) { case 1: {v$1833 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1848)];
 break; }case 2: {var t$6561 = basics$0StatObject$1.Id$845;
var t$6560;
var v$6204 = [9,["type of left-hand side pattern",v$6305,"type of right-hand side expression",v$1838]];
t$6560 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1848),v$6204));
v$1833 = [t$6561,t$6560];
 break; }default: {var v$6205 = v$6203[1];
var v$6206 = v$6205[0];
var v$6207 = v$6205[1];
var t$6563 = basics$0StatObject$1.Id$845;
var t$6562;
var v$6208 = [10,[v$6305,v$1838,v$6206,v$6207]];
t$6562 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1848),v$6208));
v$1833 = [t$6563,t$6562];
} };
var v$1835 = v$1833[1];
var i$$1790;
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(v$1835))[0]) { case 1: {i$$1790 = v$1835;
 break; }default: {i$$1790 = (basics$0ElabInfo$1.retractRight$257(v$1835,basics$0PostElabGrammar$1$2.get_info_exp$244(v$1839)));
} };
var v$1814;
switch (v$1851[0]) { case 0: {var v$1832 = v$1851[1];
var v$1828 = fix$6515.$elab_valbind(v$2216,v$1832);
v$1814 = [v$1828[0],v$1828[1],[0,v$1828[2]]];
 break; }default: {v$1814 = [basics$0StatObject$1.Id$845,basics$0Environments$1.empty$1052,[1]];
} };
var v$1815 = v$1814[0];
var v$1816 = v$1814[1];
var v$1817 = v$1814[2];
var intdom$1799 = edlib$0EqSet$1.intersect$238(function(v$6457){return syntax_objects$0Ident$1.eq_id$248(v$6457[0],v$6457[1]);
},basics$0Environments$1.dom$1166(v$1843),basics$0Environments$1.dom$1166(v$1816));
if (edlib$0EqSet$1.isEmpty$119(intdom$1799)) {var v$1808 = basis$0List$1.filter$417(function(v$6488){return basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$6488);
},edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$1843)));
return (v$1808 == null)?[0,basics$0Environments$1.plus$1101(v$1843,v$1816),[1,[basics$0ElabInfo$1.plus_TypeInfo$128(i$$1790,[6,[v$1838,null]]),v$1846,v$1839,v$1817]]]:[v$1815,v$1816,[1,[basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1790,[27,v$1808]),v$1846,v$1839,v$1817]]];
} else {var t$6568 = v$1815;
var t$6567 = v$1816;
var t$6566;
var t$6565;
var t$6564;
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(i$$1790))[0]) { case 1: {t$6564 = (basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1790,[24,basis$0List$1.map$697(function(v$1813){return [6,v$1813];
},edlib$0EqSet$1.list$107(intdom$1799))]));
 break; }default: {t$6564 = i$$1790;
} };
t$6565 = [t$6564,v$1846,v$1839,v$1817];
t$6566 = [1,t$6565];
return [t$6568,t$6567,t$6566];
};
 break; }default: {var v$2213 = v$2217[1];
var v$2214 = v$2213[0];
var v$2215 = v$2213[1];
var processID$1852 = function(v$1899,v$1900,v$1901,v$1902){var v$5934 = basics$0Environments$1.lookup$1132(v$1900,v$1902);
var v$5935 = basics$0Environments$1.lookup$1132(v$1901,v$1902);
switch (v$5934[0]) { case 0: {var v$1870 = v$5934[1];
switch (v$1870[0]) { case 0: {switch (v$5935[0]) { case 0: {var v$1874 = v$5935[1];
switch (v$1874[0]) { case 0: {var v$1896 = v$1870[1];
var v$1897 = v$1874[1];
var v$1895 = v$1896[1];
var v$1893 = v$1897[1];
switch ((basics$0StatObject$1.unify$3416(v$1895,v$1893))[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$1899];
 break; }case 2: {return [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.plus_ErrorInfo$102(v$1899,[11,[v$1895,v$1893]])];
 break; }default: {return [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.plus_ErrorInfo$102(v$1899,[11,[v$1895,v$1893]])];
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
};
var fix$6569 = {};
fix$6569.$traverseRecAtpat = function(v$2134,v$2135,v$2136){switch (v$2136[0]) { case 0: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 4: {var v$2116 = v$2136[1];
var v$2117 = v$2116[0];
var v$2118 = v$2116[1];
var v$2119 = v$2118[1];
var v$2120 = v$2119[0];
var v$2122 = v$2116[2];
var v$2097 = (basics$0Environments$1.lookup_longid$3417(v$2216))(v$2120);
switch (v$2097[0]) { case 0: {switch (v$2097[1][0]) { case 2: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }default: {var v$4904 = syntax_objects$0Ident$1.decompose$96(v$2120);
if (v$4904[0] == null) {var v$4905 = v$4904[1];
var v$4906 = processID$1852(v$2117,v$2134,v$2135,v$4905);
return [v$4906[0],[4,[v$4906[1],v$2118,v$2122]]];
} else {return tools$0Crash$1.impossible$59("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }default: {var v$4910 = syntax_objects$0Ident$1.decompose$96(v$2120);
if (v$4910[0] == null) {var v$4911 = v$4910[1];
var v$4912 = processID$1852(v$2117,v$2134,v$2135,v$4911);
return [v$4912[0],[4,[v$4912[1],v$2118,v$2122]]];
} else {return tools$0Crash$1.impossible$59("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }case 2: {var v$2087 = v$2136[1];
var v$2088 = v$2087[0];
var v$2089 = v$2087[1];
switch (v$2089[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }default: {var v$2086 = v$2089[1];
var v$2083 = fix$6569.$traverseRecPatrow(v$2134,v$2135,v$2086);
return [v$2083[0],[2,[v$2088,[0,v$2083[1]]]]];
} };
 break; }default: {var v$2131 = v$2136[1];
var v$2132 = v$2131[0];
var v$2133 = v$2131[1];
var v$2128 = fix$6569.$traverseRecPat(v$2134,v$2135,v$2133);
return [v$2128[0],[3,[v$2132,v$2128[1]]]];
} };
};
fix$6569.$traverseRecPat = function(v$2047,v$2048,v$2049){switch (v$2049[0]) { case 4: {var v$2044 = v$2049[1];
var v$2045 = v$2044[0];
var v$2046 = v$2044[1];
var v$2041 = fix$6569.$traverseRecAtpat(v$2047,v$2048,v$2046);
return [v$2041[0],[4,[v$2045,v$2041[1]]]];
 break; }case 3: {var v$2033 = v$2049[1];
var v$2034 = v$2033[0];
var v$2035 = v$2033[1];
var v$2036 = v$2033[2];
var v$2030 = fix$6569.$traverseRecAtpat(v$2047,v$2048,v$2036);
return [v$2030[0],[3,[v$2034,v$2035,v$2030[1]]]];
 break; }case 1: {var v$2022 = v$2049[1];
var v$2023 = v$2022[0];
var v$2024 = v$2022[1];
var v$2025 = v$2022[2];
var v$2019 = fix$6569.$traverseRecPat(v$2047,v$2048,v$2024);
return [v$2019[0],[1,[v$2023,v$2019[1],v$2025]]];
 break; }case 2: {var v$2007 = v$2049[1];
var v$2008 = v$2007[0];
var v$2009 = v$2007[1];
var v$2010 = v$2009[1];
var v$2011 = v$2010[0];
var v$2013 = v$2007[2];
var v$2014 = v$2007[3];
var v$2004 = fix$6569.$traverseRecPat(v$2047,v$2048,v$2014);
var v$2006 = v$2004[1];
return [0,[2,[(processID$1852(v$2008,v$2047,v$2048,v$2011))[1],v$2009,v$2013,v$2006]]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.traverseRecPat(UNRES_INFIX)");
} };
};
fix$6569.$traverseRecPatrow = function(v$2182,v$2183,v$2184){switch (v$2184[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$2184];
 break; }default: {var v$2177 = v$2184[1];
var v$2178 = v$2177[0];
var v$2179 = v$2177[1];
var v$2180 = v$2177[2];
var v$2181 = v$2177[3];
var t$6581 = 0;
var t$6580;
var t$6579;
var t$6578 = v$2178;
var t$6577 = v$2179;
var t$6576 = (fix$6569.$traverseRecPat(v$2182,v$2183,v$2180))[1];
var t$6575;
var t$6574;
switch (v$2181[0]) { case 1: {t$6574 = [basics$0StatObject$1.Id$845,[1]];
 break; }default: {var v$2173 = v$2181[1];
var v$2170 = fix$6569.$traverseRecPatrow(v$2182,v$2183,v$2173);
t$6574 = [v$2170[0],[0,v$2170[1]]];
} };
t$6575 = t$6574[1];
t$6579 = [t$6578,t$6577,t$6576,t$6575];
t$6580 = [0,t$6579];
return [t$6581,t$6580];
} };
};
var traverseRecAtpat$1904 = fix$6569.$traverseRecAtpat;
var traverseRecPat$1905 = fix$6569.$traverseRecPat;
var traverseRecPatrow$1903 = fix$6569.$traverseRecPatrow;
var fix$6570 = {};
fix$6570.$traverseRecValbind = function(v$1962,v$1963,v$1964){switch (v$1964[0]) { case 1: {var v$1948 = v$1964[1];
var v$1949 = v$1948[0];
var v$1950 = v$1948[1];
var v$1951 = v$1948[2];
var v$1952 = v$1948[3];
var v$1945 = traverseRecPat$1905(v$1962,v$1963,v$1950);
var v$1946 = v$1945[0];
var v$1947 = v$1945[1];
var v$1929;
switch (v$1952[0]) { case 0: {var v$1944 = v$1952[1];
v$1929 = [0,[0,(fix$6570.$traverseRecValbind(v$1962,v$1963,v$1944))[1]]];
 break; }default: {v$1929 = [v$1946,[1]];
} };
return [v$1929[0],[1,[v$1949,v$1947,v$1951,v$1929[1]]]];
 break; }default: {var v$1959 = v$1964[1];
var v$1960 = v$1959[0];
var v$1961 = v$1959[1];
var v$1956 = fix$6570.$traverseRecValbind(v$1962,v$1963,v$1961);
return [v$1956[0],[0,[v$1960,v$1956[1]]]];
} };
};
var traverseRecValbind$1906 = fix$6570.$traverseRecValbind;
var domain_list$2185 = dom_vb$502(v$2216,v$2215);
var VE$2196;
var fix$6571 = {};
fix$6571.$foldl = function(v$4924,v$4925){lab$foldl: while (true) {if (v$4925 == null) {return v$4924;
} else {var v$4926 = v$4925;
var v$4927 = v$4926[0];
var v$4928 = v$4926[1];
var t$6572 = basics$0Environments$1.plus$1101(v$4924,basics$0Environments$1.singleton_var$1058(v$4927,[null,basics$0StatObject$1.fresh_normal$1538(0)]));
var t$6573 = v$4928;
var v$4924 = t$6572;
var v$4925 = t$6573;
continue lab$foldl;
};
};
};
var foldl$4923 = fix$6571.$foldl;
VE$2196 = (foldl$4923(basics$0Environments$1.empty$1052,domain_list$2185));
var v$2209 = fix$6515.$elab_valbind(basics$0Environments$1.plus_VE$3367(v$2216,VE$2196),v$2215);
var v$2211 = v$2209[1];
var v$2212 = v$2209[2];
var v$2206 = traverseRecValbind$1906(VE$2196,v$2211,v$2212);
var v$2208 = v$2206[1];
return [0,v$2211,[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2214),v$2208]]];
} };
};
var elab_exprow$829 = fix$6515.$elab_exprow;
var elab_decs$823 = fix$6515.$elab_decs;
var elab_dec$824 = fix$6515.$elab_dec;
var elab_atexp$830 = fix$6515.$elab_atexp;
var elab_mrule$825 = fix$6515.$elab_mrule;
var elab_match$826 = fix$6515.$elab_match;
var elab_exp$$827 = fix$6515.$elab_exp$;
var elab_exp$828 = fix$6515.$elab_exp;
var elab_valbind$822 = fix$6515.$elab_valbind;
basics$0ElabDec$1.elab_dec$4240 = function(v$4256,v$4257){var v$4251 = elab_dec$824(v$4256,v$4257);
var v$4252 = v$4251[0];
var v$4253 = v$4251[1];
var v$4254 = v$4251[2];
var v$4255 = v$4251[3];
var t$6559 = v$4253;
var t$6558 = v$4254;
var t$6516;
var tau_to_overloadinginfo_alist$5438 = basis$0List$1.s$n$686([[basics$0StatObject$1.Int31$2148,[13]],[[basics$0StatObject$1.Int32$2149,[12]],[[basics$0StatObject$1.IntInf$2152,[9]],[[basics$0StatObject$1.Real$2167,[8]],[[basics$0StatObject$1.String$2168,[7]],[[basics$0StatObject$1.Char$2170,[14]],[[basics$0StatObject$1.Word8$2171,[2]],[[basics$0StatObject$1.Word31$2172,[6]],[[basics$0StatObject$1.Word32$2173,[5]],null]]]]]]]]],(values_64bit$180(0))?[[basics$0StatObject$1.Int63$2150,[11]],[[basics$0StatObject$1.Int64$2151,[10]],[[basics$0StatObject$1.Word63$2174,[4]],[[basics$0StatObject$1.Word64$2175,[3]],null]]]]:null);
var fix$6517 = {};
fix$6517.$resolve_tau = function(tau$5440){lab$resolve_tau: while (true) {var tau$$5441 = basics$0StatObject$1.on$854(v$4252,tau$5440);
var v$5442 = basics$0StatObject$1.to_TyVar$1522(tau$$5441);
switch (v$5442[0]) { case 1: {var v$5444 = basis$0List$1.find$392((function(env$6520){return function(v$5445){var v$6518 = env$6520[0];
var v$6519 = env$6520[1];
var v$5446 = v$5445[0];
return v$6519([v$6518,v$5446]);
};
})([tau$$5441,basics$0StatObject$1.eq$1168]),tau_to_overloadinginfo_alist$5438);
switch (v$5444[0]) { case 0: {return v$5444[1][1];
 break; }default: {return basics$0OverloadingInfo$1.resolvedIntDefault$76(0);
} };
 break; }default: {var v$5447 = v$5442[1];
if (basics$0StatObject$1.eq$1168([tau$$5441,tau$5440])) {var t$5449;
var ts$5450 = basics$0StatObject$1.resolve_overloaded$531(v$5447);
t$5449 = (((special_objects$0TyName$1$3.member$2927(special_objects$0TyName$1$1.tyName_INT32$220[0],special_objects$0TyName$1$1.tyName_INT32$220[1],special_objects$0TyName$1$1.tyName_INT32$220[2],special_objects$0TyName$1$1.tyName_INT32$220[3],special_objects$0TyName$1$1.tyName_INT32$220[4],special_objects$0TyName$1$1.tyName_INT32$220[5]))(ts$5450))?(((special_objects$0TyName$1$3.member$2927(special_objects$0TyName$1$1.tyName_INT31$216[0],special_objects$0TyName$1$1.tyName_INT31$216[1],special_objects$0TyName$1$1.tyName_INT31$216[2],special_objects$0TyName$1$1.tyName_INT31$216[3],special_objects$0TyName$1$1.tyName_INT31$216[4],special_objects$0TyName$1$1.tyName_INT31$216[5]))(ts$5450))?(basics$0StatObject$1.IntDefault$2153(0)):basics$0StatObject$1.Int32$2149):(((special_objects$0TyName$1$3.member$2927(special_objects$0TyName$1$1.tyName_WORD32$244[0],special_objects$0TyName$1$1.tyName_WORD32$244[1],special_objects$0TyName$1$1.tyName_WORD32$244[2],special_objects$0TyName$1$1.tyName_WORD32$244[3],special_objects$0TyName$1$1.tyName_WORD32$244[4],special_objects$0TyName$1$1.tyName_WORD32$244[5]))(ts$5450))?(((special_objects$0TyName$1$3.member$2927(special_objects$0TyName$1$1.tyName_WORD31$240[0],special_objects$0TyName$1$1.tyName_WORD31$240[1],special_objects$0TyName$1$1.tyName_WORD31$240[2],special_objects$0TyName$1$1.tyName_WORD31$240[3],special_objects$0TyName$1$1.tyName_WORD31$240[4],special_objects$0TyName$1$1.tyName_WORD31$240[5]))(ts$5450))?(basics$0StatObject$1.WordDefault$2176(0)):basics$0StatObject$1.Word32$2173):(tools$0Crash$1.impossible$59(("resolve_tv.hmm; maybe insert cases for string, etc; ts = {" + (basis$0String$1.concatWith$182(",",basis$0List$1.map$697((function(env$6522){return function(v$6458){var v$6521 = env$6522[0];
return v$6521(v$6458[0],v$6458[1],v$6458[2],v$6458[3],v$6458[4],v$6458[5]);
};
})([special_objects$0TyName$1$1.pr_TyName$333]),special_objects$0TyName$1$3.list$3322(ts$5450))))) + "}"))));
basics$0StatObject$1.unify$3416(t$5449,tau$$5441);
var v$5454 = basis$0List$1.find$392((function(env$6525){return function(v$5455){var v$6523 = env$6525[0];
var v$6524 = env$6525[1];
var v$5456 = v$5455[0];
return v$6524([v$6523,v$5456]);
};
})([tau$$5441,basics$0StatObject$1.eq$1168]),tau_to_overloadinginfo_alist$5438);
switch (v$5454[0]) { case 0: {return v$5454[1][1];
 break; }default: {return basics$0OverloadingInfo$1.resolvedIntDefault$76(0);
} };
} else {var t$6526 = tau$$5441;
var tau$5440 = t$6526;
continue lab$resolve_tau;
};
} };
};
};
var resolve_tau$5439 = fix$6517.$resolve_tau;
var resolve_i$5457 = function(ElabInfo$5458){var v$5459 = basics$0ElabInfo$1.to_TypeInfo$202(ElabInfo$5458);
switch (v$5459[0]) { case 0: {var v$5460 = v$5459[1];
var t$6529 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6528 = ElabInfo$5458;
var t$6527;
switch (v$5460[0]) { case 10: {t$6527 = [10,[v$5460[1][0]]];
 break; }case 5: {var v$5464 = v$5460[1];
var v$5465 = v$5464[0];
t$6527 = [5,[basics$0StatObject$1.on$854(v$4252,v$5465)]];
 break; }case 1: {var v$5466 = v$5460[1];
var v$5467 = v$5466[0];
t$6527 = [1,[basis$0List$1.map$697(function(tau$5468){return basics$0StatObject$1.on$854(v$4252,tau$5468);
},v$5467)]];
 break; }case 0: {var v$5469 = v$5460[1];
var v$5470 = v$5469[1];
var v$5471 = v$5469[0];
t$6527 = [0,[basics$0StatObject$1.on$854(v$4252,v$5471),v$5470]];
 break; }case 18: {var v$5472 = v$5460[1];
var v$5473 = v$5472[3];
var v$5474 = v$5472[0];
var v$5475 = v$5472[2];
var v$5476 = v$5472[1];
t$6527 = [18,[v$5474,basis$0List$1.map$697(function(tau$5477){return basics$0StatObject$1.on$854(v$4252,tau$5477);
},v$5476),v$5475,v$5473]];
 break; }case 15: {var v$5478 = v$5460[1];
var v$5479 = v$5478[0];
var v$5480 = v$5478[1];
t$6527 = [15,[basics$0StatObject$1.on$854(v$4252,v$5479),v$5480]];
 break; }case 16: {var v$5481 = v$5460[1];
var v$5482 = v$5481[0];
switch (v$5482[0]) { case 1: {t$6527 = [16,[[1]]];
 break; }default: {var v$5483 = v$5482[1];
t$6527 = [16,[[0,basics$0StatObject$1.on$854(v$4252,v$5483)]]];
} };
 break; }case 2: {var v$5484 = v$5460[1];
t$6527 = [2,v$5484];
 break; }case 19: {var v$5485 = v$5460[1];
t$6527 = [19,[v$5485[0],v$5485[1]]];
 break; }case 14: {var v$5486 = v$5460[1];
var v$5487 = v$5486[0];
t$6527 = [14,[basics$0StatObject$1.on$854(v$4252,v$5487)]];
 break; }case 9: {var v$5488 = v$5460[1];
var v$5489 = v$5488[0];
t$6527 = [9,[basics$0StatObject$1.on$854(v$4252,v$5489)]];
 break; }case 6: {var v$5490 = v$5460[1];
var v$5491 = v$5490[1];
var v$5492 = v$5490[0];
t$6527 = [6,[basics$0StatObject$1.on$854(v$4252,v$5492),v$5491]];
 break; }case 7: {var v$5493 = v$5460[1];
t$6527 = [7,v$5493];
 break; }case 11: {var v$5494 = v$5460[1];
t$6527 = [11,v$5494];
 break; }case 12: {var v$5495 = v$5460[1];
t$6527 = [12,v$5495];
 break; }case 13: {var v$5496 = v$5460[1];
t$6527 = [13,v$5496];
 break; }case 3: {var v$5497 = v$5460[1];
t$6527 = [3,v$5497];
 break; }case 8: {var v$5498 = v$5460[1];
t$6527 = [8,v$5498];
 break; }case 4: {t$6527 = (tools$0Crash$1.impossible$59("ElabDec.on_TypeInfo.SIGBIND_INFO"));
 break; }default: {t$6527 = (tools$0Crash$1.impossible$59("ElabDec.on_TypeInfo.DELAYED_REALISATION"));
} };
return t$6529(t$6528,t$6527);
 break; }default: {return ElabInfo$5458;
} };
};
var en$DDD_IS_EMPTY$3725 = new String("DDD_IS_EMPTY");
var exn$DDD_IS_EMPTY$3725 = [en$DDD_IS_EMPTY$3725];
var fix$6530 = {};
fix$6530.$resolve_patrow = function(patrow$5592){switch (patrow$5592[0]) { case 1: {var v$5593 = patrow$5592[1];
var v$5594 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5593);
switch (v$5594[0]) { case 1: {return patrow$5592;
 break; }default: {var v$5595 = v$5594[1];
switch (v$5595[0]) { case 1: {var v$5596 = v$5595[1];
var t$6549;
var fix$6547 = {};
fix$6547.$loop = function(typ$5599){lab$loop: while (true) {var typ$$5600 = basics$0StatObject$1.on$854(v$4252,typ$5599);
if (basics$0StatObject$1.eq$1168([typ$$5600,typ$5599])) {return typ$5599;
} else {var t$6548 = typ$$5600;
var typ$5599 = t$6548;
continue lab$loop;
};
};
};
var loop$5598 = fix$6547.$loop;
t$6549 = ((basics$0StatObject$1.contains_row_variable$1559(loop$5598(basics$0StatObject$1.from_RecType$1539(v$5596))))?1:0);
switch (t$6549) { case 0: {var i0$5601 = basics$0ElabInfo$1.from_ParseInfo$231(basics$0ElabInfo$1.to_ParseInfo$192(v$5593));
var labs_and_types$5602 = basics$0StatObject$1.to_list$1762(v$5596);
var v$5603;
var b$5610 = [1];
var fix$6550 = {};
fix$6550.$foldr = function(v$5613){if (v$5613 == null) {return b$5610;
} else {var v$5614 = v$5613;
var v$5615 = v$5614[0];
var v$5616 = v$5614[1];
var v$6094 = fix$6550.$foldr(v$5616);
var v$5768 = v$5615[0];
var v$5769 = v$5615[1];
return [0,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(i0$5601,[10,[0]]),v$5768,[4,[i0$5601,[0,basics$0ElabInfo$1.plus_TypeInfo$128(i0$5601,[0,[v$5769,null]])]]],v$6094]]];
};
};
var foldr$5612 = fix$6550.$foldr;
v$5603 = (foldr$5612(labs_and_types$5602));
switch (v$5603[0]) { case 0: {return v$5603[1];
 break; }default: {throw exn$DDD_IS_EMPTY$3725;
} };
 break; }default: {return [1,basics$0ElabInfo$1.plus_ErrorInfo$102(v$5593,[37])];
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_patrow");
} };
} };
 break; }default: {var v$5619 = patrow$5592[1];
var v$5620 = v$5619[3];
switch (v$5620[0]) { case 1: {var v$5621 = v$5619[0];
var v$5622 = v$5619[1];
var v$5623 = v$5619[2];
return [0,[resolve_i$5457(v$5621),v$5622,fix$6530.$resolve_pat(v$5623),[1]]];
 break; }default: {var v$5624 = v$5619[0];
var v$5625 = v$5619[1];
var v$5626 = v$5619[2];
var v$5627 = v$5620[1];
var t$6557;
var t$6556 = resolve_i$5457(v$5624);
var t$6555 = v$5625;
var t$6554 = fix$6530.$resolve_pat(v$5626);
var t$6552;
try {t$6552 = [0,fix$6530.$resolve_patrow(v$5627)];
} catch(v$6551) {t$6552 = ((function(DDD_IS_EMPTY$5628){var t$6553 = DDD_IS_EMPTY$5628;
if (t$6553[0] == en$DDD_IS_EMPTY$3725) {return [1];
} else {throw DDD_IS_EMPTY$5628;
};
})(v$6551));
};
t$6557 = [t$6556,t$6555,t$6554,t$6552];
return [0,t$6557];
} };
} };
};
fix$6530.$resolve_atpat = function(atpat$5523){switch (atpat$5523[0]) { case 0: {return atpat$5523;
 break; }case 1: {var v$5524 = atpat$5523[1];
var v$5525 = v$5524[0];
var v$5526 = v$5524[1];
var v$5527 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5525);
switch (v$5527[0]) { case 1: {return [1,[resolve_i$5457(v$5525),v$5526]];
 break; }default: {var v$5528 = v$5527[1];
switch (v$5528[0]) { case 0: {var v$5529 = v$5528[1];
return [1,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5525,resolve_tau$5439(basics$0StatObject$1.from_TyVar$1518(v$5529))),v$5526]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat.SCON");
} };
} };
 break; }case 4: {var v$5536 = atpat$5523[1];
var v$5537 = v$5536[0];
var v$5538 = v$5536[1];
var v$5539 = v$5536[2];
return [4,[resolve_i$5457(v$5537),v$5538,v$5539]];
 break; }case 2: {var v$5540 = atpat$5523[1];
var v$5541 = v$5540[1];
switch (v$5541[0]) { case 1: {var v$5542 = v$5540[0];
return [2,[resolve_i$5457(v$5542),[1]]];
 break; }default: {var v$5543 = v$5540[0];
var v$5544 = v$5541[1];
var i$$5545 = resolve_i$5457(v$5543);
try {var patrow$$5546 = fix$6530.$resolve_patrow(v$5544);
var v$5547 = basics$0ElabInfo$1.to_TypeInfo$202(i$$5545);
switch (v$5547[0]) { case 0: {var v$5548 = v$5547[1];
switch (v$5548[0]) { case 5: {var v$5549 = v$5548[1];
var v$5550 = v$5549[0];
var t$6545;
var t$6544 = i$$5545;
var t$6543;
var t$6533;
var recType$5554;
var v$5555 = basics$0StatObject$1.to_RecType$1543(v$5550);
switch (v$5555[0]) { case 1: {recType$5554 = (tools$0Crash$1.impossible$59("ElabDec.addLabelIndexInfo"));
 break; }default: {recType$5554 = v$5555[1];
} };
var labtys$5560 = basics$0StatObject$1.to_list$1762(recType$5554);
var sortedLabs$5561 = basis$0List$1.map$697(function(v$5562){return v$5562[0];
},labtys$5560);
var fix$6534 = {};
fix$6534.$f = function(v$5564){switch (v$5564[0]) { case 0: {var v$5565 = v$5564[1];
var v$5566 = v$5565[0];
var v$5567 = v$5565[1];
var v$5568 = v$5565[2];
var v$5569 = v$5565[3];
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(v$5566))[0]) { case 1: {var index$5570;
var v$5571;
var fix$6535 = {};
fix$6535.$count = function(v$6436,v$6437){lab$count: while (true) {if (v$6436 == null) {return [1];
} else {var v$6438 = v$6436;
var v$6439 = v$6438[0];
var v$6440 = v$6438[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$6439,v$5567)) {return [0,v$6437];
} else {var t$6536 = v$6440;
var t$6537 = SmlPrims.chk_ovf_i32(v$6437 + 1);
var v$6436 = t$6536;
var v$6437 = t$6537;
continue lab$count;
};
};
};
};
var count$6435 = fix$6535.$count;
v$5571 = (count$6435(sortedLabs$5561,0));
switch (v$5571[0]) { case 0: {index$5570 = v$5571[1];
 break; }default: {index$5570 = (tools$0Crash$1.impossible$59("ElabDec.where'"));
} };
var t$6542;
var t$6541 = basics$0ElabInfo$1.plus_TypeInfo$128(v$5566,[10,[index$5570]]);
var t$6540 = v$5567;
var t$6539 = v$5568;
var t$6538;
switch (v$5569[0]) { case 0: {var v$5580 = v$5569[1];
t$6538 = [0,fix$6534.$f(v$5580)];
 break; }default: {t$6538 = [1];
} };
t$6542 = [t$6541,t$6540,t$6539,t$6538];
return [0,t$6542];
 break; }default: {return [0,[v$5566,v$5567,v$5568,v$5569]];
} };
 break; }default: {var v$5581 = v$5564[1];
return [1,v$5581];
} };
};
var f$5563 = fix$6534.$f;
t$6533 = (f$5563(patrow$$5546));
t$6543 = [0,t$6533];
t$6545 = [t$6544,t$6543];
return [2,t$6545];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat(RECORDatpat): wrong typeinfo");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat(RECORDatpat): no typeinfo");
} };
} catch(v$6532) {return (function(DDD_IS_EMPTY$5588){var t$6546 = DDD_IS_EMPTY$5588;
if (t$6546[0] == en$DDD_IS_EMPTY$3725) {return [2,[i$$5545,[1]]];
} else {throw DDD_IS_EMPTY$5588;
};
})(v$6532);
};
} };
 break; }default: {var v$5589 = atpat$5523[1];
var v$5590 = v$5589[0];
var v$5591 = v$5589[1];
return [3,[resolve_i$5457(v$5590),fix$6530.$resolve_pat(v$5591)]];
} };
};
fix$6530.$resolve_pat = function(pat$5504){switch (pat$5504[0]) { case 4: {var v$5505 = pat$5504[1];
var v$5506 = v$5505[0];
var v$5507 = v$5505[1];
return [4,[resolve_i$5457(v$5506),fix$6530.$resolve_atpat(v$5507)]];
 break; }case 3: {var v$5508 = pat$5504[1];
var v$5509 = v$5508[0];
var v$5510 = v$5508[1];
var v$5511 = v$5508[2];
return [3,[resolve_i$5457(v$5509),v$5510,fix$6530.$resolve_atpat(v$5511)]];
 break; }case 1: {var v$5512 = pat$5504[1];
var v$5513 = v$5512[0];
var v$5514 = v$5512[1];
var v$5515 = v$5512[2];
return [1,[resolve_i$5457(v$5513),fix$6530.$resolve_pat(v$5514),v$5515]];
 break; }case 2: {var v$5516 = pat$5504[1];
var v$5517 = v$5516[0];
var v$5518 = v$5516[1];
var v$5519 = v$5516[2];
var v$5520 = v$5516[3];
return [2,[resolve_i$5457(v$5517),v$5518,v$5519,fix$6530.$resolve_pat(v$5520)]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_pat(UNRES_INFIX)");
} };
};
var resolve_patrow$5503 = fix$6530.$resolve_patrow;
var resolve_atpat$5502 = fix$6530.$resolve_atpat;
var resolve_pat$5501 = fix$6530.$resolve_pat;
var fix$6531 = {};
fix$6531.$resolve_exprow = function(exprow$5756){var v$5757 = exprow$5756[1];
var v$5758 = v$5757[3];
switch (v$5758[0]) { case 1: {var v$5759 = v$5757[0];
var v$5760 = v$5757[1];
var v$5761 = v$5757[2];
return [0,[resolve_i$5457(v$5759),v$5760,fix$6531.$resolve_exp(v$5761),[1]]];
 break; }default: {var v$5762 = v$5757[0];
var v$5763 = v$5757[1];
var v$5764 = v$5757[2];
var v$5765 = v$5758[1];
return [0,[resolve_i$5457(v$5762),v$5763,fix$6531.$resolve_exp(v$5764),[0,fix$6531.$resolve_exprow(v$5765)]]];
} };
};
fix$6531.$resolve_dec = function(dec$5727){switch (dec$5727[0]) { case 0: {var v$5728 = dec$5727[1];
var v$5729 = v$5728[0];
var v$5730 = v$5728[1];
var v$5731 = v$5728[2];
return [0,[resolve_i$5457(v$5729),v$5730,fix$6531.$resolve_valbind(v$5731)]];
 break; }case 1: {return tools$0Crash$1.impossible$59("ElabDec.resolve_dec(UNRES_FUNdec)");
 break; }case 2: {return dec$5727;
 break; }case 12: {var v$5734 = dec$5727[1];
var v$5735 = v$5734[0];
var v$5736 = v$5734[1];
return [12,[resolve_i$5457(v$5735),v$5736]];
 break; }case 13: {var v$5737 = dec$5727[1];
var v$5738 = v$5737[0];
var v$5739 = v$5737[1];
var v$5740 = v$5737[2];
return [13,[resolve_i$5457(v$5738),v$5739,v$5740]];
 break; }case 14: {var v$5741 = dec$5727[1];
var v$5742 = v$5741[0];
var v$5743 = v$5741[1];
var v$5744 = v$5741[2];
return [14,[resolve_i$5457(v$5742),v$5743,fix$6531.$resolve_dec(v$5744)]];
 break; }case 10: {var v$5745 = dec$5727[1];
var v$5746 = v$5745[0];
var v$5747 = v$5745[1];
return [10,[resolve_i$5457(v$5746),v$5747]];
 break; }case 7: {var v$5748 = dec$5727[1];
var v$5749 = v$5748[0];
var v$5750 = v$5748[1];
var v$5751 = v$5748[2];
return [7,[resolve_i$5457(v$5749),fix$6531.$resolve_dec(v$5750),fix$6531.$resolve_dec(v$5751)]];
 break; }case 5: {return dec$5727;
 break; }case 3: {var v$5752 = dec$5727[1];
var v$5753 = v$5752[0];
var v$5754 = v$5752[1];
var v$5755 = v$5752[2];
return [3,[resolve_i$5457(v$5753),fix$6531.$resolve_dec(v$5754),fix$6531.$resolve_dec(v$5755)]];
 break; }case 8: {return dec$5727;
 break; }case 9: {return dec$5727;
 break; }case 6: {return dec$5727;
 break; }case 11: {return dec$5727;
 break; }default: {return dec$5727;
} };
};
fix$6531.$resolve_atexp = function(atexp$5686){switch (atexp$5686[0]) { case 0: {var v$5687 = atexp$5686[1];
var v$5688 = v$5687[0];
var v$5689 = v$5687[1];
var v$5690 = v$5687[2];
var v$5691 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5688);
switch (v$5691[0]) { case 1: {return [0,[resolve_i$5457(v$5688),v$5689,v$5690]];
 break; }default: {var v$5692 = v$5691[1];
switch (v$5692[0]) { case 0: {var v$5693 = v$5692[1];
return [0,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5688,resolve_tau$5439(basics$0StatObject$1.from_TyVar$1518(v$5693))),v$5689,v$5690]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atexp.SCON");
} };
} };
 break; }case 4: {var v$5700 = atexp$5686[1];
var v$5701 = v$5700[0];
var v$5702 = v$5700[1];
var v$5703 = v$5700[2];
var v$5704 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5701);
switch (v$5704[0]) { case 1: {return [4,[resolve_i$5457(v$5701),v$5702,v$5703]];
 break; }default: {var v$5705 = v$5704[1];
switch (v$5705[0]) { case 0: {var v$5706 = v$5705[1];
return [4,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5701,resolve_tau$5439(basics$0StatObject$1.from_TyVar$1518(v$5706))),v$5702,v$5703]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atexp");
} };
} };
 break; }case 1: {var v$5713 = atexp$5686[1];
var v$5714 = v$5713[1];
switch (v$5714[0]) { case 1: {var v$5715 = v$5713[0];
var v$5716 = v$5713[2];
return [1,[resolve_i$5457(v$5715),[1],v$5716]];
 break; }default: {var v$5717 = v$5713[0];
var v$5718 = v$5714[1];
var v$5719 = v$5713[2];
return [1,[resolve_i$5457(v$5717),[0,fix$6531.$resolve_exprow(v$5718)],v$5719]];
} };
 break; }case 3: {var v$5720 = atexp$5686[1];
var v$5721 = v$5720[0];
var v$5722 = v$5720[1];
var v$5723 = v$5720[2];
return [3,[resolve_i$5457(v$5721),fix$6531.$resolve_dec(v$5722),fix$6531.$resolve_exp(v$5723)]];
 break; }default: {var v$5724 = atexp$5686[1];
var v$5725 = v$5724[0];
var v$5726 = v$5724[1];
return [2,[resolve_i$5457(v$5725),fix$6531.$resolve_exp(v$5726)]];
} };
};
fix$6531.$resolve_mrule = function(v$5681){var v$5682 = v$5681[1];
var v$5683 = v$5682[0];
var v$5684 = v$5682[1];
var v$5685 = v$5682[2];
return [0,[resolve_i$5457(v$5683),resolve_pat$5501(v$5684),fix$6531.$resolve_exp(v$5685)]];
};
fix$6531.$resolve_match = function(match$5673){var v$5674 = match$5673[1];
var v$5675 = v$5674[2];
switch (v$5675[0]) { case 1: {var v$5676 = v$5674[0];
var v$5677 = v$5674[1];
return [0,[resolve_i$5457(v$5676),fix$6531.$resolve_mrule(v$5677),[1]]];
 break; }default: {var v$5678 = v$5674[0];
var v$5679 = v$5674[1];
var v$5680 = v$5675[1];
return [0,[resolve_i$5457(v$5678),fix$6531.$resolve_mrule(v$5679),[0,fix$6531.$resolve_match(v$5680)]]];
} };
};
fix$6531.$resolve_exp = function(exp$5649){switch (exp$5649[0]) { case 5: {var v$5650 = exp$5649[1];
var v$5651 = v$5650[0];
var v$5652 = v$5650[1];
return [5,[resolve_i$5457(v$5651),fix$6531.$resolve_atexp(v$5652)]];
 break; }case 6: {var v$5653 = exp$5649[1];
var v$5654 = v$5653[0];
var v$5655 = v$5653[1];
var v$5656 = v$5653[2];
return [6,[resolve_i$5457(v$5654),fix$6531.$resolve_exp(v$5655),fix$6531.$resolve_atexp(v$5656)]];
 break; }case 1: {var v$5657 = exp$5649[1];
var v$5658 = v$5657[0];
var v$5659 = v$5657[1];
var v$5660 = v$5657[2];
return [1,[resolve_i$5457(v$5658),fix$6531.$resolve_exp(v$5659),v$5660]];
 break; }case 3: {var v$5661 = exp$5649[1];
var v$5662 = v$5661[0];
var v$5663 = v$5661[1];
var v$5664 = v$5661[2];
return [3,[resolve_i$5457(v$5662),fix$6531.$resolve_exp(v$5663),fix$6531.$resolve_match(v$5664)]];
 break; }case 2: {var v$5665 = exp$5649[1];
var v$5666 = v$5665[0];
var v$5667 = v$5665[1];
return [2,[resolve_i$5457(v$5666),fix$6531.$resolve_exp(v$5667)]];
 break; }case 4: {var v$5668 = exp$5649[1];
var v$5669 = v$5668[0];
var v$5670 = v$5668[1];
return [4,[resolve_i$5457(v$5669),fix$6531.$resolve_match(v$5670)]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_exp(UNRES_INFIX)");
} };
};
fix$6531.$resolve_valbind = function(valbind$5636){switch (valbind$5636[0]) { case 1: {var v$5637 = valbind$5636[1];
var v$5638 = v$5637[3];
switch (v$5638[0]) { case 1: {var v$5639 = v$5637[0];
var v$5640 = v$5637[1];
var v$5641 = v$5637[2];
return [1,[v$5639,resolve_pat$5501(v$5640),fix$6531.$resolve_exp(v$5641),[1]]];
 break; }default: {var v$5642 = v$5637[0];
var v$5643 = v$5637[1];
var v$5644 = v$5637[2];
var v$5645 = v$5638[1];
return [1,[v$5642,resolve_pat$5501(v$5643),fix$6531.$resolve_exp(v$5644),[0,fix$6531.$resolve_valbind(v$5645)]]];
} };
 break; }default: {var v$5646 = valbind$5636[1];
var v$5647 = v$5646[0];
var v$5648 = v$5646[1];
return [0,[v$5647,fix$6531.$resolve_valbind(v$5648)]];
} };
};
var resolve_exprow$5635 = fix$6531.$resolve_exprow;
var resolve_dec$5634 = fix$6531.$resolve_dec;
var resolve_atexp$5633 = fix$6531.$resolve_atexp;
var resolve_mrule$5632 = fix$6531.$resolve_mrule;
var resolve_match$5631 = fix$6531.$resolve_match;
var resolve_exp$5630 = fix$6531.$resolve_exp;
var resolve_valbind$5629 = fix$6531.$resolve_valbind;
t$6516 = (resolve_dec$5634(v$4255));
return [t$6559,t$6558,t$6516];
};
return 0;
})();
