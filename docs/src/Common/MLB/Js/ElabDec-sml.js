if ((typeof(basics$0ElabDec$1)) == "undefined") {basics$0ElabDec$1 = {};
};
(function(){basics$0ElabDec$1.eq_flexresResult$4284 = function(v$4286,v$4287){switch (v$4286) { case 0: {switch (v$4287) { case 0: {return true;
 break; }default: {return false;
} };
 break; }case 1: {switch (v$4287) { case 1: {return true;
 break; }default: {return false;
} };
 break; } };
};
var values_64bit$180 = tools$0Flags$1$6.is_on0$5161("values_64bit");
var addTypeInfo_CON$351 = function(v$367,v$368,v$369,v$370){var v$365 = syntax_objects$0Ident$1.decompose$96(v$370);
var v$366 = v$365[1];
var cons$360 = (basics$0Environments$1.lookup_fellow_constructors$3418(v$368))(v$370);
var t$6498 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6497 = v$367;
var t$6496;
var t$6491;
var v$361;
var fix$6488 = {};
fix$6488.$acc = function(v$4391,v$4392){lab$acc: while (true) {if (v$4391 == null) {return v$4392;
} else {var v$4393 = v$4391;
var v$4394 = v$4393[1];
var t$6489 = v$4394;
var t$6490 = SmlPrims.chk_ovf_i32(v$4392 + 1);
var v$4391 = t$6489;
var v$4392 = t$6490;
continue lab$acc;
};
};
};
var acc$4390 = fix$6488.$acc;
v$361 = (acc$4390(cons$360,0));
var t$6495;
var v$4398;
var fix$6492 = {};
fix$6492.$count = function(v$6342,v$6343){lab$count: while (true) {if (v$6342 == null) {return [1];
} else {var v$6344 = v$6342;
var v$6345 = v$6344[0];
var v$6346 = v$6344[1];
if (syntax_objects$0Ident$1.eq_id$248(v$6345,v$366)) {return [0,v$6343];
} else {var t$6493 = v$6346;
var t$6494 = SmlPrims.chk_ovf_i32(v$6343 + 1);
var v$6342 = t$6493;
var v$6343 = t$6494;
continue lab$count;
};
};
};
};
var count$6341 = fix$6492.$count;
v$4398 = (count$6341(cons$360,0));
switch (v$4398[0]) { case 0: {t$6495 = v$4398[1];
 break; }default: {t$6495 = (tools$0Crash$1.impossible$59("ElabDec.where'"));
} };
t$6491 = [t$6495,v$369,v$370,v$361];
t$6496 = [18,t$6491];
return t$6498(t$6497,t$6496);
};
var fix$6499 = {};
fix$6499.$dom_vb = function(v$527,v$528){lab$dom_vb: while (true) {switch (v$528[0]) { case 1: {var v$522 = v$528[1];
var v$523 = v$522[1];
var v$524 = v$522[3];
var t$6502 = basis$0List$1.s$n$686;
var t$6501 = basics$0Environments$1.dom_pat$3422(v$527,v$523,true);
var t$6500;
switch (v$524[0]) { case 0: {var v$521 = v$524[1];
t$6500 = (fix$6499.$dom_vb(v$527,v$521));
 break; }default: {t$6500 = null;
} };
return t$6502(t$6501,t$6500);
 break; }default: {var v$525 = v$528[1];
var v$526 = v$525[1];
var t$6503 = v$527;
var t$6504 = v$526;
var v$527 = t$6503;
var v$528 = t$6504;
continue lab$dom_vb;
} };
};
};
var dom_vb$502 = fix$6499.$dom_vb;
var fix$6505 = {};
fix$6505.$initial_TE = function(v$532){var v$542 = v$532[1];
var v$543 = v$542[4];
switch (v$543[0]) { case 1: {var v$544 = v$542[1];
var v$545 = v$542[2];
return basics$0Environments$1.init$2007(v$544,v$545);
 break; }default: {var v$546 = v$542[1];
var v$547 = v$542[2];
var v$548 = v$543[1];
return basics$0Environments$1.plus$1790(basics$0Environments$1.init$2007(v$546,v$547),fix$6505.$initial_TE(v$548));
} };
};
var initial_TE$529 = fix$6505.$initial_TE;
var fix$6506 = {};
fix$6506.$elab_ty = function(v$3387,v$3388){switch (v$3388[0]) { case 0: {var v$3375 = v$3388[1];
var v$3376 = v$3375[0];
var v$3377 = v$3375[1];
var ty_opt$3368 = basics$0Environments$1.ExplicitTyVar_lookup$3300(v$3387,v$3377);
var t$6871 = ty_opt$3368;
var t$6870;
var t$6869;
var t$6868;
switch (ty_opt$3368[0]) { case 0: {t$6868 = (basics$0ElabInfo$1.from_ParseInfo$231(v$3376));
 break; }default: {var v$5792 = [15,[syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$3377),null]];
t$6868 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3376),v$5792));
} };
t$6869 = [t$6868,v$3377];
t$6870 = [0,t$6869];
return [t$6871,t$6870];
 break; }case 1: {var v$3350 = v$3388[1];
var v$3351 = v$3350[1];
switch (v$3351[0]) { case 1: {var v$3352 = v$3350[0];
return [[0,basics$0StatObject$1.Unit$1989],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3352),[1]]]];
 break; }default: {var v$3365 = v$3350[0];
var v$3366 = v$3351[1];
var v$3359 = fix$6506.$elab_tyrow(v$3387,v$3366);
var v$3360 = v$3359[0];
switch (v$3360[0]) { case 0: {var v$3362 = v$3360[1];
var v$3363 = v$3359[1];
return [[0,basics$0StatObject$1.from_RecType$1539(v$3362)],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3365),[0,v$3363]]]];
 break; }default: {var v$3364 = v$3359[1];
return [[1],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3365),[0,v$3364]]]];
} };
} };
 break; }case 4: {var v$3345 = v$3388[1];
var v$3346 = v$3345[0];
var v$3347 = v$3345[1];
var v$3348 = v$3345[2];
var res_list$3280 = basis$0List$1.map$697(function(ty$3283){return fix$6506.$elab_ty(v$3387,ty$3283);
},v$3347);
var tau_opt_list$3284 = basis$0List$1.map$697(function(v$3287){return v$3287[0];
},res_list$3280);
var out_ty_list$3289 = basis$0List$1.map$697(function(v$3292){return v$3292[1];
},res_list$3280);
var fix$6854 = {};
fix$6854.$unopt_list = function(v$3310,v$6442){lab$unopt_list: while (true) {if (v$3310 == null) {return [0,basis$0List$1.rev$682(v$6442)];
} else {var v$3312 = v$3310;
var v$3313 = v$3312[0];
switch (v$3313[0]) { case 1: {return [1];
 break; }default: {var v$3316 = v$3313[1];
var v$3317 = v$3312[1];
var t$6855 = v$3317;
var t$6856 = [v$3316,v$6442];
var v$3310 = t$6855;
var v$6442 = t$6856;
continue lab$unopt_list;
} };
};
};
};
var unopt_list$3294 = fix$6854.$unopt_list;
var v$3323 = unopt_list$3294(tau_opt_list$3284,null);
switch (v$3323[0]) { case 0: {var v$3344 = v$3323[1];
var v$3329 = (basics$0Environments$1.lookup_longtycon$3419(v$3387))(v$3348);
switch (v$3329[0]) { case 0: {var v$3343 = v$3329[1];
var v$3341 = basics$0Environments$1.to_theta_and_VE$1680(v$3343);
var v$3342 = v$3341[0];
var expectedArity$3333 = basics$0StatObject$1.arity$4013(v$3342);
var actualArity$3334;
var fix$6857 = {};
fix$6857.$acc = function(v$4522,v$4523){lab$acc: while (true) {if (v$4522 == null) {return v$4523;
} else {var v$4524 = v$4522;
var v$4525 = v$4524[1];
var t$6858 = v$4525;
var t$6859 = SmlPrims.chk_ovf_i32(v$4523 + 1);
var v$4522 = t$6858;
var v$4523 = t$6859;
continue lab$acc;
};
};
};
var acc$4521 = fix$6857.$acc;
actualArity$3334 = (acc$4521(v$3344,0));
if (expectedArity$3333 == actualArity$3334) {return [[0,basics$0StatObject$1.apply$3998(v$3342,v$3344)],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3346),out_ty_list$3289,v$3348]]];
} else {var t$6863 = [1];
var t$6862;
var t$6861;
var t$6860;
var v$5794 = [0,[actualArity$3334,expectedArity$3333]];
t$6860 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3346),v$5794));
t$6861 = [t$6860,out_ty_list$3289,v$3348];
t$6862 = [4,t$6861];
return [t$6863,t$6862];
};
 break; }default: {var t$6867 = [1];
var t$6866;
var t$6865;
var t$6864;
var v$5798 = [33,v$3348];
t$6864 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3346),v$5798));
t$6865 = [t$6864,out_ty_list$3289,v$3348];
t$6866 = [4,t$6865];
return [t$6867,t$6866];
} };
 break; }default: {return [[1],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3346),out_ty_list$3289,v$3348]]];
} };
 break; }case 3: {var v$3275 = v$3388[1];
var v$3276 = v$3275[0];
var v$3277 = v$3275[1];
var v$3278 = v$3275[2];
var v$5799 = fix$6506.$elab_ty(v$3387,v$3277);
var v$5800 = fix$6506.$elab_ty(v$3387,v$3278);
var v$3261 = v$5799[0];
switch (v$3261[0]) { case 0: {var v$3264 = v$5800[0];
switch (v$3264[0]) { case 0: {var v$3266 = v$3261[1];
var v$3267 = v$5799[1];
var v$3268 = v$3264[1];
var v$3269 = v$5800[1];
return [[0,basics$0StatObject$1.mk_Arrow$2104(v$3266,v$3268)],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$3267,v$3269]]];
 break; }default: {var v$4537 = v$5799[1];
var v$4539 = v$5800[1];
return [[1],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$4537,v$4539]]];
} };
 break; }default: {var v$4542 = v$5799[1];
var v$4544 = v$5800[1];
return [[1],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$3276),v$4542,v$4544]]];
} };
 break; }default: {var v$3384 = v$3388[1];
var v$3385 = v$3384[0];
var v$3386 = v$3384[1];
var v$3381 = fix$6506.$elab_ty(v$3387,v$3386);
var v$3382 = v$3381[0];
var v$3383 = v$3381[1];
return [v$3382,[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$3385),v$3383]]];
} };
};
fix$6506.$elab_tyrow = function(v$3446,v$3447){var v$3448 = v$3447[1];
var v$3449 = v$3448[0];
var v$3450 = v$3448[1];
var v$3451 = v$3448[2];
var v$3452 = v$3448[3];
var v$5781 = fix$6506.$elab_ty(v$3446,v$3451);
var v$5782 = fix$6506.$elab_tyrow_opt(v$3446,v$3452);
var v$3416 = v$5781[0];
switch (v$3416[0]) { case 0: {var v$3419 = v$5782[0];
switch (v$3419[0]) { case 0: {var v$3431 = v$3416[1];
var v$3432 = v$5781[1];
var v$3433 = v$3419[1];
var v$3434 = v$5782[1];
var v$3424;
var t$6853;
var fix$6851 = {};
fix$6851.$member = function(v$6350){lab$member: while (true) {if (v$6350 == null) {return false;
} else {var v$6351 = v$6350;
var v$6352 = v$6351[0];
var v$6353 = v$6351[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$3450,v$6352)) {return true;
} else {var t$6852 = v$6353;
var v$6350 = t$6852;
continue lab$member;
};
};
};
};
var member$6349 = fix$6851.$member;
t$6853 = (member$6349(basics$0StatObject$1.sorted_labs$1754(v$3433)));
if (t$6853) {var t$6850 = v$3433;
var t$6849;
var v$5788 = [[5,v$3450],null];
var v$5790 = [24,v$5788];
t$6849 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$5790));
v$3424 = [t$6850,t$6849];
} else {v$3424 = [(basics$0StatObject$1.add_field$1695(v$3450,v$3431))(v$3433),basics$0ElabInfo$1.from_ParseInfo$231(v$3449)];
};
return [[0,v$3424[0]],[0,[v$3424[1],v$3450,v$3432,v$3434]]];
 break; }default: {var v$4509 = v$5781[1];
var v$4511 = v$5782[1];
return [[1],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$4509,v$4511]]];
} };
 break; }default: {var v$3441 = v$5782[0];
switch (v$3441[0]) { case 0: {var v$3443 = v$5781[1];
var v$3444 = v$3441[1];
var v$3445 = v$5782[1];
return [[0,v$3444],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$3443,v$3445]]];
 break; }default: {var v$4514 = v$5781[1];
var v$4516 = v$5782[1];
return [[1],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$3449),v$3450,v$4514,v$4516]]];
} };
} };
};
fix$6506.$elab_tyrow_opt = function(v$6441,v$3463){switch (v$3463[0]) { case 1: {return [[0,basics$0StatObject$1.empty$1611],[1]];
 break; }default: {var v$3478 = v$3463[1];
var v$3471 = fix$6506.$elab_tyrow(v$6441,v$3478);
var v$3472 = v$3471[0];
switch (v$3472[0]) { case 0: {return [[0,v$3472[1]],[0,v$3471[1]]];
 break; }default: {return [[1],[0,v$3471[1]]];
} };
} };
};
basics$0ElabDec$1.elab_ty$807 = fix$6506.$elab_ty;
var elab_tyrow$806 = fix$6506.$elab_tyrow;
var elab_tyrow_opt$805 = fix$6506.$elab_tyrow_opt;
var fix$6507 = {};
fix$6507.$elab_patrow = function(v$2975,v$2976){switch (v$2976[0]) { case 0: {var v$2917 = v$2976[1];
var v$2918 = v$2917[3];
switch (v$2918[0]) { case 1: {var v$2930 = v$2917[0];
var v$2931 = v$2917[1];
var v$2932 = v$2917[2];
var v$2924 = fix$6507.$elab_pat(v$2975,v$2932);
var v$2925 = v$2924[0];
var v$2926 = v$2924[1];
var v$2927 = v$2926[0];
var v$2928 = v$2926[1];
var v$2929 = v$2924[2];
return [v$2925,[v$2927,(basics$0StatObject$1.add_field$1695(v$2931,v$2928))(basics$0StatObject$1.empty$1611)],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2930),v$2931,v$2929,[1]]]];
 break; }default: {var v$2969 = v$2917[0];
var v$2970 = v$2917[1];
var v$2971 = v$2917[2];
var v$2972 = v$2918[1];
var v$2963 = fix$6507.$elab_pat(v$2975,v$2971);
var v$2965 = v$2963[1];
var v$2966 = v$2965[0];
var v$2967 = v$2965[1];
var v$2968 = v$2963[2];
var v$2957 = fix$6507.$elab_patrow(v$2975,v$2972);
var v$2959 = v$2957[1];
var v$2960 = v$2959[0];
var v$2961 = v$2959[1];
var v$2962 = v$2957[2];
var intdom$2943 = edlib$0EqSet$1.intersect$238(function(v$6445){return syntax_objects$0Ident$1.eq_id$248(v$6445[0],v$6445[1]);
},basics$0Environments$1.dom$1166(v$2966),basics$0Environments$1.dom$1166(v$2960));
var v$5849 = edlib$0EqSet$1.isEmpty$119(intdom$2943);
var v$5850;
var fix$6828 = {};
fix$6828.$member = function(v$6364){lab$member: while (true) {if (v$6364 == null) {return false;
} else {var v$6365 = v$6364;
var v$6366 = v$6365[0];
var v$6367 = v$6365[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$2970,v$6366)) {return true;
} else {var t$6829 = v$6367;
var v$6364 = t$6829;
continue lab$member;
};
};
};
};
var member$6363 = fix$6828.$member;
v$5850 = (member$6363(basics$0StatObject$1.sorted_labs$1754(v$2961)));
if (v$5849) {if (v$5850) {var t$6834 = basics$0StatObject$1.Id$845;
var t$6833 = [v$2960,v$2961];
var t$6832;
var t$6831;
var t$6830;
var v$5856 = [[5,v$2970],null];
var v$5858 = [24,v$5856];
t$6830 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5858));
t$6831 = [t$6830,v$2970,v$2968,[0,v$2962]];
t$6832 = [0,t$6831];
return [t$6834,t$6833,t$6832];
} else {return [0,[basics$0Environments$1.plus$1101(v$2966,v$2960),(basics$0StatObject$1.add_field$1695(v$2970,v$2967))(v$2961)],[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$2970,v$2968,[0,v$2962]]]];
};
} else {if (v$5850) {var t$6839 = basics$0StatObject$1.Id$845;
var t$6838 = [v$2960,v$2961];
var t$6837;
var t$6836;
var t$6835;
var v$5864 = basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2956){return [6,v$2956];
},edlib$0EqSet$1.list$107(intdom$2943)),[[5,v$2970],null]);
var v$5866 = [24,v$5864];
t$6835 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5866));
t$6836 = [t$6835,v$2970,v$2968,[0,v$2962]];
t$6837 = [0,t$6836];
return [t$6839,t$6838,t$6837];
} else {var t$6844 = basics$0StatObject$1.Id$845;
var t$6843 = [v$2960,(basics$0StatObject$1.add_field$1695(v$2970,v$2967))(v$2961)];
var t$6842;
var t$6841;
var t$6840;
var v$5860 = basis$0List$1.map$697(function(v$2955){return [6,v$2955];
},edlib$0EqSet$1.list$107(intdom$2943));
var v$5862 = [24,v$5860];
t$6840 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2969),v$5862));
t$6841 = [t$6840,v$2970,v$2968,[0,v$2962]];
t$6842 = [0,t$6841];
return [t$6844,t$6843,t$6842];
};
};
} };
 break; }default: {var v$2974 = v$2976[1];
var rho$2973 = basics$0StatObject$1.dotdotdot$1612(0);
var t$6848 = basics$0StatObject$1.Id$845;
var t$6847 = [basics$0Environments$1.empty$1052,rho$2973];
var t$6846;
var t$6845;
var v$5868 = [1,rho$2973];
t$6845 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$2974),v$5868));
t$6846 = [1,t$6845];
return [t$6848,t$6847,t$6846];
} };
};
fix$6507.$elab_atpat = function(v$2896,v$2897){switch (v$2897[0]) { case 0: {var v$2879 = v$2897[1];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.fresh_normal$1538(0),null],[0,basics$0ElabInfo$1.from_ParseInfo$231(v$2879)]];
 break; }case 1: {var v$2875 = v$2897[1];
var v$2876 = v$2875[0];
var v$2877 = v$2875[1];
var v$2872 = basics$0StatObject$1.of_scon$2232(v$2877);
var v$2873 = v$2872[1];
var v$2874 = v$2872[0];
var i_out$2859;
switch (v$2874[0]) { case 1: {switch (v$2877[0]) { case 2: {var v$5827 = [29];
i_out$2859 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2876),v$5827));
 break; }default: {i_out$2859 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2876));
} };
 break; }default: {var v$2870 = v$2874[1];
var v$5829 = [0,v$2870];
i_out$2859 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$2876),v$5829));
} };
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,v$2873,null],[1,[basics$0ElabInfo$1.plus_TypeInfo$128(i_out$2859,[9,[v$2873]]),v$2877]]];
 break; }case 4: {var v$2848 = v$2897[1];
var v$2849 = v$2848[0];
var v$2850 = v$2848[1];
var v$2851 = v$2850[1];
var v$2852 = v$2851[0];
var v$2853 = v$2851[1];
var v$2854 = v$2848[2];
var v$2740 = (basics$0Environments$1.lookup_longid$3417(v$2896))(v$2852);
var rhs2$2736 = function(obj$2847){var tau$2810 = basics$0StatObject$1.fresh_normal$1538(0);
var tau_scheme$2811 = [null,tau$2810];
var regvars_opt$$2812 = basis$0Option$1.map$69(function(v$2816){var v$2817 = v$2816[0];
var v$2818 = v$2816[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2817),v$2818];
},v$2854);
var v$2823 = syntax_objects$0Ident$1.decompose$96(v$2852);
if (v$2823[0] == null) {var v$2846 = v$2823[1];
var v$2828;
switch (v$2854[0]) { case 1: {v$2828 = [basics$0ElabInfo$1.from_ParseInfo$231(v$2849),null];
 break; }default: {var v$2843 = v$2854[1];
var v$2844 = v$2843[0];
var v$2845 = v$2843[1];
var v$2841 = basis$0List$1.filter$417(function(e$4621){var t$6819;
var fix$6817 = {};
fix$6817.$NoOfOccurences = function(v$6356){lab$NoOfOccurences: while (true) {if (v$6356 == null) {return 0;
} else {var v$6357 = v$6356;
var v$6358 = v$6357[0];
var v$6359 = v$6357[1];
if (e$4621[1] == v$6358[1]) {return SmlPrims.chk_ovf_i32(1 + (fix$6817.$NoOfOccurences(v$6359)));
} else {var t$6818 = v$6359;
var v$6356 = t$6818;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6355 = fix$6817.$NoOfOccurences;
t$6819 = (NoOfOccurences$6355(v$2845));
return t$6819 > 1;
},v$2845);
if (v$2841 == null) {v$2828 = [basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$2845];
} else {var t$6820;
var v$5835 = basis$0List$1.map$697(function(v$2842){return [4,v$2842];
},v$2841);
var v$5837 = [24,v$5835];
t$6820 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2844),v$5837));
v$2828 = [t$6820,v$2845];
};
} };
var v$2829 = v$2828[0];
var v$2830 = v$2828[1];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.singleton_var$1058(v$2846,tau_scheme$2811),tau$2810,v$2830],[4,[basics$0ElabInfo$1.plus_TypeInfo$128(v$2829,[0,[tau$2810,null]]),[0,[v$2852,v$2853]],regvars_opt$$2812]]];
} else {var t$6816 = basics$0StatObject$1.Id$845;
var t$6815 = [basics$0Environments$1.bogus$1053,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6814;
var t$6813;
var t$6812;
var v$5841 = [30,v$2852];
t$6812 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$5841));
t$6813 = [t$6812,[0,[v$2852,v$2853]],regvars_opt$$2812];
t$6814 = [4,t$6813];
return [t$6816,t$6815,t$6814];
};
};
switch (v$2740[0]) { case 0: {var v$2742 = v$2740[1];
switch (v$2742[0]) { case 2: {var v$2809 = v$2742[1];
var v$2806 = basics$0StatObject$1.instance$$3693(v$2809);
var v$2807 = v$2806[0];
var v$2808 = v$2806[1];
var v$2799;
var t$6827;
switch ((basics$0StatObject$1.to_ConsType$2041(v$2807))[0]) { case 0: {t$6827 = true;
 break; }default: {t$6827 = false;
} };
if (t$6827) {v$2799 = [v$2807,basics$0ElabInfo$1.from_ParseInfo$231(v$2849)];
} else {var t$6826 = basics$0StatObject$1.fresh_normal$1538(0);
var t$6825;
var v$5843 = [31,v$2807];
t$6825 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$5843));
v$2799 = [t$6826,t$6825];
};
var v$2800 = v$2799[0];
var v$2801 = v$2799[1];
var i$$2778 = ((basis$0Option$1.isSome$56(0))(v$2854))?(basics$0ElabInfo$1.plus_ErrorInfo$102(v$2801,[26])):v$2801;
var R$2783;
switch (v$2854[0]) { case 0: {R$2783 = v$2854[1][1];
 break; }default: {R$2783 = null;
} };
var regvars_opt$$2792 = basis$0Option$1.map$69(function(v$2796){var v$2797 = v$2796[0];
var v$2798 = v$2796[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2797),v$2798];
},v$2854);
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,v$2800,R$2783],[4,[addTypeInfo_CON$351(i$$2778,v$2896,v$2808,v$2852),[0,[v$2852,v$2853]],regvars_opt$$2792]]];
 break; }case 1: {var v$2761 = v$2742[1];
var v$2759;
var v$6163 = basics$0StatObject$1.unify$3416(basics$0StatObject$1.Exn$2084,v$2761);
switch (v$6163[0]) { case 1: {v$2759 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$2849)];
 break; }case 2: {var t$6822 = basics$0StatObject$1.Id$845;
var t$6821;
var v$6164 = [9,["expected long excon in pattern to have type",basics$0StatObject$1.Exn$2084,"but found it to have type",v$2761]];
t$6821 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$6164));
v$2759 = [t$6822,t$6821];
 break; }default: {var v$6165 = v$6163[1];
var v$6166 = v$6165[0];
var v$6167 = v$6165[1];
var t$6824 = basics$0StatObject$1.Id$845;
var t$6823;
var v$6168 = [10,[basics$0StatObject$1.Exn$2084,v$2761,v$6166,v$6167]];
t$6823 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2849),v$6168));
v$2759 = [t$6824,t$6823];
} };
var v$2760 = v$2759[1];
var i$$2747 = ((basis$0Option$1.isSome$56(0))(v$2854))?(basics$0ElabInfo$1.plus_ErrorInfo$102(v$2760,[26])):v$2760;
var regvars_opt$$2752 = basis$0Option$1.map$69(function(v$2756){var v$2757 = v$2756[0];
var v$2758 = v$2756[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$2757),v$2758];
},v$2854);
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.Exn$2084,null],[4,[basics$0ElabInfo$1.plus_TypeInfo$128(i$$2747,[15,[basics$0StatObject$1.Exn$2084,v$2852]]),[0,[v$2852,v$2853]],regvars_opt$$2752]]];
 break; }default: {return rhs2$2736(0);
} };
 break; }default: {return rhs2$2736(0);
} };
 break; }case 2: {var v$2715 = v$2897[1];
var v$2716 = v$2715[1];
switch (v$2716[0]) { case 1: {var v$2717 = v$2715[0];
return [basics$0StatObject$1.Id$845,[basics$0Environments$1.empty$1052,basics$0StatObject$1.Unit$1989,null],[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$2717),[1]]]];
 break; }default: {var v$2729 = v$2715[0];
var v$2730 = v$2716[1];
var v$2723 = fix$6507.$elab_patrow(v$2896,v$2730);
var v$2724 = v$2723[0];
var v$2725 = v$2723[1];
var v$2726 = v$2725[0];
var v$2727 = v$2725[1];
var v$2728 = v$2723[2];
var t$6811 = v$2724;
var t$6810 = [v$2726,basics$0StatObject$1.from_RecType$1539(v$2727),null];
var t$6809;
var t$6808;
var t$6807;
var v$5847 = basics$0ElabInfo$1.from_ParseInfo$231(v$2729);
var v$5848 = basics$0StatObject$1.from_RecType$1539(v$2727);
t$6807 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5847,[5,[v$5848]]));
t$6808 = [t$6807,[0,v$2728]];
t$6809 = [2,t$6808];
return [t$6811,t$6810,t$6809];
} };
 break; }default: {var v$2893 = v$2897[1];
var v$2894 = v$2893[0];
var v$2895 = v$2893[1];
var v$2886 = fix$6507.$elab_pat(v$2896,v$2895);
var v$2887 = v$2886[0];
var v$2888 = v$2886[1];
var v$2889 = v$2888[0];
var v$2890 = v$2888[1];
var v$2891 = v$2888[2];
var v$2892 = v$2886[2];
return [v$2887,[v$2889,v$2890,v$2891],[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$2894),v$2892]]];
} };
};
fix$6507.$elab_pat = function(v$2994,v$2995){var v$2987 = fix$6507.$elab_pat$(v$2994,v$2995);
var v$2988 = v$2987[0];
var v$2989 = v$2987[1];
return [v$2988,[v$2989[0],v$2989[1],v$2989[2]],v$2987[2]];
};
fix$6507.$elab_pat$ = function(v$3217,v$3218){switch (v$3218[0]) { case 4: {var v$3214 = v$3218[1];
var v$3215 = v$3214[0];
var v$3216 = v$3214[1];
var v$3207 = fix$6507.$elab_atpat(v$3217,v$3216);
var v$3208 = v$3207[0];
var v$3209 = v$3207[1];
var v$3210 = v$3209[0];
var v$3211 = v$3209[1];
var v$3212 = v$3209[2];
var v$3213 = v$3207[2];
return [v$3208,[v$3210,v$3211,v$3212],[4,[basics$0ElabInfo$1.from_ParseInfo$231(v$3215),v$3213]]];
 break; }case 3: {var v$3193 = v$3218[1];
var v$3194 = v$3193[0];
var v$3195 = v$3193[1];
var v$3196 = v$3195[1];
var v$3197 = v$3196[0];
var v$3198 = v$3196[1];
var v$3199 = v$3193[2];
var v$3186 = fix$6507.$elab_atpat(v$3217,v$3199);
var v$3188 = v$3186[1];
var v$3189 = v$3188[0];
var v$3190 = v$3188[1];
var v$3191 = v$3188[2];
var v$3192 = v$3186[2];
var v$3156 = (basics$0Environments$1.lookup_longid$3417(v$3217))(v$3197);
switch (v$3156[0]) { case 0: {var v$3158 = v$3156[1];
switch (v$3158[0]) { case 2: {var v$3184 = v$3158[1];
var new$3169 = basics$0StatObject$1.fresh_normal$1538(0);
var arrow$3170 = basics$0StatObject$1.mk_Arrow$2104(v$3190,new$3169);
var v$3181 = basics$0StatObject$1.instance$$3693(v$3184);
var v$3182 = v$3181[0];
var v$3183 = v$3181[1];
var v$3178;
var v$6114 = basics$0StatObject$1.unify$3416(arrow$3170,v$3182);
switch (v$6114[0]) { case 1: {v$3178 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3194)];
 break; }case 2: {var t$6794 = basics$0StatObject$1.Id$845;
var t$6793;
var v$6115 = [9,["argument to long value constructor in pattern suggests constructor type",arrow$3170,"but constructor has type",v$3182]];
t$6793 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6115));
v$3178 = [t$6794,t$6793];
 break; }default: {var v$6116 = v$6114[1];
var v$6117 = v$6116[0];
var v$6118 = v$6116[1];
var t$6796 = basics$0StatObject$1.Id$845;
var t$6795;
var v$6119 = [10,[arrow$3170,v$3182,v$6117,v$6118]];
t$6795 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6119));
v$3178 = [t$6796,t$6795];
} };
var v$3179 = v$3178[0];
var v$3180 = v$3178[1];
return [0,[v$3189,basics$0StatObject$1.on$854(v$3179,new$3169),v$3191],[3,[addTypeInfo_CON$351(v$3180,v$3217,v$3183,v$3197),[0,[v$3197,v$3198]],v$3192]]];
 break; }case 1: {var v$3167 = v$3158[1];
var arrow$3160 = basics$0StatObject$1.mk_Arrow$2104(v$3190,basics$0StatObject$1.Exn$2084);
var v$3164;
var v$6126 = basics$0StatObject$1.unify$3416(arrow$3160,v$3167);
switch (v$6126[0]) { case 1: {v$3164 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3194)];
 break; }case 2: {var t$6785 = basics$0StatObject$1.Id$845;
var t$6784;
var v$6127 = [9,["argument to long exception constructor in pattern requires exception constructor type ",arrow$3160,"but the exception constructor has type",v$3167]];
t$6784 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6127));
v$3164 = [t$6785,t$6784];
 break; }default: {var v$6128 = v$6126[1];
var v$6129 = v$6128[0];
var v$6130 = v$6128[1];
var t$6787 = basics$0StatObject$1.Id$845;
var t$6786;
var v$6131 = [10,[arrow$3160,v$3167,v$6129,v$6130]];
t$6786 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$6131));
v$3164 = [t$6787,t$6786];
} };
var v$3165 = v$3164[0];
var v$3166 = v$3164[1];
var t$6792 = 0;
var t$6791 = [v$3189,basics$0StatObject$1.Exn$2084,null];
var t$6790;
var t$6789;
var t$6788;
var v$5802 = basics$0StatObject$1.on$854(v$3165,arrow$3160);
t$6788 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$3166,[15,[v$5802,v$3197]]));
t$6789 = [t$6788,[0,[v$3197,v$3198]],v$3192];
t$6790 = [3,t$6789];
return [t$6792,t$6791,t$6790];
 break; }default: {var t$6801 = basics$0StatObject$1.Id$845;
var t$6800 = [v$3189,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6799;
var t$6798;
var t$6797;
var v$5807 = [35,v$3197];
t$6797 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$5807));
t$6798 = [t$6797,[0,[syntax_objects$0Ident$1.bogus$168,v$3198]],v$3192];
t$6799 = [3,t$6798];
return [t$6801,t$6800,t$6799];
} };
 break; }default: {var t$6806 = basics$0StatObject$1.Id$845;
var t$6805 = [v$3189,basics$0StatObject$1.fresh_normal$1538(0),null];
var t$6804;
var t$6803;
var t$6802;
var v$5811 = [35,v$3197];
t$6802 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3194),v$5811));
t$6803 = [t$6802,[0,[syntax_objects$0Ident$1.bogus$168,v$3198]],v$3192];
t$6804 = [3,t$6803];
return [t$6806,t$6805,t$6804];
} };
 break; }case 1: {var v$3137 = v$3218[1];
var v$3138 = v$3137[0];
var v$3139 = v$3137[1];
var v$3140 = v$3137[2];
var v$3130 = fix$6507.$elab_pat(v$3217,v$3139);
var v$3131 = v$3130[0];
var v$3132 = v$3130[1];
var v$3133 = v$3132[0];
var v$3134 = v$3132[1];
var v$3135 = v$3132[2];
var v$3136 = v$3130[2];
var v$3117 = basics$0ElabDec$1.elab_ty$807(v$3217,v$3140);
var v$3118 = v$3117[0];
switch (v$3118[0]) { case 0: {var v$3127 = v$3118[1];
var v$3128 = v$3117[1];
var v$3124;
var v$6138 = basics$0StatObject$1.unify$3416(v$3134,v$3127);
switch (v$6138[0]) { case 1: {v$3124 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3138)];
 break; }case 2: {var t$6781 = basics$0StatObject$1.Id$845;
var t$6780;
var v$6139 = [9,["pattern has type",v$3134,"which conflicts with your type constraint",v$3127]];
t$6780 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$6139));
v$3124 = [t$6781,t$6780];
 break; }default: {var v$6140 = v$6138[1];
var v$6141 = v$6140[0];
var v$6142 = v$6140[1];
var t$6783 = basics$0StatObject$1.Id$845;
var t$6782;
var v$6143 = [10,[v$3134,v$3127,v$6141,v$6142]];
t$6782 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$6143));
v$3124 = [t$6783,t$6782];
} };
var v$3126 = v$3124[1];
var S$$$3123 = 0;
return [S$$$3123,[v$3133,basics$0StatObject$1.on$854(S$$$3123,v$3134),v$3135],[1,[v$3126,v$3136,v$3128]]];
 break; }default: {var v$3129 = v$3117[1];
return [v$3131,[v$3133,v$3134,v$3135],[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$3138),v$3136,v$3129]]];
} };
 break; }case 2: {var v$3031 = v$3218[1];
var v$3032 = v$3031[2];
switch (v$3032[0]) { case 1: {var v$3052 = v$3031[0];
var v$3053 = v$3031[1];
var v$3054 = v$3053[1];
var v$3055 = v$3054[0];
var v$3056 = v$3054[1];
var v$3057 = v$3031[3];
var v$3046 = fix$6507.$elab_pat(v$3217,v$3057);
var v$3047 = v$3046[0];
var v$3048 = v$3046[1];
var v$3049 = v$3048[0];
var v$3050 = v$3048[1];
var v$3051 = v$3046[2];
var VE2$3038 = basics$0Environments$1.singleton_var$1058(v$3055,[null,v$3050]);
var intdom$3039 = edlib$0EqSet$1.intersect$238(function(v$6443){return syntax_objects$0Ident$1.eq_id$248(v$6443[0],v$6443[1]);
},basics$0Environments$1.dom$1166(v$3049),basics$0Environments$1.dom$1166(VE2$3038));
var VE3$3040 = basics$0Environments$1.plus$1101(v$3049,VE2$3038);
if (edlib$0EqSet$1.isEmpty$119(intdom$3039)) {var t$6765 = v$3047;
var t$6764 = [VE3$3040,v$3050,null];
var t$6763;
var t$6762;
var t$6761;
var v$5812 = basics$0ElabInfo$1.from_ParseInfo$231(v$3052);
t$6761 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5812,[0,[v$3050,null]]));
t$6762 = [t$6761,[0,[v$3055,v$3056]],[1],v$3051];
t$6763 = [2,t$6762];
return [t$6765,t$6764,t$6763];
} else {var t$6770 = v$3047;
var t$6769 = [VE3$3040,v$3050,null];
var t$6768;
var t$6767;
var t$6766;
var v$5815 = basis$0List$1.map$697(function(v$3045){return [6,v$3045];
},edlib$0EqSet$1.list$107(intdom$3039));
var v$5817 = [24,v$5815];
t$6766 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3052),v$5817));
t$6767 = [t$6766,[0,[v$3055,v$3056]],[1],v$3051];
t$6768 = [2,t$6767];
return [t$6770,t$6769,t$6768];
};
 break; }default: {var v$3097 = v$3031[0];
var v$3098 = v$3031[1];
var v$3099 = v$3098[1];
var v$3100 = v$3099[0];
var v$3101 = v$3099[1];
var v$3102 = v$3032[1];
var v$3103 = v$3031[3];
var v$3091 = fix$6507.$elab_pat(v$3217,v$3103);
var v$3092 = v$3091[0];
var v$3093 = v$3091[1];
var v$3094 = v$3093[0];
var v$3095 = v$3093[1];
var v$3096 = v$3091[2];
var v$3069 = basics$0ElabDec$1.elab_ty$807(v$3217,v$3102);
var v$3070 = v$3069[0];
switch (v$3070[0]) { case 0: {var v$3088 = v$3070[1];
var v$3089 = v$3069[1];
var v$3085;
var v$6150 = basics$0StatObject$1.unify$3416(v$3095,v$3088);
switch (v$6150[0]) { case 1: {v$3085 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$3097)];
 break; }case 2: {var t$6772 = basics$0StatObject$1.Id$845;
var t$6771;
var v$6151 = [9,["pattern has type",v$3095,"which conflicts with your constraint",v$3088]];
t$6771 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$6151));
v$3085 = [t$6772,t$6771];
 break; }default: {var v$6152 = v$6150[1];
var v$6153 = v$6152[0];
var v$6154 = v$6152[1];
var t$6774 = basics$0StatObject$1.Id$845;
var t$6773;
var v$6155 = [10,[v$3095,v$3088,v$6153,v$6154]];
t$6773 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$6155));
v$3085 = [t$6774,t$6773];
} };
var v$3087 = v$3085[1];
var i$$3075 = basics$0ElabInfo$1.plus_TypeInfo$128(v$3087,[0,[v$3088,null]]);
var S$$$3076 = 0;
var VE2$3077 = basics$0Environments$1.singleton_var$1058(v$3100,[null,v$3095]);
var intdom$3078 = edlib$0EqSet$1.intersect$238(function(v$6444){return syntax_objects$0Ident$1.eq_id$248(v$6444[0],v$6444[1]);
},basics$0Environments$1.dom$1166(v$3094),basics$0Environments$1.dom$1166(VE2$3077));
var VE3$3079 = basics$0Environments$1.plus$1101(v$3094,VE2$3077);
if (edlib$0EqSet$1.isEmpty$119(intdom$3078)) {return [S$$$3076,[VE3$3079,basics$0StatObject$1.on$854(S$$$3076,v$3095),null],[2,[i$$3075,[0,[v$3100,v$3101]],[0,v$3089],v$3096]]];
} else {var t$6779 = S$$$3076;
var t$6778 = [VE3$3079,basics$0StatObject$1.on$854(S$$$3076,v$3095),null];
var t$6777;
var t$6776;
var t$6775;
var v$5821 = basis$0List$1.map$697(function(v$3084){return [6,v$3084];
},edlib$0EqSet$1.list$107(intdom$3078));
var v$5823 = [24,v$5821];
t$6775 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$3097),v$5823));
t$6776 = [t$6775,[0,[v$3100,v$3101]],[0,v$3089],v$3096];
t$6777 = [2,t$6776];
return [t$6779,t$6778,t$6777];
};
 break; }default: {var v$3090 = v$3069[1];
return [v$3092,[v$3094,v$3095,null],[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$3097),[0,[v$3100,v$3101]],[0,v$3090],v$3096]]];
} };
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_pat(UNRES_INFIX)");
} };
};
var elab_patrow$810 = fix$6507.$elab_patrow;
var elab_atpat$811 = fix$6507.$elab_atpat;
var elab_pat$809 = fix$6507.$elab_pat;
var elab_pat$$808 = fix$6507.$elab_pat$;
var out_i_for_exbind$813 = function(excon$2641,VE_rest$2644,i$2647,tau_opt$2650){if (edlib$0EqSet$1.member$128(function(v$6446){return syntax_objects$0Ident$1.eq_id$248(v$6446[0],v$6446[1]);
},excon$2641,basics$0Environments$1.dom$1166(VE_rest$2644))) {var v$5870 = [[8,excon$2641],null];
var v$5872 = [24,v$5870];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5872);
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(excon$2641)) {var v$5874 = [27,[excon$2641,null]];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5874);
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(excon$2641)) {var v$5876 = [28];
return basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(i$2647),v$5876);
} else {var v$5877 = basics$0ElabInfo$1.from_ParseInfo$231(i$2647);
return basics$0ElabInfo$1.plus_TypeInfo$128(v$5877,[16,[tau_opt$2650]]);
};
};
};
};
var fix$6508 = {};
fix$6508.$elab_exbind = function(v$2637,v$2638){switch (v$2638[0]) { case 1: {var v$2559 = v$2638[1];
var v$2560 = v$2559[2];
switch (v$2560[0]) { case 0: {var v$2582 = v$2559[0];
var v$2583 = v$2559[1];
var v$2584 = v$2583[1];
var v$2585 = v$2584[0];
var v$2586 = v$2584[1];
var v$2587 = v$2560[1];
var v$2588 = v$2559[3];
var v$2579 = fix$6508.$elab_exbind_opt(v$2637,v$2588);
var v$2580 = v$2579[0];
var v$2581 = v$2579[1];
var v$2571 = basics$0ElabDec$1.elab_ty$807(v$2637,v$2587);
var v$2572 = v$2571[0];
switch (v$2572[0]) { case 0: {var v$2576 = v$2572[1];
var v$2577 = v$2571[1];
var exnTy$2574 = basics$0StatObject$1.mk_Arrow$2104(v$2576,basics$0StatObject$1.Exn$2084);
var VE_this$2575 = basics$0Environments$1.singleton_excon$1074(v$2585,exnTy$2574);
return [basics$0Environments$1.plus$1101(VE_this$2575,v$2580),[1,[out_i_for_exbind$813(v$2585,v$2580,v$2582,[0,v$2576]),[0,[v$2585,v$2586]],[0,v$2577],v$2581]]];
 break; }default: {var v$2578 = v$2571[1];
return [v$2580,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$2582),[0,[v$2585,v$2586]],[0,v$2578],v$2581]]];
} };
 break; }default: {var v$2596 = v$2559[0];
var v$2597 = v$2559[1];
var v$2598 = v$2597[1];
var v$2599 = v$2598[0];
var v$2600 = v$2598[1];
var v$2601 = v$2559[3];
var VE_this$2589 = basics$0Environments$1.singleton_excon$1074(v$2599,basics$0StatObject$1.Exn$2084);
var v$2593 = fix$6508.$elab_exbind_opt(v$2637,v$2601);
var v$2594 = v$2593[0];
var v$2595 = v$2593[1];
return [basics$0Environments$1.plus$1101(VE_this$2589,v$2594),[1,[out_i_for_exbind$813(v$2599,v$2594,v$2596,[1]),[0,[v$2599,v$2600]],[1],v$2595]]];
} };
 break; }default: {var v$2626 = v$2638[1];
var v$2627 = v$2626[0];
var v$2628 = v$2626[1];
var v$2629 = v$2628[1];
var v$2630 = v$2629[0];
var v$2631 = v$2629[1];
var v$2632 = v$2626[2];
var v$2633 = v$2632[1];
var v$2634 = v$2633[0];
var v$2635 = v$2633[1];
var v$2636 = v$2626[3];
var v$2607 = (basics$0Environments$1.lookup_longid$3417(v$2637))(v$2634);
switch (v$2607[0]) { case 0: {var v$2609 = v$2607[1];
switch (v$2609[0]) { case 1: {var v$2618 = v$2609[1];
var VE_this$2611 = basics$0Environments$1.singleton_excon$1074(v$2630,v$2618);
var v$2615 = fix$6508.$elab_exbind_opt(v$2637,v$2636);
var v$2616 = v$2615[0];
var v$2617 = v$2615[1];
return [basics$0Environments$1.plus$1101(VE_this$2611,v$2616),[0,[out_i_for_exbind$813(v$2630,v$2616,v$2627,[1]),[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$2617]]];
 break; }default: {var v$4712 = fix$6508.$elab_exbind_opt(v$2637,v$2636);
var v$4713 = v$4712[0];
var v$4714 = v$4712[1];
var t$6756 = v$4713;
var t$6755;
var t$6754;
var t$6753;
var v$5882 = [35,v$2634];
t$6753 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2627),v$5882));
t$6754 = [t$6753,[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$4714];
t$6755 = [0,t$6754];
return [t$6756,t$6755];
} };
 break; }default: {var v$4722 = fix$6508.$elab_exbind_opt(v$2637,v$2636);
var v$4723 = v$4722[0];
var v$4724 = v$4722[1];
var t$6760 = v$4723;
var t$6759;
var t$6758;
var t$6757;
var v$5886 = [35,v$2634];
t$6757 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2627),v$5886));
t$6758 = [t$6757,[0,[v$2630,v$2631]],[0,[v$2634,v$2635]],v$4724];
t$6759 = [0,t$6758];
return [t$6760,t$6759];
} };
} };
};
fix$6508.$elab_exbind_opt = function(v$6447,v$2673){switch (v$2673[0]) { case 0: {var v$2682 = v$2673[1];
var v$2678 = fix$6508.$elab_exbind(v$6447,v$2682);
return [v$2678[0],[0,v$2678[1]]];
 break; }default: {return [basics$0Environments$1.empty$1052,[1]];
} };
};
var elab_exbind$814 = fix$6508.$elab_exbind;
var elab_exbind_opt$812 = fix$6508.$elab_exbind_opt;
var fix$6509 = {};
fix$6509.$elab_conbind = function(v$2488,v$2489,v$2490){var v$2443 = v$2490[1];
var v$2444 = v$2443[2];
switch (v$2444[0]) { case 0: {var v$2469 = v$2443[0];
var v$2470 = v$2443[1];
var v$2471 = v$2470[1];
var v$2472 = v$2471[0];
var v$2473 = v$2471[1];
var v$2474 = v$2444[1];
var v$2475 = v$2443[3];
var v$2466 = fix$6509.$elab_conbind_opt(v$2488,v$2489,v$2475);
var v$2467 = v$2466[0];
var v$2468 = v$2466[1];
var v$2459 = basics$0ElabDec$1.elab_ty$807(v$2488,v$2474);
var v$2460 = v$2459[0];
switch (v$2460[0]) { case 0: {var v$2463 = v$2460[1];
var v$2464 = v$2459[1];
var arrow$2462 = [null,basics$0StatObject$1.mk_Arrow$2104(v$2463,v$2489)];
var t$6744 = basics$0Environments$1.add$3708(function(v$6448){return syntax_objects$0Ident$1.eq_id$248(v$6448[0],v$6448[1]);
},v$2472,arrow$2462,v$2467);
var t$6743;
var t$6742;
var t$6741;
if (basics$0Environments$1.in_dom$3718(function(v$6449){return syntax_objects$0Ident$1.eq_id$248(v$6449[0],v$6449[1]);
},v$2472,v$2467)) {var v$6172 = [[9,v$2472],null];
var v$6173 = [24,v$6172];
t$6741 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6173));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2472)) {var v$6174 = [27,[v$2472,null]];
t$6741 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6174));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2472)) {var v$6175 = [28];
t$6741 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6175));
} else {t$6741 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2469));
};
};
};
t$6742 = [t$6741,[0,[v$2472,v$2473]],[0,v$2464],v$2468];
t$6743 = [0,t$6742];
return [t$6744,t$6743];
 break; }default: {var v$2465 = v$2459[1];
var t$6748 = v$2467;
var t$6747;
var t$6746;
var t$6745;
if (basics$0Environments$1.in_dom$3718(function(v$6450){return syntax_objects$0Ident$1.eq_id$248(v$6450[0],v$6450[1]);
},v$2472,v$2467)) {var v$6179 = [[9,v$2472],null];
var v$6180 = [24,v$6179];
t$6745 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6180));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2472)) {var v$6181 = [27,[v$2472,null]];
t$6745 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6181));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2472)) {var v$6182 = [28];
t$6745 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2469),v$6182));
} else {t$6745 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2469));
};
};
};
t$6746 = [t$6745,[0,[v$2472,v$2473]],[0,v$2465],v$2468];
t$6747 = [0,t$6746];
return [t$6748,t$6747];
} };
 break; }default: {var v$2482 = v$2443[0];
var v$2483 = v$2443[1];
var v$2484 = v$2483[1];
var v$2485 = v$2484[0];
var v$2486 = v$2484[1];
var v$2487 = v$2443[3];
var v$2479 = fix$6509.$elab_conbind_opt(v$2488,v$2489,v$2487);
var v$2480 = v$2479[0];
var v$2481 = v$2479[1];
var t$6752 = basics$0Environments$1.add$3708(function(v$6451){return syntax_objects$0Ident$1.eq_id$248(v$6451[0],v$6451[1]);
},v$2485,[null,v$2489],v$2480);
var t$6751;
var t$6750;
var t$6749;
if (basics$0Environments$1.in_dom$3718(function(v$6452){return syntax_objects$0Ident$1.eq_id$248(v$6452[0],v$6452[1]);
},v$2485,v$2480)) {var v$6186 = [[9,v$2485],null];
var v$6187 = [24,v$6186];
t$6749 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6187));
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$2485)) {var v$6188 = [27,[v$2485,null]];
t$6749 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6188));
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$2485)) {var v$6189 = [28];
t$6749 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2482),v$6189));
} else {t$6749 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2482));
};
};
};
t$6750 = [t$6749,[0,[v$2485,v$2486]],[1],v$2481];
t$6751 = [0,t$6750];
return [t$6752,t$6751];
} };
};
fix$6509.$elab_conbind_opt = function(v$2530,v$2531,v$2532){switch (v$2532[0]) { case 0: {var v$2529 = v$2532[1];
var v$2526 = fix$6509.$elab_conbind(v$2530,v$2531,v$2529);
return [v$2526[0],[0,v$2526[1]]];
 break; }default: {return [basics$0Environments$1.empty$3707,[1]];
} };
};
var elab_conbind$817 = fix$6509.$elab_conbind;
var elab_conbind_opt$815 = fix$6509.$elab_conbind_opt;
var fix$6510 = {};
fix$6510.$elab_datbind = function(v$2401,v$2402){var v$2395 = v$2402[1];
var v$2396 = v$2395[0];
var v$2397 = v$2395[1];
var v$2398 = v$2395[2];
var v$2399 = v$2395[3];
var v$2400 = v$2395[4];
basics$0StatObject$1.push$152(0);
var v$2392 = basics$0Environments$1.plus_U$$3237(v$2401,v$2397);
var v$2393 = v$2392[0];
var v$2394 = v$2392[1];
var tyvarsRepeated$2320 = basis$0List$1.filter$417(function(e$4758){var t$6737;
var fix$6735 = {};
fix$6735.$NoOfOccurences = function(v$6370){lab$NoOfOccurences: while (true) {if (v$6370 == null) {return 0;
} else {var v$6371 = v$6370;
var v$6372 = v$6371[0];
var v$6373 = v$6371[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(e$4758,v$6372)) {return SmlPrims.chk_ovf_i32(1 + (fix$6735.$NoOfOccurences(v$6373)));
} else {var t$6736 = v$6373;
var v$6370 = t$6736;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6369 = fix$6735.$NoOfOccurences;
t$6737 = (NoOfOccurences$6369(v$2397));
return t$6737 > 1;
},v$2397);
var tyvarsNotInTyVarList$2321 = basis$0List$1.filter$417(function(tv$2324){var t$6740;
var fix$6738 = {};
fix$6738.$member = function(v$6380){lab$member: while (true) {if (v$6380 == null) {return false;
} else {var v$6381 = v$6380;
var v$6382 = v$6381[0];
var v$6383 = v$6381[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(tv$2324,v$6382)) {return true;
} else {var t$6739 = v$6383;
var v$6380 = t$6739;
continue lab$member;
};
};
};
};
var member$6379 = fix$6738.$member;
t$6740 = (member$6379(v$2397));
return t$6740?false:true;
},basics$0PreElabDecGrammar$1$2.getExplicitTyVarsConbind$1810(v$2399));
var v$2390 = basics$0Environments$1.plus_U$$3237(v$2394,tyvarsNotInTyVarList$2321);
var v$2391 = v$2390[1];
var v$2381;
var v$2387 = (basics$0Environments$1.lookup_tycon$3421(v$2401))(v$2398);
switch (v$2387[0]) { case 0: {var v$2389 = v$2387[1];
v$2381 = (basics$0Environments$1.to_theta_and_VE$1680(v$2389));
 break; }default: {v$2381 = (tools$0Crash$1.impossible$59("ElabDec.datbind(1)"));
} };
var v$2382 = v$2381[0];
var tyname$2329;
var v$2334 = basics$0StatObject$1.to_TyName$4079(v$2382);
switch (v$2334[0]) { case 0: {tyname$2329 = v$2334[1];
 break; }default: {tyname$2329 = (tools$0Crash$1.impossible$59("ElabDec.datbind(2)"));
} };
var tau_list$2337 = basis$0List$1.map$697(function(v$6480){return basics$0StatObject$1.from_TyVar$1518(v$6480);
},v$2393);
var tau$2338 = basics$0StatObject$1.mk_ConsType$2059(tau_list$2337,tyname$2329);
var v$2378 = elab_conbind$817(v$2391,tau$2338,v$2399);
var v$2379 = v$2378[0];
var v$2380 = v$2378[1];
basics$0StatObject$1.pop$155(0);
var VE$2342 = basics$0Environments$1.to_VE$3725(v$2379);
var VE_closed$2343 = basics$0Environments$1.close$1400(VE$2342);
var tystr$2344 = basics$0Environments$1.from_theta_and_VE$1671(basics$0StatObject$1.from_TyName$4059(tyname$2329),VE_closed$2343);
var v$2373 = fix$6510.$elab_datbind_opt(v$2401,v$2400);
var v$2374 = v$2373[0];
var v$2375 = v$2374[0];
var v$2376 = v$2374[1];
var v$2377 = v$2373[1];
var out_i$2349;
if (syntax_objects$0TyCon$1.is_$true$_$nil$_etc$171(v$2398)) {var v$5906 = [27,null];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5906));
} else {if (syntax_objects$0TyCon$1.is_$it$$188(v$2398)) {var v$5908 = [28];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5908));
} else {if (((tyvarsNotInTyVarList$2321 == null)?true:false)?false:true) {var v$5910 = [15,basis$0List$1.map$697(function(v$6481){return syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$6481);
},tyvarsNotInTyVarList$2321)];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5910));
} else {var repeated_ids_errorinfos$2362 = basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2363){return [0,v$2363];
},basis$0List$1.map$697(function(v$6482){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6482);
},tyvarsRepeated$2320)),basis$0List$1.s$n$686(basis$0List$1.map$697(function(v$2364){return [6,v$2364];
},edlib$0EqSet$1.list$107(edlib$0EqSet$1.intersect$238(function(v$6453){return syntax_objects$0Ident$1.eq_id$248(v$6453[0],v$6453[1]);
},basics$0Environments$1.dom$1166(v$2375),basics$0Environments$1.dom$1166(VE$2342)))),(edlib$0EqSet$1.member$128(function(v$6454){return syntax_objects$0TyCon$1.eq_tycon$229(v$6454[0],v$6454[1]);
},v$2398,basics$0Environments$1.dom$1816(v$2376)))?[[1,v$2398],null]:null));
if (repeated_ids_errorinfos$2362 == null) {out_i$2349 = (basics$0ElabInfo$1.from_ParseInfo$231(v$2396));
} else {var v$5914 = [24,repeated_ids_errorinfos$2362];
out_i$2349 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2396),v$5914));
};
};
};
};
return [[basics$0Environments$1.plus$1101(VE_closed$2343,v$2375),basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2398,tystr$2344]),v$2376)],[0,[out_i$2349,v$2397,v$2398,v$2380,v$2377]]];
};
fix$6510.$elab_datbind_opt = function(v$2423,v$2424){switch (v$2424[0]) { case 0: {var v$2422 = v$2424[1];
var v$2417 = fix$6510.$elab_datbind(v$2423,v$2422);
var v$2418 = v$2417[0];
return [[v$2418[0],v$2418[1]],[0,v$2417[1]]];
 break; }default: {return [[basics$0Environments$1.empty$1052,basics$0Environments$1.empty$1786],[1]];
} };
};
var elab_datbind$819 = fix$6510.$elab_datbind;
var elab_datbind_opt$818 = fix$6510.$elab_datbind_opt;
var fix$6511 = {};
fix$6511.$elab_typbind = function(v$2285,v$2286){var v$2279 = v$2286[1];
var v$2280 = v$2279[0];
var v$2281 = v$2279[1];
var v$2282 = v$2279[2];
var v$2283 = v$2279[3];
var v$2284 = v$2279[4];
basics$0StatObject$1.push$152(0);
var v$2276 = basics$0Environments$1.plus_U$$3237(v$2285,v$2281);
var v$2277 = v$2276[0];
var v$2278 = v$2276[1];
var tyvarsRepeated$2232 = basis$0List$1.filter$417(function(e$4819){var t$6719;
var fix$6717 = {};
fix$6717.$NoOfOccurences = function(v$6386){lab$NoOfOccurences: while (true) {if (v$6386 == null) {return 0;
} else {var v$6387 = v$6386;
var v$6388 = v$6387[0];
var v$6389 = v$6387[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(e$4819,v$6388)) {return SmlPrims.chk_ovf_i32(1 + (fix$6717.$NoOfOccurences(v$6389)));
} else {var t$6718 = v$6389;
var v$6386 = t$6718;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6385 = fix$6717.$NoOfOccurences;
t$6719 = (NoOfOccurences$6385(v$2281));
return t$6719 > 1;
},v$2281);
var tyvarsNotInTyVarList$2233 = basis$0List$1.filter$417(function(tv$2236){var t$6722;
var fix$6720 = {};
fix$6720.$member = function(v$6396){lab$member: while (true) {if (v$6396 == null) {return false;
} else {var v$6397 = v$6396;
var v$6398 = v$6397[0];
var v$6399 = v$6397[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(tv$2236,v$6398)) {return true;
} else {var t$6721 = v$6399;
var v$6396 = t$6721;
continue lab$member;
};
};
};
};
var member$6395 = fix$6720.$member;
t$6722 = (member$6395(v$2281));
return t$6722?false:true;
},basics$0PreElabDecGrammar$1$2.getExplicitTyVarsTy$1806(v$2283));
var v$2243 = basics$0ElabDec$1.elab_ty$807(v$2278,v$2283);
var v$2244 = v$2243[0];
switch (v$2244[0]) { case 0: {var v$2267 = v$2244[1];
var v$2268 = v$2243[1];
basics$0StatObject$1.pop$155(0);
var typeFcn$2246 = basics$0StatObject$1.from_TyVars_and_Type$3984(v$2277,v$2267);
var tystr$2247 = basics$0Environments$1.from_theta_and_VE$1671(typeFcn$2246,basics$0Environments$1.empty$1052);
var v$2264 = fix$6511.$elab_typbind_opt(v$2285,v$2284);
var v$2265 = v$2264[0];
var v$2266 = v$2264[1];
if (((tyvarsNotInTyVarList$2233 == null)?true:false)?false:true) {var t$6726 = v$2265;
var t$6725;
var t$6724;
var t$6723;
var v$5922 = [15,basis$0List$1.map$697(function(v$6483){return syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$6483);
},tyvarsNotInTyVarList$2233)];
t$6723 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5922));
t$6724 = [t$6723,v$2281,v$2282,v$2268,v$2266];
t$6725 = [0,t$6724];
return [t$6726,t$6725];
} else {if (edlib$0EqSet$1.member$128(function(v$6455){return syntax_objects$0TyCon$1.eq_tycon$229(v$6455[0],v$6455[1]);
},v$2282,basics$0Environments$1.dom$1816(v$2265))) {var t$6730 = basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2282,tystr$2247]),v$2265);
var t$6729;
var t$6728;
var t$6727;
var v$5924 = [[1,v$2282],null];
var v$5926 = [24,v$5924];
t$6727 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5926));
t$6728 = [t$6727,v$2281,v$2282,v$2268,v$2266];
t$6729 = [0,t$6728];
return [t$6730,t$6729];
} else {if (tyvarsRepeated$2232 == null) {return [basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$2282,tystr$2247]),v$2265),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$2281,v$2282,v$2268,v$2266]]];
} else {var t$6734 = v$2265;
var t$6733;
var t$6732;
var t$6731;
var v$5928 = basis$0List$1.map$697(function(v$2263){return [0,v$2263];
},basis$0List$1.map$697(function(v$6484){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6484);
},tyvarsRepeated$2232));
var v$5930 = [24,v$5928];
t$6731 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$5930));
t$6732 = [t$6731,v$2281,v$2282,v$2268,v$2266];
t$6733 = [0,t$6732];
return [t$6734,t$6733];
};
};
};
 break; }default: {var v$2275 = v$2243[1];
basics$0StatObject$1.pop$155(0);
var v$2272 = fix$6511.$elab_typbind_opt(v$2285,v$2284);
var v$2273 = v$2272[0];
var v$2274 = v$2272[1];
return [v$2273,[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2280),v$2281,v$2282,v$2275,v$2274]]];
} };
};
fix$6511.$elab_typbind_opt = function(v$2304,v$2305){switch (v$2305[0]) { case 0: {var v$2303 = v$2305[1];
var v$2300 = fix$6511.$elab_typbind(v$2304,v$2303);
return [v$2300[0],[0,v$2300[1]]];
 break; }default: {return [basics$0Environments$1.empty$1786,[1]];
} };
};
var elab_typbind$821 = fix$6511.$elab_typbind;
var elab_typbind_opt$820 = fix$6511.$elab_typbind_opt;
var fix$6512 = {};
fix$6512.$elab_exprow = function(v$1072,v$1073){var v$1034 = v$1073[1];
var v$1035 = v$1034[3];
switch (v$1035[0]) { case 1: {var v$1045 = v$1034[0];
var v$1046 = v$1034[1];
var v$1047 = v$1034[2];
var v$1041 = fix$6512.$elab_exp(v$1072,v$1047);
var v$1042 = v$1041[0];
var v$1043 = v$1041[1];
var v$1044 = v$1041[2];
return [v$1042,(basics$0StatObject$1.add_field$1695(v$1046,v$1043))(basics$0StatObject$1.empty$1611),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1045),v$1046,v$1044,[1]]]];
 break; }default: {var v$1068 = v$1034[0];
var v$1069 = v$1034[1];
var v$1070 = v$1034[2];
var v$1071 = v$1035[1];
var v$1064 = fix$6512.$elab_exp(v$1072,v$1070);
var v$1066 = v$1064[1];
var v$1067 = v$1064[2];
var v$1060 = fix$6512.$elab_exprow(v$1072,v$1071);
var v$1061 = v$1060[0];
var v$1062 = v$1060[1];
var v$1063 = v$1060[2];
var t$6716;
var fix$6714 = {};
fix$6714.$member = function(v$6428){lab$member: while (true) {if (v$6428 == null) {return false;
} else {var v$6429 = v$6428;
var v$6430 = v$6429[0];
var v$6431 = v$6429[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$1069,v$6430)) {return true;
} else {var t$6715 = v$6431;
var v$6428 = t$6715;
continue lab$member;
};
};
};
};
var member$6427 = fix$6714.$member;
t$6716 = (member$6427(basics$0StatObject$1.sorted_labs$1754(v$1062)));
if (t$6716) {var t$6713 = v$1061;
var t$6712 = v$1062;
var t$6711;
var t$6710;
var t$6709;
var v$6051 = [[5,v$1069],null];
var v$6053 = [24,v$6051];
t$6709 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1068),v$6053));
t$6710 = [t$6709,v$1069,v$1067,[0,v$1063]];
t$6711 = [0,t$6710];
return [t$6713,t$6712,t$6711];
} else {return [0,(basics$0StatObject$1.add_field$1695(v$1069,basics$0StatObject$1.on$854(v$1061,v$1066)))(v$1062),[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1068),v$1069,v$1067,[0,v$1063]]]];
};
} };
};
fix$6512.$elab_decs = function(v$1760,v$1761){switch (v$1761[0]) { case 3: {var v$1746 = v$1761[1];
var v$1747 = v$1746[0];
var v$1748 = v$1746[1];
var v$1749 = v$1746[2];
var v$1740 = fix$6512.$elab_decs(v$1760,v$1748);
var v$1742 = v$1740[1];
var v$1743 = v$1740[2];
var v$1744 = v$1740[3];
var v$1745 = v$1740[4];
var v$1735 = fix$6512.$elab_dec(v$1744,v$1749);
var v$1736 = v$1735[0];
var v$1737 = v$1735[1];
var v$1738 = v$1735[2];
var v$1739 = v$1735[3];
var E1$$1734 = basics$0Environments$1.on$2579(v$1736,v$1743);
return [0,basis$0List$1.s$n$686(v$1742,v$1737),basics$0Environments$1.plus$2441(E1$$1734,v$1738),basics$0Environments$1.plus_E$3334(v$1744,v$1738),[3,[basics$0ElabInfo$1.from_ParseInfo$231(v$1747),v$1745,v$1739]]];
 break; }default: {var v$1755 = fix$6512.$elab_dec(v$1760,v$1761);
var v$1756 = v$1755[0];
var v$1757 = v$1755[1];
var v$1758 = v$1755[2];
var v$1759 = v$1755[3];
return [v$1756,v$1757,v$1758,basics$0Environments$1.plus_E$3334(v$1760,v$1758),v$1759];
} };
};
fix$6512.$elab_dec = function(v$1708,v$1709){switch (v$1709[0]) { case 0: {var v$1671 = v$1709[1];
var v$1672 = v$1671[0];
var v$1673 = v$1671[1];
var v$1674 = v$1671[2];
var U$1649;
var v$5985;
var v$5986 = basics$0Environments$1.unguarded_valbind$560(v$1674);
var v$5987 = basics$0Environments$1.to_U$3279(v$1708);
v$5985 = (basis$0List$1.filter$417(function(x$5028){var t$6673;
var fix$6671 = {};
fix$6671.$member = function(v$6402){lab$member: while (true) {if (v$6402 == null) {return false;
} else {var v$6403 = v$6402;
var v$6404 = v$6403[0];
var v$6405 = v$6403[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5028,v$6404)) {return true;
} else {var t$6672 = v$6405;
var v$6402 = t$6672;
continue lab$member;
};
};
};
};
var member$6401 = fix$6671.$member;
t$6673 = (member$6401(v$5987));
return t$6673?false:true;
},v$5986));
U$1649 = (basis$0List$1.s$n$686(v$1673,basis$0List$1.filter$417(function(x$5010){var t$6676;
var fix$6674 = {};
fix$6674.$member = function(v$6408){lab$member: while (true) {if (v$6408 == null) {return false;
} else {var v$6409 = v$6408;
var v$6410 = v$6409[0];
var v$6411 = v$6409[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5010,v$6410)) {return true;
} else {var t$6675 = v$6411;
var v$6408 = t$6675;
continue lab$member;
};
};
};
};
var member$6407 = fix$6674.$member;
t$6676 = (member$6407(v$1673));
return t$6676?false:true;
},v$5985)));
basics$0StatObject$1.push$152(0);
var v$1662;
try {v$1662 = (fix$6512.$elab_valbind(basics$0Environments$1.plus_U$3271([v$1708,U$1649]),v$1674));
} catch(v$6677) {v$1662 = ((function(E$1668){basics$0StatObject$1.pop$155(0);
throw E$1668;
})(v$6677));
};
var v$1663 = v$1662[0];
var v$1664 = v$1662[1];
var v$1665 = v$1662[2];
basics$0StatObject$1.pop$155(0);
var VE$$1654 = basics$0Environments$1.close$3550(v$1708,v$1674,v$1664);
var out_i$1655;
var v$1660;
var v$5997 = basics$0Environments$1.to_U$3279(v$1708);
v$1660 = (basis$0List$1.filter$417(function(x$5047){var fix$6678 = {};
fix$6678.$member = function(v$6414){lab$member: while (true) {if (v$6414 == null) {return false;
} else {var v$6415 = v$6414;
var v$6416 = v$6415[0];
var v$6417 = v$6415[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(x$5047,v$6416)) {return true;
} else {var t$6679 = v$6417;
var v$6414 = t$6679;
continue lab$member;
};
};
};
};
var member$6413 = fix$6678.$member;
return member$6413(v$1673);
},v$5997));
if (v$1660 == null) {out_i$1655 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1672));
} else {var v$6003 = [14,basis$0List$1.map$697(function(v$6487){return basics$0StatObject$1.from_ExplicitTyVar$629(v$6487);
},v$1660)];
out_i$1655 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1672),v$6003));
};
var out_valbind$1661;
var generic_tyvars_pat$5067 = [null];
var fix$6680 = {};
fix$6680.$do_atpat = function(atpat$5111){switch (atpat$5111[0]) { case 0: {return atpat$5111;
 break; }case 1: {return atpat$5111;
 break; }case 4: {var v$5112 = atpat$5111[1];
var v$5113 = v$5112[0];
var v$5114 = v$5112[1];
var v$5115 = v$5114[1];
var v$5116 = v$5115[0];
var v$5117 = v$5112[2];
var t$6698;
var t$6697;
var v$5118 = syntax_objects$0Ident$1.decompose$96(v$5116);
if (v$5118[0] == null) {var v$5119 = v$5118[1];
var v$5120 = basics$0Environments$1.lookup$1132(VE$$1654,v$5119);
switch (v$5120[0]) { case 0: {var v$5121 = v$5120[1];
switch (v$5121[0]) { case 0: {var v$5122 = v$5121[1];
var v$5123 = v$5122[0];
var v$5124 = v$5122[1];
(generic_tyvars_pat$5067[0] = (basics$0StatObject$1.unionTyVarSet$788(generic_tyvars_pat$5067[0],v$5123)),0);
t$6697 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5113,[0,[v$5124,v$5123]]));
 break; }default: {t$6697 = v$5113;
} };
 break; }default: {t$6697 = v$5113;
} };
} else {t$6697 = v$5113;
};
t$6698 = [t$6697,v$5114,v$5117];
return [4,t$6698];
 break; }case 2: {var v$5127 = atpat$5111[1];
var v$5128 = v$5127[0];
var v$5129 = v$5127[1];
var t$6696;
var t$6695 = v$5128;
var t$6694;
switch (v$5129[0]) { case 0: {var v$5135 = v$5129[1];
t$6694 = [0,fix$6680.$do_patrow(v$5135)];
 break; }default: {t$6694 = [1];
} };
t$6696 = [t$6695,t$6694];
return [2,t$6696];
 break; }default: {var v$5136 = atpat$5111[1];
var v$5137 = v$5136[0];
var v$5138 = v$5136[1];
return [3,[v$5137,fix$6680.$do_pat(v$5138)]];
} };
};
fix$6680.$do_pat = function(pat$5083){switch (pat$5083[0]) { case 4: {var v$5084 = pat$5083[1];
var v$5085 = v$5084[0];
var v$5086 = v$5084[1];
return [4,[v$5085,fix$6680.$do_atpat(v$5086)]];
 break; }case 3: {var v$5087 = pat$5083[1];
var v$5088 = v$5087[0];
var v$5089 = v$5087[1];
var v$5090 = v$5087[2];
return [3,[v$5088,v$5089,fix$6680.$do_atpat(v$5090)]];
 break; }case 1: {var v$5091 = pat$5083[1];
var v$5092 = v$5091[0];
var v$5093 = v$5091[1];
var v$5094 = v$5091[2];
return [1,[v$5092,fix$6680.$do_pat(v$5093),v$5094]];
 break; }case 2: {var v$5095 = pat$5083[1];
var v$5096 = v$5095[0];
var v$5097 = v$5095[1];
var v$5098 = v$5097[1];
var v$5099 = v$5098[0];
var v$5100 = v$5095[2];
var v$5101 = v$5095[3];
var t$6693;
var t$6692;
var v$5102 = basics$0Environments$1.lookup$1132(VE$$1654,v$5099);
switch (v$5102[0]) { case 0: {var v$5103 = v$5102[1];
switch (v$5103[0]) { case 0: {var v$5104 = v$5103[1];
var v$5105 = v$5104[0];
var v$5106 = v$5104[1];
(generic_tyvars_pat$5067[0] = (basics$0StatObject$1.unionTyVarSet$788(generic_tyvars_pat$5067[0],v$5105)),0);
t$6692 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5096,[0,[v$5106,v$5105]]));
 break; }default: {t$6692 = v$5096;
} };
 break; }default: {t$6692 = v$5096;
} };
t$6693 = [t$6692,v$5097,v$5100,fix$6680.$do_pat(v$5101)];
return [2,t$6693];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.do_pat(UNRES_INFIX)");
} };
};
fix$6680.$do_patrow = function(patrow$5071){switch (patrow$5071[0]) { case 1: {return patrow$5071;
 break; }default: {var v$5072 = patrow$5071[1];
var v$5073 = v$5072[0];
var v$5074 = v$5072[1];
var v$5075 = v$5072[2];
var v$5076 = v$5072[3];
var t$6691;
var t$6690 = v$5073;
var t$6689 = v$5074;
var t$6688 = fix$6680.$do_pat(v$5075);
var t$6687;
switch (v$5076[0]) { case 0: {var v$5082 = v$5076[1];
t$6687 = [0,fix$6680.$do_patrow(v$5082)];
 break; }default: {t$6687 = [1];
} };
t$6691 = [t$6690,t$6689,t$6688,t$6687];
return [0,t$6691];
} };
};
var do_atpat$5070 = fix$6680.$do_atpat;
var do_pat$5069 = fix$6680.$do_pat;
var do_patrow$5068 = fix$6680.$do_patrow;
var fix$6681 = {};
fix$6681.$do_valbind = function(vb$5140){switch (vb$5140[0]) { case 1: {var v$5141 = vb$5140[1];
var v$5142 = v$5141[0];
var v$5143 = v$5141[1];
var v$5144 = v$5141[2];
var v$5145 = v$5141[3];
(generic_tyvars_pat$5067[0] = null,0);
var pat$5147 = do_pat$5069(v$5143);
var t$6686;
var t$6685;
var v$5148 = basics$0ElabInfo$1.to_TypeInfo$202(v$5142);
switch (v$5148[0]) { case 0: {var v$5149 = v$5148[1];
switch (v$5149[0]) { case 6: {var v$5150 = v$5149[1];
if (v$5150[1] == null) {var v$5151 = v$5150[0];
t$6685 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5142,[6,[v$5151,generic_tyvars_pat$5067[0]]]));
} else {t$6685 = v$5142;
};
 break; }default: {t$6685 = v$5142;
} };
 break; }default: {t$6685 = v$5142;
} };
var t$6684 = pat$5147;
var t$6683 = v$5144;
var t$6682;
switch (v$5145[0]) { case 0: {var v$5152 = v$5145[1];
t$6682 = [0,fix$6681.$do_valbind(v$5152)];
 break; }default: {t$6682 = [1];
} };
t$6686 = [t$6685,t$6684,t$6683,t$6682];
return [1,t$6686];
 break; }default: {var v$5153 = vb$5140[1];
var v$5154 = v$5153[0];
var v$5155 = v$5153[1];
return [0,[v$5154,fix$6681.$do_valbind(v$5155)]];
} };
};
var do_valbind$5139 = fix$6681.$do_valbind;
out_valbind$1661 = (do_valbind$5139(v$1665));
return [v$1663,null,basics$0Environments$1.from_VE$2390(VE$$1654),[0,[out_i$1655,v$1673,out_valbind$1661]]];
 break; }case 1: {return tools$0Crash$1.impossible$59("ElabDec.elab_dec(UNRES_FUN)");
 break; }case 2: {var v$1644 = v$1709[1];
var v$1645 = v$1644[0];
var v$1646 = v$1644[1];
var v$1641 = elab_typbind$821(v$1708,v$1646);
var v$1642 = v$1641[0];
var v$1643 = v$1641[1];
var t$6670 = basics$0StatObject$1.Id$845;
var t$6669 = null;
var t$6668 = basics$0Environments$1.from_TE$2407(v$1642);
var t$6667;
var t$6666;
var t$6665;
var v$6020 = basics$0ElabInfo$1.from_ParseInfo$231(v$1645);
t$6665 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6020,[2,v$1642]));
t$6666 = [t$6665,v$1643];
t$6667 = [2,t$6666];
return [t$6670,t$6669,t$6668,t$6667];
 break; }case 12: {var v$1634 = v$1709[1];
var v$1635 = v$1634[0];
var v$1636 = v$1634[1];
var TE$1604 = initial_TE$529(v$1636);
var v$1629 = elab_datbind$819(basics$0Environments$1.plus_TE$3350(v$1708,TE$1604),v$1636);
var v$1630 = v$1629[0];
var v$1631 = v$1630[0];
var v$1632 = v$1630[1];
var v$1633 = v$1629[1];
var v$1626 = basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(v$1631,v$1632);
var v$1627 = v$1626[0];
var v$1628 = v$1626[1];
var t$6664 = basics$0StatObject$1.Id$845;
var t$6663 = basics$0Environments$1.fold$1838(function(tystr$1615){return function(T$1618){var v$1623 = basics$0StatObject$1.to_TyName$4079(basics$0Environments$1.to_theta$1691(tystr$1615));
switch (v$1623[0]) { case 0: {return [v$1623[1],T$1618];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_dec(DATATYPEdec)");
} };
};
},null,v$1628);
var t$6662 = basics$0Environments$1.from_VE_and_TE$2379(v$1627,v$1628);
var t$6661;
var t$6660;
var t$6659;
var v$6024 = basics$0ElabInfo$1.from_ParseInfo$231(v$1635);
t$6659 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6024,[2,v$1628]));
t$6660 = [t$6659,v$1633];
t$6661 = [12,t$6660];
return [t$6664,t$6663,t$6662,t$6661];
 break; }case 13: {var v$1599 = v$1709[1];
var v$1600 = v$1599[0];
var v$1601 = v$1599[1];
var v$1602 = v$1599[2];
var v$1589 = (basics$0Environments$1.lookup_longtycon$3419(v$1708))(v$1602);
switch (v$1589[0]) { case 0: {var v$1598 = v$1589[1];
var TE$1591 = basics$0Environments$1.singleton$1788([v$1601,v$1598]);
var v$1595 = basics$0Environments$1.to_theta_and_VE$1680(v$1598);
var v$1597 = v$1595[1];
var t$6652 = basics$0StatObject$1.Id$845;
var t$6651 = null;
var t$6650 = basics$0Environments$1.from_VE_and_TE$2379(v$1597,TE$1591);
var t$6649;
var t$6648;
var t$6647;
var v$6026 = basics$0ElabInfo$1.from_ParseInfo$231(v$1600);
t$6647 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6026,[2,TE$1591]));
t$6648 = [t$6647,v$1601,v$1602];
t$6649 = [13,t$6648];
return [t$6652,t$6651,t$6650,t$6649];
 break; }default: {var t$6658 = basics$0StatObject$1.Id$845;
var t$6657 = null;
var t$6656 = basics$0Environments$1.bogus$2606;
var t$6655;
var t$6654;
var t$6653;
var v$6031 = [33,v$1602];
t$6653 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1600),v$6031));
t$6654 = [t$6653,v$1601,v$1602];
t$6655 = [13,t$6654];
return [t$6658,t$6657,t$6656,t$6655];
} };
 break; }case 14: {var v$1580 = v$1709[1];
var v$1581 = v$1580[0];
var v$1582 = v$1580[1];
var v$1583 = v$1580[2];
var TE$1545 = initial_TE$529(v$1582);
var v$1575 = elab_datbind$819(basics$0Environments$1.plus_TE$3350(v$1708,TE$1545),v$1582);
var v$1576 = v$1575[0];
var v$1577 = v$1576[0];
var v$1578 = v$1576[1];
var v$1579 = v$1575[1];
var v$1572 = basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(v$1577,v$1578);
var v$1573 = v$1572[0];
var v$1574 = v$1572[1];
var v$1567;
var t$6646 = fix$6512.$elab_dec;
var t$6645;
var v$6473 = [v$1573,v$1574];
t$6645 = (basics$0Environments$1.plus_VE_and_TE$3357(v$1708,v$6473));
v$1567 = (t$6646(t$6645,v$1583));
var v$1568 = v$1567[0];
var v$1569 = v$1567[1];
var v$1570 = v$1567[2];
var v$1571 = v$1567[3];
var v$1563 = basics$0Environments$1.ABS$3877(v$1574,v$1570);
var v$1564 = v$1563[0];
var v$1565 = v$1563[1];
var v$1566 = v$1563[2];
var out_i$1562;
var v$6032 = basics$0ElabInfo$1.from_ParseInfo$231(v$1581);
out_i$1562 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$6032,[19,[v$1574,v$1566]]));
return [v$1568,basis$0List$1.s$n$686(v$1569,v$1564),v$1565,[14,[out_i$1562,v$1579,v$1571]]];
 break; }case 10: {var v$1541 = v$1709[1];
var v$1542 = v$1541[0];
var v$1543 = v$1541[1];
var v$1538 = elab_exbind$814(v$1708,v$1543);
var v$1539 = v$1538[0];
var v$1540 = v$1538[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(v$1539),[10,[basics$0ElabInfo$1.from_ParseInfo$231(v$1542),v$1540]]];
 break; }case 7: {var v$1530 = v$1709[1];
var v$1531 = v$1530[0];
var v$1532 = v$1530[1];
var v$1533 = v$1530[2];
var v$1525 = fix$6512.$elab_dec(v$1708,v$1532);
var v$1527 = v$1525[1];
var v$1528 = v$1525[2];
var v$1529 = v$1525[3];
var v$1520 = fix$6512.$elab_dec(basics$0Environments$1.plus_E$3334(v$1708,v$1528),v$1533);
var v$1522 = v$1520[1];
var v$1523 = v$1520[2];
var v$1524 = v$1520[3];
return [0,basis$0List$1.s$n$686(v$1527,v$1522),v$1523,[7,[basics$0ElabInfo$1.from_ParseInfo$231(v$1531),v$1529,v$1524]]];
 break; }case 5: {var v$1506 = v$1709[1];
var v$1507 = v$1506[0];
var v$1508 = v$1506[1];
var fix$6634 = {};
fix$6634.$process = function(v$1489,v$1490){if (v$1490 == null) {return [basics$0Environments$1.empty$2601,null];
} else {var v$1483 = v$1490;
var v$1484 = v$1483[0];
var v$1485 = v$1484[1];
var v$1486 = v$1485[0];
var v$1487 = v$1485[1];
var v$1488 = v$1483[1];
var v$1467 = (basics$0Environments$1.lookup_longstrid$3420(v$1708))(v$1487);
switch (v$1467[0]) { case 0: {var v$1475 = v$1467[1];
var v$1472 = fix$6634.$process(v$1489,v$1488);
var v$1473 = v$1472[0];
var v$1474 = v$1472[1];
return [basics$0Environments$1.plus$2441(v$1475,v$1473),[[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$1486),v$1487]],v$1474]];
 break; }default: {var v$1480 = fix$6634.$process(v$1489,v$1488);
var v$1481 = v$1480[0];
var v$1482 = v$1480[1];
var ei$1479 = [34,v$1487];
return [v$1481,[[0,[basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1486),ei$1479),v$1487]],v$1482]];
} };
};
};
var process$1450 = fix$6634.$process;
var v$1503 = process$1450(basics$0Environments$1.empty$2601,v$1508);
var v$1504 = v$1503[0];
var v$1505 = v$1503[1];
var t$6644 = basics$0StatObject$1.Id$845;
var t$6643 = null;
var t$6642 = v$1504;
var t$6641;
var t$6640;
var t$6639;
var t$6638 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6637 = basics$0ElabInfo$1.from_ParseInfo$231(v$1507);
var t$6636;
var t$6635;
var v$1499 = basics$0Environments$1.un$2351(v$1504);
var v$1500 = v$1499[0];
var v$1501 = v$1499[1];
var v$1502 = v$1499[2];
t$6635 = [edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$1500)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$1501)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$1502))];
t$6636 = [7,t$6635];
t$6639 = (t$6638(t$6637,t$6636));
t$6640 = [t$6639,v$1505];
t$6641 = [5,t$6640];
return [t$6644,t$6643,t$6642,t$6641];
 break; }case 8: {var v$1445 = v$1709[1];
var v$1446 = v$1445[0];
var v$1447 = v$1445[1];
var v$1448 = v$1445[2];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[8,[basics$0ElabInfo$1.from_ParseInfo$231(v$1446),v$1447,v$1448]]];
 break; }case 9: {var v$1440 = v$1709[1];
var v$1441 = v$1440[0];
var v$1442 = v$1440[1];
var v$1443 = v$1440[2];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[9,[basics$0ElabInfo$1.from_ParseInfo$231(v$1441),v$1442,v$1443]]];
 break; }case 6: {var v$1436 = v$1709[1];
var v$1437 = v$1436[0];
var v$1438 = v$1436[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[6,[basics$0ElabInfo$1.from_ParseInfo$231(v$1437),v$1438]]];
 break; }case 11: {var v$1434 = v$1709[1];
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.empty$1052),[11,basics$0ElabInfo$1.from_ParseInfo$231(v$1434)]];
 break; }case 3: {var v$1423 = fix$6512.$elab_decs(v$1708,v$1709);
return [v$1423[0],v$1423[1],v$1423[2],v$1423[4]];
 break; }default: {var v$1703 = v$1709[1];
var v$1704 = v$1703[0];
var v$1705 = v$1703[1];
var v$1706 = v$1705[0];
var v$1707 = v$1705[1];
var i2$$1675 = basics$0ElabInfo$1.from_ParseInfo$231(v$1706);
var i$$1676;
var v$1681 = basis$0List$1.filter$417(function(e$5200){var t$6701;
var fix$6699 = {};
fix$6699.$NoOfOccurences = function(v$6420){lab$NoOfOccurences: while (true) {if (v$6420 == null) {return 0;
} else {var v$6421 = v$6420;
var v$6422 = v$6421[0];
var v$6423 = v$6421[1];
if (e$5200[1] == v$6422[1]) {return SmlPrims.chk_ovf_i32(1 + (fix$6699.$NoOfOccurences(v$6423)));
} else {var t$6700 = v$6423;
var v$6420 = t$6700;
continue lab$NoOfOccurences;
};
};
};
};
var NoOfOccurences$6419 = fix$6699.$NoOfOccurences;
t$6701 = (NoOfOccurences$6419(v$1707));
return t$6701 > 1;
},v$1707);
if (v$1681 == null) {i$$1676 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1704));
} else {var v$6039 = basis$0List$1.map$697(function(v$1682){return [4,v$1682];
},v$1681);
var v$6041 = [24,v$6039];
i$$1676 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1706),v$6041));
};
var i$$1683;
var rs_env$1684 = basics$0Environments$1.to_R$3291(v$1708);
var dups$1685;
var fix$6702 = {};
fix$6702.$foldl = function(v$5218,v$5219){lab$foldl: while (true) {if (v$5219 == null) {return v$5218;
} else {var v$5220 = v$5219;
var v$5221 = v$5220[0];
var v$5222 = v$5220[1];
var t$6706;
var t$6705;
var fix$6703 = {};
fix$6703.$exists = function(v$5238){lab$exists: while (true) {if (v$5238 == null) {return false;
} else {var v$5239 = v$5238;
var v$5240 = v$5239[0];
var v$5241 = v$5239[1];
if (v$5240[1] == v$5221[1]) {return true;
} else {var t$6704 = v$5241;
var v$5238 = t$6704;
continue lab$exists;
};
};
};
};
var exists$5237 = fix$6703.$exists;
t$6705 = (exists$5237(rs_env$1684));
t$6706 = (t$6705?[v$5221,v$5218]:v$5218);
var t$6707 = t$6706;
var t$6708 = v$5222;
var v$5218 = t$6707;
var v$5219 = t$6708;
continue lab$foldl;
};
};
};
var foldl$5217 = fix$6702.$foldl;
var v$6462 = null;
dups$1685 = (foldl$5217(v$6462,v$1707));
i$$1683 = ((dups$1685 == null)?i$$1676:(basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1676,[25,dups$1685])));
return [basics$0StatObject$1.Id$845,null,basics$0Environments$1.from_R$2366(v$1707),[4,[i$$1683,[i2$$1675,v$1707]]]];
} };
};
fix$6512.$elab_atexp = function(v$1017,v$1018){switch (v$1018[0]) { case 0: {var v$1002 = v$1018[1];
var v$1003 = v$1002[0];
var v$1004 = v$1002[1];
var v$1005 = v$1002[2];
var v$999 = basics$0StatObject$1.of_scon$2232(v$1004);
var v$1000 = v$999[1];
var v$1001 = v$999[0];
var i_out$984;
switch (v$1001[0]) { case 1: {i_out$984 = (basics$0ElabInfo$1.from_ParseInfo$231(v$1003));
 break; }default: {var v$990 = v$1001[1];
var v$5968 = [0,v$990];
i_out$984 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$1003),v$5968));
} };
return [basics$0StatObject$1.Id$845,v$1000,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(i_out$984,[14,[v$1000]]),v$1004,basis$0Option$1.map$69(function(v$996){var v$997 = v$996[0];
var v$998 = v$996[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$997),v$998];
},v$1005)]]];
 break; }case 4: {var v$973 = v$1018[1];
var v$974 = v$973[0];
var v$975 = v$973[1];
var v$976 = v$975[1];
var v$977 = v$976[0];
var v$978 = v$976[1];
var v$979 = v$973[2];
var regvars_opt$924 = basis$0Option$1.map$69(function(v$928){var v$929 = v$928[0];
var v$930 = v$928[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$929),v$930];
},v$979);
var v$941 = (basics$0Environments$1.lookup_longid$3417(v$1017))(v$977);
switch (v$941[0]) { case 0: {var v$943 = v$941[1];
switch (v$943[0]) { case 0: {var v$971 = v$943[1];
var v$968 = basics$0StatObject$1.instance$$3693(v$971);
var v$969 = v$968[0];
var v$970 = v$968[1];
var t$6623 = basics$0StatObject$1.Id$845;
var t$6622 = v$969;
var t$6621;
var t$6620;
var t$6619;
var v$5971;
var v$962 = basis$0List$1.filter$417(function(v$6486){return basics$0StatObject$1.is_overloaded$556(v$6486);
},basics$0StatObject$1.tyvars$1921(v$969));
if (v$962 == null) {v$5971 = (basics$0ElabInfo$1.from_ParseInfo$231(v$974));
} else {var v$964 = v$962;
if (v$964[1] == null) {var v$966 = v$964[0];
var v$5974 = [0,v$966];
v$5971 = (basics$0ElabInfo$1.plus_OverloadingInfo$153(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$5974));
} else {v$5971 = (basics$0ElabInfo$1.from_ParseInfo$231(v$974));
};
};
t$6619 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5971,[1,[v$970]]));
t$6620 = [t$6619,[0,[v$977,v$978]],regvars_opt$924];
t$6621 = [4,t$6620];
return [t$6623,t$6622,t$6621];
 break; }case 2: {var v$951 = v$943[1];
var v$948 = basics$0StatObject$1.instance$$3693(v$951);
var v$949 = v$948[0];
var v$950 = v$948[1];
return [basics$0StatObject$1.Id$845,v$949,[4,[addTypeInfo_CON$351(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$1017,v$950,v$977),[0,[v$977,v$978]],regvars_opt$924]]];
 break; }default: {var v$972 = v$943[1];
var t$6628 = basics$0StatObject$1.Id$845;
var t$6627 = v$972;
var t$6626;
var t$6625;
var t$6624;
var v$5975 = basics$0ElabInfo$1.from_ParseInfo$231(v$974);
t$6624 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5975,[15,[v$972,v$977]]));
t$6625 = [t$6624,[0,[v$977,v$978]],regvars_opt$924];
t$6626 = [4,t$6625];
return [t$6628,t$6627,t$6626];
} };
 break; }default: {var t$6633 = basics$0StatObject$1.Id$845;
var t$6632 = basics$0StatObject$1.fresh_normal$1538(0);
var t$6631;
var t$6630;
var t$6629;
var v$5981 = [35,v$977];
t$6629 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$974),v$5981));
t$6630 = [t$6629,[0,[syntax_objects$0Ident$1.bogus$168,v$978]],regvars_opt$924];
t$6631 = [4,t$6630];
return [t$6633,t$6632,t$6631];
} };
 break; }case 1: {var v$894 = v$1018[1];
var v$895 = v$894[1];
switch (v$895[0]) { case 1: {var v$903 = v$894[0];
var v$904 = v$894[2];
var rv_opt$896 = basis$0Option$1.map$69(function(v$900){var v$901 = v$900[0];
var v$902 = v$900[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$901),v$902];
},v$904);
return [basics$0StatObject$1.Id$845,basics$0StatObject$1.Unit$1989,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$903),[1],rv_opt$896]]];
 break; }default: {var v$920 = v$894[0];
var v$921 = v$895[1];
var v$922 = v$894[2];
var rv_opt$905 = basis$0Option$1.map$69(function(v$909){var v$910 = v$909[0];
var v$911 = v$909[1];
return [basics$0ElabInfo$1.from_ParseInfo$231(v$910),v$911];
},v$922);
var v$916 = fix$6512.$elab_exprow(v$1017,v$921);
var v$917 = v$916[0];
var v$918 = v$916[1];
var v$919 = v$916[2];
return [v$917,basics$0StatObject$1.from_RecType$1539(v$918),[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$920),[0,v$919],rv_opt$905]]];
} };
 break; }case 3: {var v$889 = v$1018[1];
var v$890 = v$889[0];
var v$891 = v$889[1];
var v$892 = v$889[2];
var v$884 = fix$6512.$elab_dec(v$1017,v$891);
var v$886 = v$884[1];
var v$887 = v$884[2];
var v$888 = v$884[3];
var v$880 = fix$6512.$elab_exp(basics$0Environments$1.plus_E$3334(v$1017,v$887),v$892);
var v$882 = v$880[1];
var v$883 = v$880[2];
var t$6618 = 0;
var t$6617 = v$882;
var t$6616;
var t$6615;
var t$6614;
var v$879 = special_objects$0TyName$1$3.list$3264(special_objects$0TyName$1$3.intersect$3053(basics$0StatObject$1.tynames$1929(v$882),special_objects$0TyName$1$3.fromList$3273(v$886)));
if (v$879 == null) {t$6614 = (basics$0ElabInfo$1.from_ParseInfo$231(v$890));
} else {var v$5983 = [39,v$879];
t$6614 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$890),v$5983));
};
t$6615 = [t$6614,v$888,v$883];
t$6616 = [3,t$6615];
return [t$6618,t$6617,t$6616];
 break; }default: {var v$1014 = v$1018[1];
var v$1015 = v$1014[0];
var v$1016 = v$1014[1];
var v$1010 = fix$6512.$elab_exp(v$1017,v$1016);
var v$1011 = v$1010[0];
var v$1012 = v$1010[1];
var v$1013 = v$1010[2];
return [v$1011,v$1012,[2,[basics$0ElabInfo$1.from_ParseInfo$231(v$1015),v$1013]]];
} };
};
fix$6512.$elab_mrule = function(v$1345,v$1346){var v$1341 = v$1346[1];
var v$1342 = v$1341[0];
var v$1343 = v$1341[1];
var v$1344 = v$1341[2];
var v$1335 = elab_pat$809(v$1345,v$1343);
var v$1337 = v$1335[1];
var v$1338 = v$1337[0];
var v$1339 = v$1337[1];
var v$1340 = v$1335[2];
var v$1331 = fix$6512.$elab_exp(basics$0Environments$1.plus_VE$3367(v$1345,v$1338),v$1344);
var v$1333 = v$1331[1];
var v$1334 = v$1331[2];
var S$$$1329 = 0;
var out_i$1330 = basics$0ElabInfo$1.from_ParseInfo$231(v$1342);
return [S$$$1329,basics$0StatObject$1.mk_Arrow$2104(basics$0StatObject$1.on$854(S$$$1329,v$1339),v$1333),[0,[out_i$1330,v$1340,v$1334]]];
};
fix$6512.$elab_match = function(v$1309,v$1310){var v$1271 = v$1310[1];
var v$1272 = v$1271[2];
switch (v$1272[0]) { case 1: {var v$1281 = v$1271[0];
var v$1282 = v$1271[1];
var v$1277 = fix$6512.$elab_mrule(v$1309,v$1282);
var v$1278 = v$1277[0];
var v$1279 = v$1277[1];
var v$1280 = v$1277[2];
var t$6609 = v$1278;
var t$6608 = v$1279;
var t$6607;
var t$6606;
var t$6605;
var v$5963 = basics$0ElabInfo$1.from_ParseInfo$231(v$1281);
t$6605 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5963,[9,[v$1279]]));
t$6606 = [t$6605,v$1280,[1]];
t$6607 = [0,t$6606];
return [t$6609,t$6608,t$6607];
 break; }default: {var v$1306 = v$1271[0];
var v$1307 = v$1271[1];
var v$1308 = v$1272[1];
var v$1302 = fix$6512.$elab_mrule(v$1309,v$1307);
var v$1304 = v$1302[1];
var v$1305 = v$1302[2];
var v$1298 = fix$6512.$elab_match(v$1309,v$1308);
var v$1299 = v$1298[0];
var v$1300 = v$1298[1];
var v$1301 = v$1298[2];
var v$1295;
var v$6333 = basics$0StatObject$1.on$854(v$1299,v$1304);
var v$6265 = basics$0StatObject$1.unify$3416(v$1300,v$6333);
switch (v$6265[0]) { case 1: {v$1295 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1306)];
 break; }case 2: {var t$6611 = basics$0StatObject$1.Id$845;
var t$6610;
var v$6266 = [9,["type of match rule with wildcard",v$1300,"type of previous match rules",v$6333]];
t$6610 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1306),v$6266));
v$1295 = [t$6611,t$6610];
 break; }default: {var v$6267 = v$6265[1];
var v$6268 = v$6267[0];
var v$6269 = v$6267[1];
var t$6613 = basics$0StatObject$1.Id$845;
var t$6612;
var v$6270 = [10,[v$1300,v$6333,v$6268,v$6269]];
t$6612 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1306),v$6270));
v$1295 = [t$6613,t$6612];
} };
var v$1296 = v$1295[0];
var v$1297 = v$1295[1];
var tau$$$1294 = basics$0StatObject$1.on$854(v$1296,v$1300);
return [0,tau$$$1294,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1297,[9,[tau$$$1294]]),v$1305,[0,v$1301]]]];
} };
};
fix$6512.$elab_exp$ = function(v$1256,v$1257){switch (v$1257[0]) { case 5: {var v$1253 = v$1257[1];
var v$1254 = v$1253[0];
var v$1255 = v$1253[1];
var v$1249 = fix$6512.$elab_atexp(v$1256,v$1255);
var v$1250 = v$1249[0];
var v$1251 = v$1249[1];
var v$1252 = v$1249[2];
var t$6604 = v$1250;
var t$6603 = v$1251;
var t$6602;
var t$6601;
var t$6600;
var v$5949 = basics$0ElabInfo$1.from_ParseInfo$231(v$1254);
t$6600 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5949,[14,[v$1251]]));
t$6601 = [t$6600,v$1252];
t$6602 = [5,t$6601];
return [t$6604,t$6603,t$6602];
 break; }case 6: {var v$1240 = v$1257[1];
var v$1241 = v$1240[0];
var v$1242 = v$1240[1];
var v$1243 = v$1240[2];
var v$1236 = fix$6512.$elab_exp(v$1256,v$1242);
var v$1238 = v$1236[1];
var v$1239 = v$1236[2];
var v$1232 = fix$6512.$elab_atexp(v$1256,v$1243);
var v$1233 = v$1232[0];
var v$1234 = v$1232[1];
var v$1235 = v$1232[2];
var new$1223 = basics$0StatObject$1.fresh_normal$1538(0);
var arrow$1224 = basics$0StatObject$1.mk_Arrow$2104(v$1234,new$1223);
var v$1229;
var v$6313 = basics$0StatObject$1.on$854(v$1233,v$1238);
var v$6217 = basics$0StatObject$1.unify$3416(arrow$1224,v$6313);
switch (v$6217[0]) { case 1: {v$1229 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1241)];
 break; }case 2: {var t$6597 = basics$0StatObject$1.Id$845;
var t$6596;
var v$6218 = [9,["operand suggests operator type",arrow$1224,"but I found operator type",v$6313]];
t$6596 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1241),v$6218));
v$1229 = [t$6597,t$6596];
 break; }default: {var v$6219 = v$6217[1];
var v$6220 = v$6219[0];
var v$6221 = v$6219[1];
var t$6599 = basics$0StatObject$1.Id$845;
var t$6598;
var v$6222 = [10,[arrow$1224,v$6313,v$6220,v$6221]];
t$6598 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1241),v$6222));
v$1229 = [t$6599,t$6598];
} };
var v$1230 = v$1229[0];
var v$1231 = v$1229[1];
var tau$1228 = basics$0StatObject$1.on$854(v$1230,new$1223);
return [0,tau$1228,[6,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1231,[14,[tau$1228]]),v$1239,v$1235]]];
 break; }case 1: {var v$1210 = v$1257[1];
var v$1211 = v$1210[0];
var v$1212 = v$1210[1];
var v$1213 = v$1210[2];
var v$1206 = fix$6512.$elab_exp(v$1256,v$1212);
var v$1207 = v$1206[0];
var v$1208 = v$1206[1];
var v$1209 = v$1206[2];
var v$1193 = basics$0ElabDec$1.elab_ty$807(v$1256,v$1213);
var v$1194 = v$1193[0];
switch (v$1194[0]) { case 0: {var v$1203 = v$1194[1];
var v$1204 = v$1193[1];
var v$1200;
var v$6229 = basics$0StatObject$1.unify$3416(v$1208,v$1203);
switch (v$6229[0]) { case 1: {v$1200 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1211)];
 break; }case 2: {var t$6593 = basics$0StatObject$1.Id$845;
var t$6592;
var v$6230 = [9,["type of expression",v$1208,"disagrees with your type constraint",v$1203]];
t$6592 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$6230));
v$1200 = [t$6593,t$6592];
 break; }default: {var v$6231 = v$6229[1];
var v$6232 = v$6231[0];
var v$6233 = v$6231[1];
var t$6595 = basics$0StatObject$1.Id$845;
var t$6594;
var v$6234 = [10,[v$1208,v$1203,v$6232,v$6233]];
t$6594 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$6234));
v$1200 = [t$6595,t$6594];
} };
var v$1201 = v$1200[0];
var v$1202 = v$1200[1];
var tau$$$1199 = basics$0StatObject$1.on$854(v$1201,v$1203);
return [0,tau$$$1199,[1,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1202,[14,[tau$$$1199]]),v$1209,v$1204]]];
 break; }default: {var v$1205 = v$1193[1];
return [v$1207,v$1208,[1,[basics$0ElabInfo$1.from_ParseInfo$231(v$1211),v$1209,v$1205]]];
} };
 break; }case 3: {var v$1178 = v$1257[1];
var v$1179 = v$1178[0];
var v$1180 = v$1178[1];
var v$1181 = v$1178[2];
var v$1174 = fix$6512.$elab_exp(v$1256,v$1180);
var v$1176 = v$1174[1];
var v$1177 = v$1174[2];
var v$1170 = fix$6512.$elab_match(v$1256,v$1181);
var v$1172 = v$1170[1];
var v$1173 = v$1170[2];
var matchTy$1162 = basics$0StatObject$1.mk_Arrow$2104(basics$0StatObject$1.Exn$2084,v$1176);
var v$1167;
var v$6241 = basics$0StatObject$1.unify$3416(matchTy$1162,v$1172);
switch (v$6241[0]) { case 1: {v$1167 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1179)];
 break; }case 2: {var t$6589 = basics$0StatObject$1.Id$845;
var t$6588;
var v$6242 = [9,["handled expression suggests handler type",matchTy$1162,"but I found handler type",v$1172]];
t$6588 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1179),v$6242));
v$1167 = [t$6589,t$6588];
 break; }default: {var v$6243 = v$6241[1];
var v$6244 = v$6243[0];
var v$6245 = v$6243[1];
var t$6591 = basics$0StatObject$1.Id$845;
var t$6590;
var v$6246 = [10,[matchTy$1162,v$1172,v$6244,v$6245]];
t$6590 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1179),v$6246));
v$1167 = [t$6591,t$6590];
} };
var v$1169 = v$1167[1];
var tau3$1166 = basics$0StatObject$1.on$854(0,v$1176);
return [0,tau3$1166,[3,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1169,[14,[tau3$1166]]),v$1177,v$1173]]];
 break; }case 2: {var v$1150 = v$1257[1];
var v$1151 = v$1150[0];
var v$1152 = v$1150[1];
var v$1146 = fix$6512.$elab_exp(v$1256,v$1152);
var v$1148 = v$1146[1];
var v$1149 = v$1146[2];
var v$1143;
var v$6253 = basics$0StatObject$1.unify$3416(basics$0StatObject$1.Exn$2084,v$1148);
switch (v$6253[0]) { case 1: {v$1143 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1151)];
 break; }case 2: {var t$6585 = basics$0StatObject$1.Id$845;
var t$6584;
var v$6254 = [9,["type of expression after 'raise' should be",basics$0StatObject$1.Exn$2084,"but I found type",v$1148]];
t$6584 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1151),v$6254));
v$1143 = [t$6585,t$6584];
 break; }default: {var v$6255 = v$6253[1];
var v$6256 = v$6255[0];
var v$6257 = v$6255[1];
var t$6587 = basics$0StatObject$1.Id$845;
var t$6586;
var v$6258 = [10,[basics$0StatObject$1.Exn$2084,v$1148,v$6256,v$6257]];
t$6586 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1151),v$6258));
v$1143 = [t$6587,t$6586];
} };
var v$1145 = v$1143[1];
var tau$1142 = basics$0StatObject$1.fresh_normal$1538(0);
return [0,tau$1142,[2,[basics$0ElabInfo$1.plus_TypeInfo$128(v$1145,[14,[tau$1142]]),v$1149]]];
 break; }case 4: {var v$1130 = v$1257[1];
var v$1131 = v$1130[0];
var v$1132 = v$1130[1];
var v$1126 = fix$6512.$elab_match(v$1256,v$1132);
var v$1127 = v$1126[0];
var v$1128 = v$1126[1];
var v$1129 = v$1126[2];
var t$6583 = v$1127;
var t$6582 = v$1128;
var t$6581;
var t$6580;
var t$6579;
var v$5959 = basics$0ElabInfo$1.from_ParseInfo$231(v$1131);
t$6579 = (basics$0ElabInfo$1.plus_TypeInfo$128(v$5959,[14,[v$1128]]));
t$6580 = [t$6579,v$1129];
t$6581 = [4,t$6580];
return [t$6583,t$6582,t$6581];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.elab_exp(UNRES_INFIX)");
} };
};
fix$6512.$elab_exp = function(v$1086,v$1087){var v$1082 = fix$6512.$elab_exp$(v$1086,v$1087);
return [v$1082[0],v$1082[1],v$1082[2]];
};
fix$6512.$elab_valbind = function(v$2216,v$2217){switch (v$2217[0]) { case 1: {var v$1847 = v$2217[1];
var v$1848 = v$1847[0];
var v$1849 = v$1847[1];
var v$1850 = v$1847[2];
var v$1851 = v$1847[3];
var v$1840 = elab_pat$809(v$2216,v$1849);
var v$1842 = v$1840[1];
var v$1843 = v$1842[0];
var v$1844 = v$1842[1];
var v$1845 = v$1842[2];
var v$1846 = v$1840[2];
var v$1836 = fix$6512.$elab_exp(basics$0Environments$1.plus_E$3334(v$2216,basics$0Environments$1.from_R$2366(v$1845)),v$1850);
var v$1838 = v$1836[1];
var v$1839 = v$1836[2];
var v$1833;
var v$6304 = basics$0StatObject$1.on$854(0,v$1844);
var v$6202 = basics$0StatObject$1.unify$3416(v$6304,v$1838);
switch (v$6202[0]) { case 1: {v$1833 = [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.from_ParseInfo$231(v$1848)];
 break; }case 2: {var t$6558 = basics$0StatObject$1.Id$845;
var t$6557;
var v$6203 = [9,["type of left-hand side pattern",v$6304,"type of right-hand side expression",v$1838]];
t$6557 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1848),v$6203));
v$1833 = [t$6558,t$6557];
 break; }default: {var v$6204 = v$6202[1];
var v$6205 = v$6204[0];
var v$6206 = v$6204[1];
var t$6560 = basics$0StatObject$1.Id$845;
var t$6559;
var v$6207 = [10,[v$6304,v$1838,v$6205,v$6206]];
t$6559 = (basics$0ElabInfo$1.plus_ErrorInfo$102(basics$0ElabInfo$1.from_ParseInfo$231(v$1848),v$6207));
v$1833 = [t$6560,t$6559];
} };
var v$1835 = v$1833[1];
var i$$1790;
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(v$1835))[0]) { case 1: {i$$1790 = v$1835;
 break; }default: {i$$1790 = (basics$0ElabInfo$1.retractRight$257(v$1835,basics$0PostElabGrammar$1$2.get_info_exp$244(v$1839)));
} };
var v$1814;
switch (v$1851[0]) { case 0: {var v$1832 = v$1851[1];
var v$1828 = fix$6512.$elab_valbind(v$2216,v$1832);
v$1814 = [v$1828[0],v$1828[1],[0,v$1828[2]]];
 break; }default: {v$1814 = [basics$0StatObject$1.Id$845,basics$0Environments$1.empty$1052,[1]];
} };
var v$1815 = v$1814[0];
var v$1816 = v$1814[1];
var v$1817 = v$1814[2];
var intdom$1799 = edlib$0EqSet$1.intersect$238(function(v$6456){return syntax_objects$0Ident$1.eq_id$248(v$6456[0],v$6456[1]);
},basics$0Environments$1.dom$1166(v$1843),basics$0Environments$1.dom$1166(v$1816));
if (edlib$0EqSet$1.isEmpty$119(intdom$1799)) {var v$1808 = basis$0List$1.filter$417(function(v$6485){return basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$6485);
},edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$1843)));
return (v$1808 == null)?[0,basics$0Environments$1.plus$1101(v$1843,v$1816),[1,[basics$0ElabInfo$1.plus_TypeInfo$128(i$$1790,[6,[v$1838,null]]),v$1846,v$1839,v$1817]]]:[v$1815,v$1816,[1,[basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1790,[27,v$1808]),v$1846,v$1839,v$1817]]];
} else {var t$6565 = v$1815;
var t$6564 = v$1816;
var t$6563;
var t$6562;
var t$6561;
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(i$$1790))[0]) { case 1: {t$6561 = (basics$0ElabInfo$1.plus_ErrorInfo$102(i$$1790,[24,basis$0List$1.map$697(function(v$1813){return [6,v$1813];
},edlib$0EqSet$1.list$107(intdom$1799))]));
 break; }default: {t$6561 = i$$1790;
} };
t$6562 = [t$6561,v$1846,v$1839,v$1817];
t$6563 = [1,t$6562];
return [t$6565,t$6564,t$6563];
};
 break; }default: {var v$2213 = v$2217[1];
var v$2214 = v$2213[0];
var v$2215 = v$2213[1];
var processID$1852 = function(v$1899,v$1900,v$1901,v$1902){var v$5933 = basics$0Environments$1.lookup$1132(v$1900,v$1902);
var v$5934 = basics$0Environments$1.lookup$1132(v$1901,v$1902);
switch (v$5933[0]) { case 0: {var v$1870 = v$5933[1];
switch (v$1870[0]) { case 0: {switch (v$5934[0]) { case 0: {var v$1874 = v$5934[1];
switch (v$1874[0]) { case 0: {var v$1896 = v$1870[1];
var v$1897 = v$1874[1];
var v$1895 = v$1896[1];
var v$1893 = v$1897[1];
switch ((basics$0StatObject$1.unify$3416(v$1895,v$1893))[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$1899];
 break; }case 2: {return [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.plus_ErrorInfo$102(v$1899,[11,[v$1895,v$1893]])];
 break; }default: {return [basics$0StatObject$1.Id$845,basics$0ElabInfo$1.plus_ErrorInfo$102(v$1899,[11,[v$1895,v$1893]])];
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.processID");
} };
};
var fix$6566 = {};
fix$6566.$traverseRecAtpat = function(v$2134,v$2135,v$2136){switch (v$2136[0]) { case 0: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 4: {var v$2116 = v$2136[1];
var v$2117 = v$2116[0];
var v$2118 = v$2116[1];
var v$2119 = v$2118[1];
var v$2120 = v$2119[0];
var v$2122 = v$2116[2];
var v$2097 = (basics$0Environments$1.lookup_longid$3417(v$2216))(v$2120);
switch (v$2097[0]) { case 0: {switch (v$2097[1][0]) { case 2: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }default: {var v$4904 = syntax_objects$0Ident$1.decompose$96(v$2120);
if (v$4904[0] == null) {var v$4905 = v$4904[1];
var v$4906 = processID$1852(v$2117,v$2134,v$2135,v$4905);
return [v$4906[0],[4,[v$4906[1],v$2118,v$2122]]];
} else {return tools$0Crash$1.impossible$59("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }default: {var v$4910 = syntax_objects$0Ident$1.decompose$96(v$2120);
if (v$4910[0] == null) {var v$4911 = v$4910[1];
var v$4912 = processID$1852(v$2117,v$2134,v$2135,v$4911);
return [v$4912[0],[4,[v$4912[1],v$2118,v$2122]]];
} else {return tools$0Crash$1.impossible$59("ElabDec.traverseRecAtpat(longid)");
};
} };
 break; }case 2: {var v$2087 = v$2136[1];
var v$2088 = v$2087[0];
var v$2089 = v$2087[1];
switch (v$2089[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$2136];
 break; }default: {var v$2086 = v$2089[1];
var v$2083 = fix$6566.$traverseRecPatrow(v$2134,v$2135,v$2086);
return [v$2083[0],[2,[v$2088,[0,v$2083[1]]]]];
} };
 break; }default: {var v$2131 = v$2136[1];
var v$2132 = v$2131[0];
var v$2133 = v$2131[1];
var v$2128 = fix$6566.$traverseRecPat(v$2134,v$2135,v$2133);
return [v$2128[0],[3,[v$2132,v$2128[1]]]];
} };
};
fix$6566.$traverseRecPat = function(v$2047,v$2048,v$2049){switch (v$2049[0]) { case 4: {var v$2044 = v$2049[1];
var v$2045 = v$2044[0];
var v$2046 = v$2044[1];
var v$2041 = fix$6566.$traverseRecAtpat(v$2047,v$2048,v$2046);
return [v$2041[0],[4,[v$2045,v$2041[1]]]];
 break; }case 3: {var v$2033 = v$2049[1];
var v$2034 = v$2033[0];
var v$2035 = v$2033[1];
var v$2036 = v$2033[2];
var v$2030 = fix$6566.$traverseRecAtpat(v$2047,v$2048,v$2036);
return [v$2030[0],[3,[v$2034,v$2035,v$2030[1]]]];
 break; }case 1: {var v$2022 = v$2049[1];
var v$2023 = v$2022[0];
var v$2024 = v$2022[1];
var v$2025 = v$2022[2];
var v$2019 = fix$6566.$traverseRecPat(v$2047,v$2048,v$2024);
return [v$2019[0],[1,[v$2023,v$2019[1],v$2025]]];
 break; }case 2: {var v$2007 = v$2049[1];
var v$2008 = v$2007[0];
var v$2009 = v$2007[1];
var v$2010 = v$2009[1];
var v$2011 = v$2010[0];
var v$2013 = v$2007[2];
var v$2014 = v$2007[3];
var v$2004 = fix$6566.$traverseRecPat(v$2047,v$2048,v$2014);
var v$2006 = v$2004[1];
return [0,[2,[(processID$1852(v$2008,v$2047,v$2048,v$2011))[1],v$2009,v$2013,v$2006]]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.traverseRecPat(UNRES_INFIX)");
} };
};
fix$6566.$traverseRecPatrow = function(v$2182,v$2183,v$2184){switch (v$2184[0]) { case 1: {return [basics$0StatObject$1.Id$845,v$2184];
 break; }default: {var v$2177 = v$2184[1];
var v$2178 = v$2177[0];
var v$2179 = v$2177[1];
var v$2180 = v$2177[2];
var v$2181 = v$2177[3];
var t$6578 = 0;
var t$6577;
var t$6576;
var t$6575 = v$2178;
var t$6574 = v$2179;
var t$6573 = (fix$6566.$traverseRecPat(v$2182,v$2183,v$2180))[1];
var t$6572;
var t$6571;
switch (v$2181[0]) { case 1: {t$6571 = [basics$0StatObject$1.Id$845,[1]];
 break; }default: {var v$2173 = v$2181[1];
var v$2170 = fix$6566.$traverseRecPatrow(v$2182,v$2183,v$2173);
t$6571 = [v$2170[0],[0,v$2170[1]]];
} };
t$6572 = t$6571[1];
t$6576 = [t$6575,t$6574,t$6573,t$6572];
t$6577 = [0,t$6576];
return [t$6578,t$6577];
} };
};
var traverseRecAtpat$1904 = fix$6566.$traverseRecAtpat;
var traverseRecPat$1905 = fix$6566.$traverseRecPat;
var traverseRecPatrow$1903 = fix$6566.$traverseRecPatrow;
var fix$6567 = {};
fix$6567.$traverseRecValbind = function(v$1962,v$1963,v$1964){switch (v$1964[0]) { case 1: {var v$1948 = v$1964[1];
var v$1949 = v$1948[0];
var v$1950 = v$1948[1];
var v$1951 = v$1948[2];
var v$1952 = v$1948[3];
var v$1945 = traverseRecPat$1905(v$1962,v$1963,v$1950);
var v$1946 = v$1945[0];
var v$1947 = v$1945[1];
var v$1929;
switch (v$1952[0]) { case 0: {var v$1944 = v$1952[1];
v$1929 = [0,[0,(fix$6567.$traverseRecValbind(v$1962,v$1963,v$1944))[1]]];
 break; }default: {v$1929 = [v$1946,[1]];
} };
return [v$1929[0],[1,[v$1949,v$1947,v$1951,v$1929[1]]]];
 break; }default: {var v$1959 = v$1964[1];
var v$1960 = v$1959[0];
var v$1961 = v$1959[1];
var v$1956 = fix$6567.$traverseRecValbind(v$1962,v$1963,v$1961);
return [v$1956[0],[0,[v$1960,v$1956[1]]]];
} };
};
var traverseRecValbind$1906 = fix$6567.$traverseRecValbind;
var domain_list$2185 = dom_vb$502(v$2216,v$2215);
var VE$2196;
var fix$6568 = {};
fix$6568.$foldl = function(v$4924,v$4925){lab$foldl: while (true) {if (v$4925 == null) {return v$4924;
} else {var v$4926 = v$4925;
var v$4927 = v$4926[0];
var v$4928 = v$4926[1];
var t$6569 = basics$0Environments$1.plus$1101(v$4924,basics$0Environments$1.singleton_var$1058(v$4927,[null,basics$0StatObject$1.fresh_normal$1538(0)]));
var t$6570 = v$4928;
var v$4924 = t$6569;
var v$4925 = t$6570;
continue lab$foldl;
};
};
};
var foldl$4923 = fix$6568.$foldl;
VE$2196 = (foldl$4923(basics$0Environments$1.empty$1052,domain_list$2185));
var v$2209 = fix$6512.$elab_valbind(basics$0Environments$1.plus_VE$3367(v$2216,VE$2196),v$2215);
var v$2211 = v$2209[1];
var v$2212 = v$2209[2];
var v$2206 = traverseRecValbind$1906(VE$2196,v$2211,v$2212);
var v$2208 = v$2206[1];
return [0,v$2211,[0,[basics$0ElabInfo$1.from_ParseInfo$231(v$2214),v$2208]]];
} };
};
var elab_exprow$829 = fix$6512.$elab_exprow;
var elab_decs$823 = fix$6512.$elab_decs;
var elab_dec$824 = fix$6512.$elab_dec;
var elab_atexp$830 = fix$6512.$elab_atexp;
var elab_mrule$825 = fix$6512.$elab_mrule;
var elab_match$826 = fix$6512.$elab_match;
var elab_exp$$827 = fix$6512.$elab_exp$;
var elab_exp$828 = fix$6512.$elab_exp;
var elab_valbind$822 = fix$6512.$elab_valbind;
basics$0ElabDec$1.elab_dec$4240 = function(v$4256,v$4257){var v$4251 = elab_dec$824(v$4256,v$4257);
var v$4252 = v$4251[0];
var v$4253 = v$4251[1];
var v$4254 = v$4251[2];
var v$4255 = v$4251[3];
var t$6556 = v$4253;
var t$6555 = v$4254;
var t$6513;
var tau_to_overloadinginfo_alist$5437 = basis$0List$1.s$n$686([[basics$0StatObject$1.Int31$2148,[13]],[[basics$0StatObject$1.Int32$2149,[12]],[[basics$0StatObject$1.IntInf$2152,[9]],[[basics$0StatObject$1.Real$2167,[8]],[[basics$0StatObject$1.String$2168,[7]],[[basics$0StatObject$1.Char$2170,[14]],[[basics$0StatObject$1.Word8$2171,[2]],[[basics$0StatObject$1.Word31$2172,[6]],[[basics$0StatObject$1.Word32$2173,[5]],null]]]]]]]]],(values_64bit$180(0))?[[basics$0StatObject$1.Int63$2150,[11]],[[basics$0StatObject$1.Int64$2151,[10]],[[basics$0StatObject$1.Word63$2174,[4]],[[basics$0StatObject$1.Word64$2175,[3]],null]]]]:null);
var fix$6514 = {};
fix$6514.$resolve_tau = function(tau$5439){lab$resolve_tau: while (true) {var tau$$5440 = basics$0StatObject$1.on$854(v$4252,tau$5439);
var v$5441 = basics$0StatObject$1.to_TyVar$1522(tau$$5440);
switch (v$5441[0]) { case 1: {var v$5443 = basis$0List$1.find$392((function(env$6517){return function(v$5444){var v$6515 = env$6517[0];
var v$6516 = env$6517[1];
var v$5445 = v$5444[0];
return v$6516([v$6515,v$5445]);
};
})([tau$$5440,basics$0StatObject$1.eq$1168]),tau_to_overloadinginfo_alist$5437);
switch (v$5443[0]) { case 0: {return v$5443[1][1];
 break; }default: {return basics$0OverloadingInfo$1.resolvedIntDefault$76(0);
} };
 break; }default: {var v$5446 = v$5441[1];
if (basics$0StatObject$1.eq$1168([tau$$5440,tau$5439])) {var t$5448;
var ts$5449 = basics$0StatObject$1.resolve_overloaded$531(v$5446);
t$5448 = (((special_objects$0TyName$1$3.member$2869(special_objects$0TyName$1$1.tyName_INT32$220[0],special_objects$0TyName$1$1.tyName_INT32$220[1],special_objects$0TyName$1$1.tyName_INT32$220[2],special_objects$0TyName$1$1.tyName_INT32$220[3],special_objects$0TyName$1$1.tyName_INT32$220[4],special_objects$0TyName$1$1.tyName_INT32$220[5]))(ts$5449))?(((special_objects$0TyName$1$3.member$2869(special_objects$0TyName$1$1.tyName_INT31$216[0],special_objects$0TyName$1$1.tyName_INT31$216[1],special_objects$0TyName$1$1.tyName_INT31$216[2],special_objects$0TyName$1$1.tyName_INT31$216[3],special_objects$0TyName$1$1.tyName_INT31$216[4],special_objects$0TyName$1$1.tyName_INT31$216[5]))(ts$5449))?(basics$0StatObject$1.IntDefault$2153(0)):basics$0StatObject$1.Int32$2149):(((special_objects$0TyName$1$3.member$2869(special_objects$0TyName$1$1.tyName_WORD32$244[0],special_objects$0TyName$1$1.tyName_WORD32$244[1],special_objects$0TyName$1$1.tyName_WORD32$244[2],special_objects$0TyName$1$1.tyName_WORD32$244[3],special_objects$0TyName$1$1.tyName_WORD32$244[4],special_objects$0TyName$1$1.tyName_WORD32$244[5]))(ts$5449))?(((special_objects$0TyName$1$3.member$2869(special_objects$0TyName$1$1.tyName_WORD31$240[0],special_objects$0TyName$1$1.tyName_WORD31$240[1],special_objects$0TyName$1$1.tyName_WORD31$240[2],special_objects$0TyName$1$1.tyName_WORD31$240[3],special_objects$0TyName$1$1.tyName_WORD31$240[4],special_objects$0TyName$1$1.tyName_WORD31$240[5]))(ts$5449))?(basics$0StatObject$1.WordDefault$2176(0)):basics$0StatObject$1.Word32$2173):(tools$0Crash$1.impossible$59(("resolve_tv.hmm; maybe insert cases for string, etc; ts = {" + (basis$0String$1.concatWith$182(",",basis$0List$1.map$697((function(env$6519){return function(v$6457){var v$6518 = env$6519[0];
return v$6518(v$6457[0],v$6457[1],v$6457[2],v$6457[3],v$6457[4],v$6457[5]);
};
})([special_objects$0TyName$1$1.pr_TyName$333]),special_objects$0TyName$1$3.list$3264(ts$5449))))) + "}"))));
basics$0StatObject$1.unify$3416(t$5448,tau$$5440);
var v$5453 = basis$0List$1.find$392((function(env$6522){return function(v$5454){var v$6520 = env$6522[0];
var v$6521 = env$6522[1];
var v$5455 = v$5454[0];
return v$6521([v$6520,v$5455]);
};
})([tau$$5440,basics$0StatObject$1.eq$1168]),tau_to_overloadinginfo_alist$5437);
switch (v$5453[0]) { case 0: {return v$5453[1][1];
 break; }default: {return basics$0OverloadingInfo$1.resolvedIntDefault$76(0);
} };
} else {var t$6523 = tau$$5440;
var tau$5439 = t$6523;
continue lab$resolve_tau;
};
} };
};
};
var resolve_tau$5438 = fix$6514.$resolve_tau;
var resolve_i$5456 = function(ElabInfo$5457){var v$5458 = basics$0ElabInfo$1.to_TypeInfo$202(ElabInfo$5457);
switch (v$5458[0]) { case 0: {var v$5459 = v$5458[1];
var t$6526 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$6525 = ElabInfo$5457;
var t$6524;
switch (v$5459[0]) { case 10: {t$6524 = [10,[v$5459[1][0]]];
 break; }case 5: {var v$5463 = v$5459[1];
var v$5464 = v$5463[0];
t$6524 = [5,[basics$0StatObject$1.on$854(v$4252,v$5464)]];
 break; }case 1: {var v$5465 = v$5459[1];
var v$5466 = v$5465[0];
t$6524 = [1,[basis$0List$1.map$697(function(tau$5467){return basics$0StatObject$1.on$854(v$4252,tau$5467);
},v$5466)]];
 break; }case 0: {var v$5468 = v$5459[1];
var v$5469 = v$5468[1];
var v$5470 = v$5468[0];
t$6524 = [0,[basics$0StatObject$1.on$854(v$4252,v$5470),v$5469]];
 break; }case 18: {var v$5471 = v$5459[1];
var v$5472 = v$5471[3];
var v$5473 = v$5471[0];
var v$5474 = v$5471[2];
var v$5475 = v$5471[1];
t$6524 = [18,[v$5473,basis$0List$1.map$697(function(tau$5476){return basics$0StatObject$1.on$854(v$4252,tau$5476);
},v$5475),v$5474,v$5472]];
 break; }case 15: {var v$5477 = v$5459[1];
var v$5478 = v$5477[0];
var v$5479 = v$5477[1];
t$6524 = [15,[basics$0StatObject$1.on$854(v$4252,v$5478),v$5479]];
 break; }case 16: {var v$5480 = v$5459[1];
var v$5481 = v$5480[0];
switch (v$5481[0]) { case 1: {t$6524 = [16,[[1]]];
 break; }default: {var v$5482 = v$5481[1];
t$6524 = [16,[[0,basics$0StatObject$1.on$854(v$4252,v$5482)]]];
} };
 break; }case 2: {var v$5483 = v$5459[1];
t$6524 = [2,v$5483];
 break; }case 19: {var v$5484 = v$5459[1];
t$6524 = [19,[v$5484[0],v$5484[1]]];
 break; }case 14: {var v$5485 = v$5459[1];
var v$5486 = v$5485[0];
t$6524 = [14,[basics$0StatObject$1.on$854(v$4252,v$5486)]];
 break; }case 9: {var v$5487 = v$5459[1];
var v$5488 = v$5487[0];
t$6524 = [9,[basics$0StatObject$1.on$854(v$4252,v$5488)]];
 break; }case 6: {var v$5489 = v$5459[1];
var v$5490 = v$5489[1];
var v$5491 = v$5489[0];
t$6524 = [6,[basics$0StatObject$1.on$854(v$4252,v$5491),v$5490]];
 break; }case 7: {var v$5492 = v$5459[1];
t$6524 = [7,v$5492];
 break; }case 11: {var v$5493 = v$5459[1];
t$6524 = [11,v$5493];
 break; }case 12: {var v$5494 = v$5459[1];
t$6524 = [12,v$5494];
 break; }case 13: {var v$5495 = v$5459[1];
t$6524 = [13,v$5495];
 break; }case 3: {var v$5496 = v$5459[1];
t$6524 = [3,v$5496];
 break; }case 8: {var v$5497 = v$5459[1];
t$6524 = [8,v$5497];
 break; }case 4: {t$6524 = (tools$0Crash$1.impossible$59("ElabDec.on_TypeInfo.SIGBIND_INFO"));
 break; }default: {t$6524 = (tools$0Crash$1.impossible$59("ElabDec.on_TypeInfo.DELAYED_REALISATION"));
} };
return t$6526(t$6525,t$6524);
 break; }default: {return ElabInfo$5457;
} };
};
var en$DDD_IS_EMPTY$3725 = new String("DDD_IS_EMPTY");
var exn$DDD_IS_EMPTY$3725 = [en$DDD_IS_EMPTY$3725];
var fix$6527 = {};
fix$6527.$resolve_patrow = function(patrow$5591){switch (patrow$5591[0]) { case 1: {var v$5592 = patrow$5591[1];
var v$5593 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5592);
switch (v$5593[0]) { case 1: {return patrow$5591;
 break; }default: {var v$5594 = v$5593[1];
switch (v$5594[0]) { case 1: {var v$5595 = v$5594[1];
var t$6546;
var fix$6544 = {};
fix$6544.$loop = function(typ$5598){lab$loop: while (true) {var typ$$5599 = basics$0StatObject$1.on$854(v$4252,typ$5598);
if (basics$0StatObject$1.eq$1168([typ$$5599,typ$5598])) {return typ$5598;
} else {var t$6545 = typ$$5599;
var typ$5598 = t$6545;
continue lab$loop;
};
};
};
var loop$5597 = fix$6544.$loop;
t$6546 = ((basics$0StatObject$1.contains_row_variable$1559(loop$5597(basics$0StatObject$1.from_RecType$1539(v$5595))))?1:0);
switch (t$6546) { case 0: {var i0$5600 = basics$0ElabInfo$1.from_ParseInfo$231(basics$0ElabInfo$1.to_ParseInfo$192(v$5592));
var labs_and_types$5601 = basics$0StatObject$1.to_list$1762(v$5595);
var v$5602;
var b$5609 = [1];
var fix$6547 = {};
fix$6547.$foldr = function(v$5612){if (v$5612 == null) {return b$5609;
} else {var v$5613 = v$5612;
var v$5614 = v$5613[0];
var v$5615 = v$5613[1];
var v$6093 = fix$6547.$foldr(v$5615);
var v$5767 = v$5614[0];
var v$5768 = v$5614[1];
return [0,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(i0$5600,[10,[0]]),v$5767,[4,[i0$5600,[0,basics$0ElabInfo$1.plus_TypeInfo$128(i0$5600,[0,[v$5768,null]])]]],v$6093]]];
};
};
var foldr$5611 = fix$6547.$foldr;
v$5602 = (foldr$5611(labs_and_types$5601));
switch (v$5602[0]) { case 0: {return v$5602[1];
 break; }default: {throw exn$DDD_IS_EMPTY$3725;
} };
 break; }default: {return [1,basics$0ElabInfo$1.plus_ErrorInfo$102(v$5592,[37])];
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_patrow");
} };
} };
 break; }default: {var v$5618 = patrow$5591[1];
var v$5619 = v$5618[3];
switch (v$5619[0]) { case 1: {var v$5620 = v$5618[0];
var v$5621 = v$5618[1];
var v$5622 = v$5618[2];
return [0,[resolve_i$5456(v$5620),v$5621,fix$6527.$resolve_pat(v$5622),[1]]];
 break; }default: {var v$5623 = v$5618[0];
var v$5624 = v$5618[1];
var v$5625 = v$5618[2];
var v$5626 = v$5619[1];
var t$6554;
var t$6553 = resolve_i$5456(v$5623);
var t$6552 = v$5624;
var t$6551 = fix$6527.$resolve_pat(v$5625);
var t$6549;
try {t$6549 = [0,fix$6527.$resolve_patrow(v$5626)];
} catch(v$6548) {t$6549 = ((function(DDD_IS_EMPTY$5627){var t$6550 = DDD_IS_EMPTY$5627;
if (t$6550[0] == en$DDD_IS_EMPTY$3725) {return [1];
} else {throw DDD_IS_EMPTY$5627;
};
})(v$6548));
};
t$6554 = [t$6553,t$6552,t$6551,t$6549];
return [0,t$6554];
} };
} };
};
fix$6527.$resolve_atpat = function(atpat$5522){switch (atpat$5522[0]) { case 0: {return atpat$5522;
 break; }case 1: {var v$5523 = atpat$5522[1];
var v$5524 = v$5523[0];
var v$5525 = v$5523[1];
var v$5526 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5524);
switch (v$5526[0]) { case 1: {return [1,[resolve_i$5456(v$5524),v$5525]];
 break; }default: {var v$5527 = v$5526[1];
switch (v$5527[0]) { case 0: {var v$5528 = v$5527[1];
return [1,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5524,resolve_tau$5438(basics$0StatObject$1.from_TyVar$1518(v$5528))),v$5525]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat.SCON");
} };
} };
 break; }case 4: {var v$5535 = atpat$5522[1];
var v$5536 = v$5535[0];
var v$5537 = v$5535[1];
var v$5538 = v$5535[2];
return [4,[resolve_i$5456(v$5536),v$5537,v$5538]];
 break; }case 2: {var v$5539 = atpat$5522[1];
var v$5540 = v$5539[1];
switch (v$5540[0]) { case 1: {var v$5541 = v$5539[0];
return [2,[resolve_i$5456(v$5541),[1]]];
 break; }default: {var v$5542 = v$5539[0];
var v$5543 = v$5540[1];
var i$$5544 = resolve_i$5456(v$5542);
try {var patrow$$5545 = fix$6527.$resolve_patrow(v$5543);
var v$5546 = basics$0ElabInfo$1.to_TypeInfo$202(i$$5544);
switch (v$5546[0]) { case 0: {var v$5547 = v$5546[1];
switch (v$5547[0]) { case 5: {var v$5548 = v$5547[1];
var v$5549 = v$5548[0];
var t$6542;
var t$6541 = i$$5544;
var t$6540;
var t$6530;
var recType$5553;
var v$5554 = basics$0StatObject$1.to_RecType$1543(v$5549);
switch (v$5554[0]) { case 1: {recType$5553 = (tools$0Crash$1.impossible$59("ElabDec.addLabelIndexInfo"));
 break; }default: {recType$5553 = v$5554[1];
} };
var labtys$5559 = basics$0StatObject$1.to_list$1762(recType$5553);
var sortedLabs$5560 = basis$0List$1.map$697(function(v$5561){return v$5561[0];
},labtys$5559);
var fix$6531 = {};
fix$6531.$f = function(v$5563){switch (v$5563[0]) { case 0: {var v$5564 = v$5563[1];
var v$5565 = v$5564[0];
var v$5566 = v$5564[1];
var v$5567 = v$5564[2];
var v$5568 = v$5564[3];
switch ((basics$0ElabInfo$1.to_ErrorInfo$197(v$5565))[0]) { case 1: {var index$5569;
var v$5570;
var fix$6532 = {};
fix$6532.$count = function(v$6435,v$6436){lab$count: while (true) {if (v$6435 == null) {return [1];
} else {var v$6437 = v$6435;
var v$6438 = v$6437[0];
var v$6439 = v$6437[1];
if (syntax_objects$0Lab$1.eq_lab$147(v$6438,v$5566)) {return [0,v$6436];
} else {var t$6533 = v$6439;
var t$6534 = SmlPrims.chk_ovf_i32(v$6436 + 1);
var v$6435 = t$6533;
var v$6436 = t$6534;
continue lab$count;
};
};
};
};
var count$6434 = fix$6532.$count;
v$5570 = (count$6434(sortedLabs$5560,0));
switch (v$5570[0]) { case 0: {index$5569 = v$5570[1];
 break; }default: {index$5569 = (tools$0Crash$1.impossible$59("ElabDec.where'"));
} };
var t$6539;
var t$6538 = basics$0ElabInfo$1.plus_TypeInfo$128(v$5565,[10,[index$5569]]);
var t$6537 = v$5566;
var t$6536 = v$5567;
var t$6535;
switch (v$5568[0]) { case 0: {var v$5579 = v$5568[1];
t$6535 = [0,fix$6531.$f(v$5579)];
 break; }default: {t$6535 = [1];
} };
t$6539 = [t$6538,t$6537,t$6536,t$6535];
return [0,t$6539];
 break; }default: {return [0,[v$5565,v$5566,v$5567,v$5568]];
} };
 break; }default: {var v$5580 = v$5563[1];
return [1,v$5580];
} };
};
var f$5562 = fix$6531.$f;
t$6530 = (f$5562(patrow$$5545));
t$6540 = [0,t$6530];
t$6542 = [t$6541,t$6540];
return [2,t$6542];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat(RECORDatpat): wrong typeinfo");
} };
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atpat(RECORDatpat): no typeinfo");
} };
} catch(v$6529) {return (function(DDD_IS_EMPTY$5587){var t$6543 = DDD_IS_EMPTY$5587;
if (t$6543[0] == en$DDD_IS_EMPTY$3725) {return [2,[i$$5544,[1]]];
} else {throw DDD_IS_EMPTY$5587;
};
})(v$6529);
};
} };
 break; }default: {var v$5588 = atpat$5522[1];
var v$5589 = v$5588[0];
var v$5590 = v$5588[1];
return [3,[resolve_i$5456(v$5589),fix$6527.$resolve_pat(v$5590)]];
} };
};
fix$6527.$resolve_pat = function(pat$5503){switch (pat$5503[0]) { case 4: {var v$5504 = pat$5503[1];
var v$5505 = v$5504[0];
var v$5506 = v$5504[1];
return [4,[resolve_i$5456(v$5505),fix$6527.$resolve_atpat(v$5506)]];
 break; }case 3: {var v$5507 = pat$5503[1];
var v$5508 = v$5507[0];
var v$5509 = v$5507[1];
var v$5510 = v$5507[2];
return [3,[resolve_i$5456(v$5508),v$5509,fix$6527.$resolve_atpat(v$5510)]];
 break; }case 1: {var v$5511 = pat$5503[1];
var v$5512 = v$5511[0];
var v$5513 = v$5511[1];
var v$5514 = v$5511[2];
return [1,[resolve_i$5456(v$5512),fix$6527.$resolve_pat(v$5513),v$5514]];
 break; }case 2: {var v$5515 = pat$5503[1];
var v$5516 = v$5515[0];
var v$5517 = v$5515[1];
var v$5518 = v$5515[2];
var v$5519 = v$5515[3];
return [2,[resolve_i$5456(v$5516),v$5517,v$5518,fix$6527.$resolve_pat(v$5519)]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_pat(UNRES_INFIX)");
} };
};
var resolve_patrow$5502 = fix$6527.$resolve_patrow;
var resolve_atpat$5501 = fix$6527.$resolve_atpat;
var resolve_pat$5500 = fix$6527.$resolve_pat;
var fix$6528 = {};
fix$6528.$resolve_exprow = function(exprow$5755){var v$5756 = exprow$5755[1];
var v$5757 = v$5756[3];
switch (v$5757[0]) { case 1: {var v$5758 = v$5756[0];
var v$5759 = v$5756[1];
var v$5760 = v$5756[2];
return [0,[resolve_i$5456(v$5758),v$5759,fix$6528.$resolve_exp(v$5760),[1]]];
 break; }default: {var v$5761 = v$5756[0];
var v$5762 = v$5756[1];
var v$5763 = v$5756[2];
var v$5764 = v$5757[1];
return [0,[resolve_i$5456(v$5761),v$5762,fix$6528.$resolve_exp(v$5763),[0,fix$6528.$resolve_exprow(v$5764)]]];
} };
};
fix$6528.$resolve_dec = function(dec$5726){switch (dec$5726[0]) { case 0: {var v$5727 = dec$5726[1];
var v$5728 = v$5727[0];
var v$5729 = v$5727[1];
var v$5730 = v$5727[2];
return [0,[resolve_i$5456(v$5728),v$5729,fix$6528.$resolve_valbind(v$5730)]];
 break; }case 1: {return tools$0Crash$1.impossible$59("ElabDec.resolve_dec(UNRES_FUNdec)");
 break; }case 2: {return dec$5726;
 break; }case 12: {var v$5733 = dec$5726[1];
var v$5734 = v$5733[0];
var v$5735 = v$5733[1];
return [12,[resolve_i$5456(v$5734),v$5735]];
 break; }case 13: {var v$5736 = dec$5726[1];
var v$5737 = v$5736[0];
var v$5738 = v$5736[1];
var v$5739 = v$5736[2];
return [13,[resolve_i$5456(v$5737),v$5738,v$5739]];
 break; }case 14: {var v$5740 = dec$5726[1];
var v$5741 = v$5740[0];
var v$5742 = v$5740[1];
var v$5743 = v$5740[2];
return [14,[resolve_i$5456(v$5741),v$5742,fix$6528.$resolve_dec(v$5743)]];
 break; }case 10: {var v$5744 = dec$5726[1];
var v$5745 = v$5744[0];
var v$5746 = v$5744[1];
return [10,[resolve_i$5456(v$5745),v$5746]];
 break; }case 7: {var v$5747 = dec$5726[1];
var v$5748 = v$5747[0];
var v$5749 = v$5747[1];
var v$5750 = v$5747[2];
return [7,[resolve_i$5456(v$5748),fix$6528.$resolve_dec(v$5749),fix$6528.$resolve_dec(v$5750)]];
 break; }case 5: {return dec$5726;
 break; }case 3: {var v$5751 = dec$5726[1];
var v$5752 = v$5751[0];
var v$5753 = v$5751[1];
var v$5754 = v$5751[2];
return [3,[resolve_i$5456(v$5752),fix$6528.$resolve_dec(v$5753),fix$6528.$resolve_dec(v$5754)]];
 break; }case 8: {return dec$5726;
 break; }case 9: {return dec$5726;
 break; }case 6: {return dec$5726;
 break; }case 11: {return dec$5726;
 break; }default: {return dec$5726;
} };
};
fix$6528.$resolve_atexp = function(atexp$5685){switch (atexp$5685[0]) { case 0: {var v$5686 = atexp$5685[1];
var v$5687 = v$5686[0];
var v$5688 = v$5686[1];
var v$5689 = v$5686[2];
var v$5690 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5687);
switch (v$5690[0]) { case 1: {return [0,[resolve_i$5456(v$5687),v$5688,v$5689]];
 break; }default: {var v$5691 = v$5690[1];
switch (v$5691[0]) { case 0: {var v$5692 = v$5691[1];
return [0,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5687,resolve_tau$5438(basics$0StatObject$1.from_TyVar$1518(v$5692))),v$5688,v$5689]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atexp.SCON");
} };
} };
 break; }case 4: {var v$5699 = atexp$5685[1];
var v$5700 = v$5699[0];
var v$5701 = v$5699[1];
var v$5702 = v$5699[2];
var v$5703 = basics$0ElabInfo$1.to_OverloadingInfo$207(v$5700);
switch (v$5703[0]) { case 1: {return [4,[resolve_i$5456(v$5700),v$5701,v$5702]];
 break; }default: {var v$5704 = v$5703[1];
switch (v$5704[0]) { case 0: {var v$5705 = v$5704[1];
return [4,[basics$0ElabInfo$1.plus_OverloadingInfo$153(v$5700,resolve_tau$5438(basics$0StatObject$1.from_TyVar$1518(v$5705))),v$5701,v$5702]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_atexp");
} };
} };
 break; }case 1: {var v$5712 = atexp$5685[1];
var v$5713 = v$5712[1];
switch (v$5713[0]) { case 1: {var v$5714 = v$5712[0];
var v$5715 = v$5712[2];
return [1,[resolve_i$5456(v$5714),[1],v$5715]];
 break; }default: {var v$5716 = v$5712[0];
var v$5717 = v$5713[1];
var v$5718 = v$5712[2];
return [1,[resolve_i$5456(v$5716),[0,fix$6528.$resolve_exprow(v$5717)],v$5718]];
} };
 break; }case 3: {var v$5719 = atexp$5685[1];
var v$5720 = v$5719[0];
var v$5721 = v$5719[1];
var v$5722 = v$5719[2];
return [3,[resolve_i$5456(v$5720),fix$6528.$resolve_dec(v$5721),fix$6528.$resolve_exp(v$5722)]];
 break; }default: {var v$5723 = atexp$5685[1];
var v$5724 = v$5723[0];
var v$5725 = v$5723[1];
return [2,[resolve_i$5456(v$5724),fix$6528.$resolve_exp(v$5725)]];
} };
};
fix$6528.$resolve_mrule = function(v$5680){var v$5681 = v$5680[1];
var v$5682 = v$5681[0];
var v$5683 = v$5681[1];
var v$5684 = v$5681[2];
return [0,[resolve_i$5456(v$5682),resolve_pat$5500(v$5683),fix$6528.$resolve_exp(v$5684)]];
};
fix$6528.$resolve_match = function(match$5672){var v$5673 = match$5672[1];
var v$5674 = v$5673[2];
switch (v$5674[0]) { case 1: {var v$5675 = v$5673[0];
var v$5676 = v$5673[1];
return [0,[resolve_i$5456(v$5675),fix$6528.$resolve_mrule(v$5676),[1]]];
 break; }default: {var v$5677 = v$5673[0];
var v$5678 = v$5673[1];
var v$5679 = v$5674[1];
return [0,[resolve_i$5456(v$5677),fix$6528.$resolve_mrule(v$5678),[0,fix$6528.$resolve_match(v$5679)]]];
} };
};
fix$6528.$resolve_exp = function(exp$5648){switch (exp$5648[0]) { case 5: {var v$5649 = exp$5648[1];
var v$5650 = v$5649[0];
var v$5651 = v$5649[1];
return [5,[resolve_i$5456(v$5650),fix$6528.$resolve_atexp(v$5651)]];
 break; }case 6: {var v$5652 = exp$5648[1];
var v$5653 = v$5652[0];
var v$5654 = v$5652[1];
var v$5655 = v$5652[2];
return [6,[resolve_i$5456(v$5653),fix$6528.$resolve_exp(v$5654),fix$6528.$resolve_atexp(v$5655)]];
 break; }case 1: {var v$5656 = exp$5648[1];
var v$5657 = v$5656[0];
var v$5658 = v$5656[1];
var v$5659 = v$5656[2];
return [1,[resolve_i$5456(v$5657),fix$6528.$resolve_exp(v$5658),v$5659]];
 break; }case 3: {var v$5660 = exp$5648[1];
var v$5661 = v$5660[0];
var v$5662 = v$5660[1];
var v$5663 = v$5660[2];
return [3,[resolve_i$5456(v$5661),fix$6528.$resolve_exp(v$5662),fix$6528.$resolve_match(v$5663)]];
 break; }case 2: {var v$5664 = exp$5648[1];
var v$5665 = v$5664[0];
var v$5666 = v$5664[1];
return [2,[resolve_i$5456(v$5665),fix$6528.$resolve_exp(v$5666)]];
 break; }case 4: {var v$5667 = exp$5648[1];
var v$5668 = v$5667[0];
var v$5669 = v$5667[1];
return [4,[resolve_i$5456(v$5668),fix$6528.$resolve_match(v$5669)]];
 break; }default: {return tools$0Crash$1.impossible$59("ElabDec.resolve_exp(UNRES_INFIX)");
} };
};
fix$6528.$resolve_valbind = function(valbind$5635){switch (valbind$5635[0]) { case 1: {var v$5636 = valbind$5635[1];
var v$5637 = v$5636[3];
switch (v$5637[0]) { case 1: {var v$5638 = v$5636[0];
var v$5639 = v$5636[1];
var v$5640 = v$5636[2];
return [1,[v$5638,resolve_pat$5500(v$5639),fix$6528.$resolve_exp(v$5640),[1]]];
 break; }default: {var v$5641 = v$5636[0];
var v$5642 = v$5636[1];
var v$5643 = v$5636[2];
var v$5644 = v$5637[1];
return [1,[v$5641,resolve_pat$5500(v$5642),fix$6528.$resolve_exp(v$5643),[0,fix$6528.$resolve_valbind(v$5644)]]];
} };
 break; }default: {var v$5645 = valbind$5635[1];
var v$5646 = v$5645[0];
var v$5647 = v$5645[1];
return [0,[v$5646,fix$6528.$resolve_valbind(v$5647)]];
} };
};
var resolve_exprow$5634 = fix$6528.$resolve_exprow;
var resolve_dec$5633 = fix$6528.$resolve_dec;
var resolve_atexp$5632 = fix$6528.$resolve_atexp;
var resolve_mrule$5631 = fix$6528.$resolve_mrule;
var resolve_match$5630 = fix$6528.$resolve_match;
var resolve_exp$5629 = fix$6528.$resolve_exp;
var resolve_valbind$5628 = fix$6528.$resolve_valbind;
t$6513 = (resolve_dec$5633(v$4255));
return [t$6556,t$6555,t$6513];
};
return 0;
})();
