if ((typeof(basics$0ElabTopdec$1$9)) == "undefined") {basics$0ElabTopdec$1$9 = {};
};
(function(){basics$0ElabTopdec$1$9.map_Some_on_2nd$5543 = function(v$8505,v$8506){return [v$8505,[0,v$8506]];
};
basics$0ElabTopdec$1$9.map_Some_on_2nd$$5550 = function(v$8507,v$8508,v$8509){return [v$8507,[0,v$8508],v$8509];
};
basics$0ElabTopdec$1$9.map_Some_on_3nd$5559 = function(v$8510,v$8511,v$8512){return [v$8510,v$8511,[0,v$8512]];
};
basics$0ElabTopdec$1$9.elab_X_opt$5568 = function(v$8513,v$8514,v$8515){return function(v$5574){return function(v$5577){switch (v$8515[0]) { case 0: {var v$5596 = v$8515[1];
var v$7719 = v$5574([v$8513,v$8514,v$5596]);
return [v$7719[0],[0,v$7719[1]]];
 break; }default: {return [v$5577,[1]];
} };
};
};
};
basics$0ElabTopdec$1$9.elab_X_opt$$5603 = function(v$8516,v$8517){return function(v$5609){return function(v$5612){return function(v$5615){switch (v$8517[0]) { case 0: {var v$5633 = v$8517[1];
var v$7720 = v$5609([v$8516,v$5633]);
return [v$7720[0],v$7720[1],[0,v$7720[2]]];
 break; }default: {return [v$5612,v$5615,[1]];
} };
};
};
};
};
basics$0ElabTopdec$1$9.elab_X_opt$$$5641 = function(v$8518,v$8519,v$8520){return function(v$5647){return function(v$5650){switch (v$8519[0]) { case 0: {var v$5668 = v$8519[1];
var v$7721 = v$5647([v$8518,v$5668,v$8520]);
return [v$7721[0],[0,v$7721[1]],v$7721[2]];
 break; }default: {return [v$5650,[1],v$8520];
} };
};
};
};
basics$0ElabTopdec$1$9.Phi_match_via$5676 = function(a$5679){return basics$0ModuleStatObject$1.match_via$885(a$5679[0],a$5679[1]);
};
basics$0ElabTopdec$1$9.Sigma_to_T_and_E$5680 = function(a$5683){return basics$0ModuleStatObject$1.to_T_and_E$527(a$5683);
};
basics$0ElabTopdec$1$9.VE_close$5684 = function(a$5687){return basics$0Environments$1.close$1400(a$5687);
};
basics$0ElabTopdec$1$9.maximise_equality_in_VE_and_TE$5688 = function(a$5691){return basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(a$5691[0],a$5691[1]);
};
basics$0ElabTopdec$1$9.lookup_longstrid$5692 = function(a$5695){return basics$0ModuleEnvironments$1.lookup_longstrid$573(a$5695);
};
basics$0ElabTopdec$1$9.lookup_funid$5696 = function(a$5699){return basics$0ModuleEnvironments$1.lookup_funid$646(a$5699);
};
basics$0ElabTopdec$1$9.lookup_sigid$5700 = function(a$5703){return basics$0ModuleEnvironments$1.lookup_sigid$610(a$5703);
};
basics$0ElabTopdec$1$9.lookup_longtycon$5704 = function(a$5707){return function(v$8528){return basics$0Environments$1.lookup_longtycon$2565(a$5707,v$8528);
};
};
basics$0ElabTopdec$1$9.lookup_longtycon$$5708 = function(a$5711){return basics$0ModuleEnvironments$1.lookup_longtycon$574(a$5711);
};
basics$0ElabTopdec$1$9.lookup_longstrid$$5712 = function(a$5715){return function(v$8530){return basics$0Environments$1.lookup_longstrid$2572(a$5715,v$8530);
};
};
basics$0ElabTopdec$1$9.lookup_tycon$5716 = function(a$5719){return basics$0Environments$1.lookup_tycon$3421(a$5719);
};
basics$0ElabTopdec$1$9.out_i_for_exdesc$5726 = function(excon$7287,VE$7290,i$7293,error$7296){if (error$7296) {return basics$0ElabTopdec$1$1.repeatedIdsError$243(i$7293,[[8,excon$7287],null]);
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(excon$7287)) {return basics$0ElabTopdec$1$1.errorConv$229(i$7293,[17,[excon$7287,null]]);
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(excon$7287)) {return basics$0ElabTopdec$1$1.errorConv$229(i$7293,[18]);
} else {return basics$0ElabTopdec$1$1.okConv$228(i$7293);
};
};
};
};
var fix$8553 = {};
fix$8553.$elab_exdesc = function(v$7282,v$7283,v$7284){var v$7214 = v$7283[1];
var v$7215 = v$7214[2];
switch (v$7215[0]) { case 1: {var v$7230 = v$7214[0];
var v$7231 = v$7214[1];
var v$7232 = v$7214[3];
var v$7227 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$7284,v$7231);
var v$7228 = v$7227[0];
var v$7229 = v$7227[1];
var v$7223;
switch (v$7232[0]) { case 0: {var v$7729 = v$7232[1];
var v$7732 = fix$8553.$elab_exdesc(v$7282,v$7729,v$7229);
v$7223 = [v$7732[0],[0,v$7732[1]],v$7732[2]];
 break; }default: {v$7223 = [basics$0Environments$1.empty$1052,[1],v$7229];
} };
var v$7224 = v$7223[0];
var v$7225 = v$7223[1];
var v$7226 = v$7223[2];
return [basics$0Environments$1.plus$1101(basics$0Environments$1.singleton_excon$1074(v$7231,basics$0StatObject$1.Exn$2084),v$7224),[0,[v$7228?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7230,[[8,v$7231],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7231))?(basics$0ElabTopdec$1$1.errorConv$229(v$7230,[17,[v$7231,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7231))?(basics$0ElabTopdec$1$1.errorConv$229(v$7230,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7230)))),v$7231,[1],v$7225]],v$7226];
 break; }default: {var v$7278 = v$7214[0];
var v$7279 = v$7214[1];
var v$7280 = v$7215[1];
var v$7281 = v$7214[3];
var v$7275 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$7284,v$7279);
var v$7276 = v$7275[0];
var v$7277 = v$7275[1];
var v$7271;
switch (v$7281[0]) { case 0: {var v$7744 = v$7281[1];
var v$7747 = fix$8553.$elab_exdesc(v$7282,v$7744,v$7277);
v$7271 = [v$7747[0],[0,v$7747[1]],v$7747[2]];
 break; }default: {v$7271 = [basics$0Environments$1.empty$1052,[1],v$7277];
} };
var v$7272 = v$7271[0];
var v$7273 = v$7271[1];
var v$7274 = v$7271[2];
var v$7256 = basics$0ElabDec$1.elab_ty$807(v$7282,v$7280);
var v$7257 = v$7256[0];
switch (v$7257[0]) { case 0: {var v$7267 = v$7257[1];
var v$7268 = v$7256[1];
var tyvars$7259 = basics$0ElabTopdec$1$1.tyvars_Type$216(v$7267);
var arrow$7260 = basics$0StatObject$1.mk_Arrow$2104(v$7267,basics$0StatObject$1.Exn$2084);
var out_i$7261 = (tyvars$7259 == null)?(v$7276?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7278,[[8,v$7279],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7279))?(basics$0ElabTopdec$1$1.errorConv$229(v$7278,[17,[v$7279,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7279))?(basics$0ElabTopdec$1$1.errorConv$229(v$7278,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7278))))):(basics$0ElabTopdec$1$1.errorConv$229(v$7278,[38]));
return [basics$0Environments$1.plus$1101(basics$0Environments$1.singleton_excon$1074(v$7279,arrow$7260),v$7272),[0,[out_i$7261,v$7279,[0,v$7268],v$7273]],v$7274];
 break; }default: {var v$7270 = v$7256[1];
return [v$7272,[0,[v$7276?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7278,[[8,v$7279],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7279))?(basics$0ElabTopdec$1$1.errorConv$229(v$7278,[17,[v$7279,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7279))?(basics$0ElabTopdec$1$1.errorConv$229(v$7278,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7278)))),v$7279,[0,v$7270],v$7273]],v$7274];
} };
} };
};
basics$0ElabTopdec$1$9.elab_exdesc$5727 = fix$8553.$elab_exdesc;
basics$0ElabTopdec$1$9.out_i_for_condesc$5729 = function(con$7158,constructor_map$7161,i$7164,error$7167){if (error$7167) {return basics$0ElabTopdec$1$1.repeatedIdsError$243(i$7164,[[9,con$7158],null]);
} else {if (basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(con$7158)) {return basics$0ElabTopdec$1$1.errorConv$229(i$7164,[17,[con$7158,null]]);
} else {if (basics$0PreElabDecGrammar$1$2.is_$it$$1880(con$7158)) {return basics$0ElabTopdec$1$1.errorConv$229(i$7164,[18]);
} else {return basics$0ElabTopdec$1$1.okConv$228(i$7164);
};
};
};
};
var fix$8554 = {};
fix$8554.$elab_condesc = function(v$7152,v$7153,v$7154,v$7155){var v$7092 = v$7154[1];
var v$7093 = v$7092[2];
switch (v$7093[0]) { case 1: {var v$7109 = v$7092[0];
var v$7110 = v$7092[1];
var v$7111 = v$7092[3];
var sigma$7094 = [null,v$7153];
var v$7106 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$7155,v$7110);
var v$7107 = v$7106[0];
var v$7108 = v$7106[1];
var v$7102 = fix$8554.$elab_condesc_opt(v$7152,v$7153,v$7111,v$7108);
var v$7103 = v$7102[0];
var v$7104 = v$7102[1];
var v$7105 = v$7102[2];
return [basics$0Environments$1.add$3708(function(v$8521){return syntax_objects$0Ident$1.eq_id$248(v$8521[0],v$8521[1]);
},v$7110,sigma$7094,v$7103),[0,[v$7107?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7109,[[9,v$7110],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7110))?(basics$0ElabTopdec$1$1.errorConv$229(v$7109,[17,[v$7110,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7110))?(basics$0ElabTopdec$1$1.errorConv$229(v$7109,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7109)))),v$7110,[1],v$7104]],v$7105];
 break; }default: {var v$7148 = v$7092[0];
var v$7149 = v$7092[1];
var v$7150 = v$7093[1];
var v$7151 = v$7092[3];
var v$7145 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$7155,v$7149);
var v$7146 = v$7145[0];
var v$7147 = v$7145[1];
var v$7141 = fix$8554.$elab_condesc_opt(v$7152,v$7153,v$7151,v$7147);
var v$7142 = v$7141[0];
var v$7143 = v$7141[1];
var v$7144 = v$7141[2];
var v$7132 = basics$0ElabDec$1.elab_ty$807(v$7152,v$7150);
var v$7133 = v$7132[0];
switch (v$7133[0]) { case 0: {var v$7138 = v$7133[1];
var v$7139 = v$7132[1];
var arrow$7135 = basics$0StatObject$1.mk_Arrow$2104(v$7138,v$7153);
var sigma$7136 = [null,arrow$7135];
return [basics$0Environments$1.add$3708(function(v$8522){return syntax_objects$0Ident$1.eq_id$248(v$8522[0],v$8522[1]);
},v$7149,sigma$7136,v$7142),[0,[v$7146?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7148,[[9,v$7149],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7149))?(basics$0ElabTopdec$1$1.errorConv$229(v$7148,[17,[v$7149,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7149))?(basics$0ElabTopdec$1$1.errorConv$229(v$7148,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7148)))),v$7149,[0,v$7139],v$7143]],v$7144];
 break; }default: {var v$7140 = v$7132[1];
return [v$7142,[0,[v$7146?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7148,[[9,v$7149],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$7149))?(basics$0ElabTopdec$1$1.errorConv$229(v$7148,[17,[v$7149,null]])):((basics$0PreElabDecGrammar$1$2.is_$it$$1880(v$7149))?(basics$0ElabTopdec$1$1.errorConv$229(v$7148,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7148)))),v$7149,[0,v$7140],v$7143]],v$7144];
} };
} };
};
fix$8554.$elab_condesc_opt = function(v$7194,v$7195,v$7196,v$7197){switch (v$7196[0]) { case 0: {var v$7769 = v$7196[1];
var v$7772 = fix$8554.$elab_condesc(v$7194,v$7195,v$7769,v$7197);
return [v$7772[0],[0,v$7772[1]],v$7772[2]];
 break; }default: {return [basics$0Environments$1.empty$3707,[1],v$7197];
} };
};
basics$0ElabTopdec$1$9.elab_condesc$5730 = fix$8554.$elab_condesc;
basics$0ElabTopdec$1$9.elab_condesc_opt$5728 = fix$8554.$elab_condesc_opt;
var fix$8555 = {};
fix$8555.$elab_datdesc = function(v$7072,v$7073,v$7074){var v$7066 = v$7073[1];
var v$7067 = v$7066[0];
var v$7068 = v$7066[1];
var v$7069 = v$7066[2];
var v$7070 = v$7066[3];
var v$7071 = v$7066[4];
basics$0StatObject$1.push$152(0);
var v$7063 = basics$0Environments$1.plus_U$$3237(v$7072,v$7068);
var v$7064 = v$7063[0];
var v$7065 = v$7063[1];
var v$7061 = basics$0Environments$1.to_theta_and_VE$1680(basics$0ElabTopdec$1$1.noSome$66((basics$0Environments$1.lookup_tycon$3421(v$7072))(v$7069),"datdesc(1)"));
var v$7062 = v$7061[0];
var t$7002 = basics$0ElabTopdec$1$1.noSome$66(basics$0StatObject$1.to_TyName$4079(v$7062),"datdesc(2)");
var taus$7003 = basis$0List$1.map$697(function(v$8541){return basics$0StatObject$1.from_TyVar$1518(v$8541);
},v$7064);
var tau$7004 = basics$0StatObject$1.mk_ConsType$2059(taus$7003,t$7002);
var v$7057 = basics$0ElabTopdec$1$9.elab_condesc$5730(v$7065,tau$7004,v$7070,v$7074);
var v$7058 = v$7057[0];
var v$7059 = v$7057[1];
var v$7060 = v$7057[2];
var VE$7009 = basics$0Environments$1.to_VE$3725(v$7058);
var tyvars_repeated$7010 = basics$0ElabTopdec$1$1.repeaters$250(function(v$7798){var v$7799 = v$7798[0];
var v$7800 = v$7798[1];
return syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(v$7799,v$7800);
},v$7068);
var tyvars_not_bound$7011 = basis$0List$1.filter$417(function(tyvar$7014){var t$8632;
var fix$8630 = {};
fix$8630.$exists = function(v$7806){lab$exists: while (true) {if (v$7806 == null) {return false;
} else {var v$7807 = v$7806;
var v$7808 = v$7807[0];
var v$7809 = v$7807[1];
if (syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(tyvar$7014,v$7808)) {return true;
} else {var t$8631 = v$7809;
var v$7806 = t$8631;
continue lab$exists;
};
};
};
};
var exists$7805 = fix$8630.$exists;
t$8632 = (exists$7805(v$7068));
return t$8632?false:true;
},basics$0PreElabTopdecGrammar$1$1.getExplicitTyVarsCondesc$803(v$7070));
basics$0StatObject$1.pop$155(0);
var VE_closed$7015 = basics$0Environments$1.close$1400(VE$7009);
var theta$7016 = basics$0StatObject$1.from_TyName$4059(t$7002);
var tystr$7017 = basics$0Environments$1.from_theta_and_VE$1671(theta$7016,VE_closed$7015);
var v$7054 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$7060,v$7069);
var v$7055 = v$7054[0];
var v$7056 = v$7054[1];
var v$7048;
var v$7812 = [basics$0Environments$1.empty$1052,basics$0Environments$1.empty$1786];
switch (v$7071[0]) { case 0: {var v$7817 = v$7071[1];
var v$7820 = fix$8555.$elab_datdesc(v$7072,v$7817,v$7056);
v$7048 = [v$7820[0],[0,v$7820[1]],v$7820[2]];
 break; }default: {v$7048 = [v$7812,[1],v$7056];
} };
var v$7049 = v$7048[0];
var v$7050 = v$7049[0];
var v$7051 = v$7049[1];
var v$7052 = v$7048[1];
var v$7053 = v$7048[2];
var v$7030 = basics$0ElabTopdec$1$1.s$n$200([v$7055?[[1,v$7069],null]:null,basis$0List$1.map$697(function(v$7047){return [0,v$7047];
},basis$0List$1.map$697(function(v$8542){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8542);
},tyvars_repeated$7010))]);
return (v$7030 == null)?((tyvars_not_bound$7011 == null)?[[basics$0Environments$1.plus$1101(VE_closed$7015,v$7050),basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$7069,tystr$7017]),v$7051)],[0,[(syntax_objects$0TyCon$1.is_$true$_$nil$_etc$171(v$7069))?(basics$0ElabTopdec$1$1.errorConv$229(v$7067,[17,null])):((syntax_objects$0TyCon$1.is_$it$$188(v$7069))?(basics$0ElabTopdec$1$1.errorConv$229(v$7067,[18])):(basics$0ElabTopdec$1$1.okConv$228(v$7067))),v$7068,v$7069,v$7059,v$7052]],v$7053]:[[v$7050,v$7051],[0,[basics$0ElabTopdec$1$1.errorConv$229(v$7067,[15,basis$0List$1.map$697(function(v$8543){return syntax_objects$0SyntaxTyVar$1.pr_tyvar$60(v$8543);
},tyvars_not_bound$7011)]),v$7068,v$7069,v$7059,v$7052]],v$7053]):[[v$7050,v$7051],[0,[basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7067,v$7030),v$7068,v$7069,v$7059,v$7052]],v$7053];
};
basics$0ElabTopdec$1$9.elab_datdesc$5731 = fix$8555.$elab_datdesc;
var fix$8556 = {};
fix$8556.$elab_typdesc = function(equality$6914,v$6919){var v$6982 = v$6919[0];
var v$6983 = v$6919[1];
var v$6984 = v$6919[2];
var v$6977 = v$6983[1];
var v$6978 = v$6977[0];
var v$6979 = v$6977[1];
var v$6980 = v$6977[2];
var v$6981 = v$6977[3];
basis$0List$1.map$697(function(v$8544){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8544);
},v$6979);
var tyvars_repeated$6927 = basics$0ElabTopdec$1$1.repeaters$250(function(v$7822){var v$7823 = v$7822[0];
var v$7824 = v$7822[1];
return syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(v$7823,v$7824);
},v$6979);
var arity$6928;
var fix$8627 = {};
fix$8627.$acc = function(v$7827,v$7828){lab$acc: while (true) {if (v$7827 == null) {return v$7828;
} else {var v$7829 = v$7827;
var v$7830 = v$7829[1];
var t$8628 = v$7830;
var t$8629 = SmlPrims.chk_ovf_i32(v$7828 + 1);
var v$7827 = t$8628;
var v$7828 = t$8629;
continue lab$acc;
};
};
};
var acc$7826 = fix$8627.$acc;
arity$6928 = (acc$7826(v$6979,0));
var t$6929 = special_objects$0TyName$1$1.freshTyName$142(arity$6928,equality$6914,v$6980);
var theta$6933 = basics$0StatObject$1.from_TyName$4059(t$6929);
var tystr$6934 = basics$0Environments$1.from_theta_and_VE$1671(theta$6933,basics$0Environments$1.empty$1052);
var v$6974 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$6984,v$6980);
var v$6975 = v$6974[0];
var v$6976 = v$6974[1];
var v$6953;
switch (v$6981[0]) { case 1: {v$6953 = [null,basics$0Environments$1.empty$1786,[1],v$6976];
 break; }default: {var v$6973 = v$6981[1];
var v$6968 = fix$8556.$elab_typdesc(equality$6914,[v$6982,v$6973,v$6976]);
v$6953 = [v$6968[0],v$6968[1],[0,v$6968[2]],v$6968[3]];
} };
var v$6954 = v$6953[0];
var v$6955 = v$6953[1];
var v$6956 = v$6953[2];
var v$6957 = v$6953[3];
var out_i$6943 = v$6975?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6978,[[1,v$6980],null])):((tyvars_repeated$6927 == null)?(basics$0ElabTopdec$1$1.okConv$228(v$6978)):(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6978,basis$0List$1.map$697(function(v$6952){return [0,v$6952];
},basis$0List$1.map$697(function(v$8545){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8545);
},tyvars_repeated$6927)))));
return [[t$6929,v$6954],basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$6980,tystr$6934]),v$6955),[0,[out_i$6943,v$6979,v$6980,v$6956]],v$6957];
};
basics$0ElabTopdec$1$9.elab_typdesc$5732 = fix$8556.$elab_typdesc;
var fix$8557 = {};
fix$8557.$elab_valdesc = function(v$6909,v$6910,v$6911){var v$6904 = v$6910[1];
var v$6905 = v$6904[0];
var v$6906 = v$6904[1];
var v$6907 = v$6904[2];
var v$6908 = v$6904[3];
var v$6901 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$6911,v$6906);
var v$6902 = v$6901[0];
var v$6903 = v$6901[1];
var explicittyvars$6863 = edlib$0EqSet$1.list$107(basics$0Environments$1.ExplicitTyVarsTy$188(v$6907));
var C$$6864 = (basics$0Environments$1.plus_U$$3237(v$6909,explicittyvars$6863))[1];
var out_i$6865 = v$6902?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6905,[[6,v$6906],null])):((basics$0PreElabDecGrammar$1$2.is_$true$_$nil$_etc$1860(v$6906))?(basics$0ElabTopdec$1$1.errorConv$229(v$6905,[17,[v$6906,null]])):(basics$0ElabTopdec$1$1.okConv$228(v$6905)));
var v$8241 = basics$0ElabDec$1.elab_ty$807(C$$6864,v$6907);
var v$8242;
switch (v$6908[0]) { case 0: {var v$7839 = v$6908[1];
var v$7842 = fix$8557.$elab_valdesc(v$6909,v$7839,v$6903);
v$8242 = [v$7842[0],[0,v$7842[1]],v$7842[2]];
 break; }default: {v$8242 = [basics$0Environments$1.empty$1052,[1],v$6903];
} };
var v$6888 = v$8241[0];
switch (v$6888[0]) { case 0: {var v$6890 = v$6888[1];
var v$6891 = v$8241[1];
var v$6893 = v$8242[0];
var v$6894 = v$8242[1];
var v$6895 = v$8242[2];
return [basics$0Environments$1.plus$1101(basics$0Environments$1.singleton_var$1058(v$6906,[null,v$6890]),v$6893),[0,[out_i$6865,v$6906,v$6891,v$6894]],v$6895];
 break; }default: {return [v$8242[0],[0,[out_i$6865,v$6906,v$8241[1],v$8242[1]]],v$8242[2]];
} };
};
basics$0ElabTopdec$1$9.elab_valdesc$5733 = fix$8557.$elab_valdesc;
var fix$8558 = {};
fix$8558.$elab_spec = function(v$6846,v$6847,v$6848){switch (v$6847[0]) { case 0: {var v$6781 = v$6847[1];
var v$6782 = v$6781[0];
var v$6783 = v$6781[1];
basics$0StatObject$1.push$152(0);
var v$6777 = basics$0ElabTopdec$1$9.elab_valdesc$5733(basics$0ModuleEnvironments$1.to_C$506(v$6846),v$6783,v$6848);
var v$6778 = v$6777[0];
var v$6779 = v$6777[1];
var v$6780 = v$6777[2];
basics$0StatObject$1.pop$155(0);
return [null,basics$0Environments$1.from_VE$2390(basics$0Environments$1.close$1400(v$6778)),[0,[basics$0ElabTopdec$1$1.okConv$228(v$6782),v$6779]],v$6780];
 break; }case 1: {var v$6769 = v$6847[1];
var v$6770 = v$6769[0];
var v$6771 = v$6769[1];
var v$6764;
var fix$8611 = {};
fix$8611.$elab_typdesc = function(v$8436,v$8437,v$8438){var v$8439 = v$8437[1];
var v$8440 = v$8439[0];
var v$8441 = v$8439[1];
var v$8442 = v$8439[2];
var v$8443 = v$8439[3];
basis$0List$1.map$697(function(v$8546){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8546);
},v$8441);
var tyvars_repeated$8444 = basics$0ElabTopdec$1$1.repeaters$250(function(v$8445){var v$8446 = v$8445[0];
var v$8447 = v$8445[1];
return syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(v$8446,v$8447);
},v$8441);
var arity$8448;
var fix$8612 = {};
fix$8612.$acc = function(v$8450,v$8451){lab$acc: while (true) {if (v$8450 == null) {return v$8451;
} else {var v$8452 = v$8450;
var v$8453 = v$8452[1];
var t$8613 = v$8453;
var t$8614 = SmlPrims.chk_ovf_i32(v$8451 + 1);
var v$8450 = t$8613;
var v$8451 = t$8614;
continue lab$acc;
};
};
};
var acc$8449 = fix$8612.$acc;
arity$8448 = (acc$8449(v$8441,0));
var t$8454 = special_objects$0TyName$1$1.freshTyName$142(arity$8448,false,v$8442);
var theta$8455 = basics$0StatObject$1.from_TyName$4059(t$8454);
var tystr$8456 = basics$0Environments$1.from_theta_and_VE$1671(theta$8455,basics$0Environments$1.empty$1052);
var v$8457 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$8438,v$8442);
var v$8458 = v$8457[0];
var v$8459 = v$8457[1];
var v$8460;
switch (v$8443[0]) { case 1: {v$8460 = [null,basics$0Environments$1.empty$1786,[1],v$8459];
 break; }default: {var v$8461 = v$8443[1];
var v$8462 = fix$8611.$elab_typdesc(v$8436,v$8461,v$8459);
v$8460 = [v$8462[0],v$8462[1],[0,v$8462[2]],v$8462[3]];
} };
var v$8463 = v$8460[0];
var v$8464 = v$8460[1];
var v$8465 = v$8460[2];
var v$8466 = v$8460[3];
var out_i$8467 = v$8458?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$8440,[[1,v$8442],null])):((tyvars_repeated$8444 == null)?(basics$0ElabTopdec$1$1.okConv$228(v$8440)):(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$8440,basis$0List$1.map$697(function(v$8468){return [0,v$8468];
},basis$0List$1.map$697(function(v$8547){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8547);
},tyvars_repeated$8444)))));
return [[t$8454,v$8463],basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$8442,tystr$8456]),v$8464),[0,[out_i$8467,v$8441,v$8442,v$8465]],v$8466];
};
var elab_typdesc$8434 = fix$8611.$elab_typdesc;
v$6764 = (elab_typdesc$8434(basics$0ModuleEnvironments$1.to_C$506(v$6846),v$6771,v$6848));
var v$6765 = v$6764[0];
var v$6766 = v$6764[1];
var v$6767 = v$6764[2];
var v$6768 = v$6764[3];
return [v$6765,basics$0Environments$1.from_TE$2407(v$6766),[1,[basics$0ElabTopdec$1$1.okConv$228(v$6770),v$6767]],v$6768];
 break; }case 8: {var v$6755 = v$6847[1];
var v$6756 = v$6755[0];
var v$6757 = v$6755[1];
var v$6750;
var fix$8607 = {};
fix$8607.$elab_typdesc = function(v$8472,v$8473,v$8474){var v$8475 = v$8473[1];
var v$8476 = v$8475[0];
var v$8477 = v$8475[1];
var v$8478 = v$8475[2];
var v$8479 = v$8475[3];
basis$0List$1.map$697(function(v$8548){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8548);
},v$8477);
var tyvars_repeated$8480 = basics$0ElabTopdec$1$1.repeaters$250(function(v$8481){var v$8482 = v$8481[0];
var v$8483 = v$8481[1];
return syntax_objects$0SyntaxTyVar$1.eq_SyntaxTyVar$125(v$8482,v$8483);
},v$8477);
var arity$8484;
var fix$8608 = {};
fix$8608.$acc = function(v$8486,v$8487){lab$acc: while (true) {if (v$8486 == null) {return v$8487;
} else {var v$8488 = v$8486;
var v$8489 = v$8488[1];
var t$8609 = v$8489;
var t$8610 = SmlPrims.chk_ovf_i32(v$8487 + 1);
var v$8486 = t$8609;
var v$8487 = t$8610;
continue lab$acc;
};
};
};
var acc$8485 = fix$8608.$acc;
arity$8484 = (acc$8485(v$8477,0));
var t$8490 = special_objects$0TyName$1$1.freshTyName$142(arity$8484,true,v$8478);
var theta$8491 = basics$0StatObject$1.from_TyName$4059(t$8490);
var tystr$8492 = basics$0Environments$1.from_theta_and_VE$1671(theta$8491,basics$0Environments$1.empty$1052);
var v$8493 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$8474,v$8478);
var v$8494 = v$8493[0];
var v$8495 = v$8493[1];
var v$8496;
switch (v$8479[0]) { case 1: {v$8496 = [null,basics$0Environments$1.empty$1786,[1],v$8495];
 break; }default: {var v$8497 = v$8479[1];
var v$8498 = fix$8607.$elab_typdesc(v$8472,v$8497,v$8495);
v$8496 = [v$8498[0],v$8498[1],[0,v$8498[2]],v$8498[3]];
} };
var v$8499 = v$8496[0];
var v$8500 = v$8496[1];
var v$8501 = v$8496[2];
var v$8502 = v$8496[3];
var out_i$8503 = v$8494?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$8476,[[1,v$8478],null])):((tyvars_repeated$8480 == null)?(basics$0ElabTopdec$1$1.okConv$228(v$8476)):(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$8476,basis$0List$1.map$697(function(v$8504){return [0,v$8504];
},basis$0List$1.map$697(function(v$8549){return basics$0StatObject$1.from_ExplicitTyVar$629(v$8549);
},tyvars_repeated$8480)))));
return [[t$8490,v$8499],basics$0Environments$1.plus$1790(basics$0Environments$1.singleton$1788([v$8478,tystr$8492]),v$8500),[0,[out_i$8503,v$8477,v$8478,v$8501]],v$8502];
};
var elab_typdesc$8470 = fix$8607.$elab_typdesc;
v$6750 = (elab_typdesc$8470(basics$0ModuleEnvironments$1.to_C$506(v$6846),v$6757,v$6848));
var v$6751 = v$6750[0];
var v$6752 = v$6750[1];
var v$6753 = v$6750[2];
var v$6754 = v$6750[3];
return [v$6751,basics$0Environments$1.from_TE$2407(v$6752),[8,[basics$0ElabTopdec$1$1.okConv$228(v$6756),v$6753]],v$6754];
 break; }case 10: {var v$6741 = v$6847[1];
var v$6742 = v$6741[0];
var v$6743 = v$6741[1];
var TE$6709 = basics$0ElabTopdec$1$1.initial_TE$337(v$6743);
var v$6735 = basics$0ElabTopdec$1$9.elab_datdesc$5731(basics$0Environments$1.plus_TE$3350(basics$0ModuleEnvironments$1.to_C$506(v$6846),TE$6709),v$6743,v$6848);
var v$6736 = v$6735[0];
var v$6737 = v$6736[0];
var v$6738 = v$6736[1];
var v$6739 = v$6735[1];
var v$6740 = v$6735[2];
var v$6732 = basics$0Environments$1.maximise_equality_in_VE_and_TE$3895(v$6737,v$6738);
var v$6733 = v$6732[0];
var v$6734 = v$6732[1];
return [basics$0Environments$1.fold$1838(function(tystr$6721){return function(T$6724){var v$6729 = basics$0StatObject$1.to_TyName$4079(basics$0Environments$1.to_theta$1691(tystr$6721));
switch (v$6729[0]) { case 0: {return [v$6729[1],T$6724];
 break; }default: {return basics$0ElabTopdec$1$1.impossible$62("IG.DATATYPEspec.theta not tyname");
} };
};
},null,v$6734),basics$0Environments$1.from_VE_and_TE$2379(v$6733,v$6734),[10,[basics$0ElabTopdec$1$1.okConv$228(v$6742),v$6739]],v$6740];
 break; }case 11: {var v$6704 = v$6847[1];
var v$6705 = v$6704[0];
var v$6706 = v$6704[1];
var v$6707 = v$6704[2];
var v$6649 = (basics$0ModuleEnvironments$1.lookup_longtycon$574(v$6846))(v$6707);
switch (v$6649[0]) { case 0: {var v$6703 = v$6649[1];
var v$6700 = basics$0Environments$1.to_theta_and_VE$1680(v$6703);
var v$6702 = v$6700[1];
var TE$6654 = basics$0Environments$1.singleton$1788([v$6706,v$6703]);
var v$6688;
var v$6696 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$6848,v$6706);
v$6688 = (v$6696[0]?[[[1,v$6706],null],v$6696[1]]:[null,v$6696[1]]);
var v$6689 = v$6688[0];
var v$6690 = v$6688[1];
var v$6666 = basics$0Environments$1.Fold$1315(function(v$6671){var v$6687 = v$6671[0];
return function(v$6675){var v$6685 = v$6675[0];
var v$6686 = v$6675[1];
var v$6681 = basics$0ElabTopdec$1$8.add_ids_vid$5501(v$6686,v$6687);
return v$6681[0]?[[[6,v$6687],v$6685],v$6681[1]]:[v$6685,v$6681[1]];
};
},[v$6689,v$6690],v$6702);
var v$6667 = v$6666[0];
var v$6668 = v$6666[1];
var out_i$6661 = (v$6667 == null)?(basics$0ElabTopdec$1$1.okConv$228(v$6705)):(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6705,v$6667));
return [null,basics$0Environments$1.from_VE_and_TE$2379(v$6702,TE$6654),[11,[out_i$6661,v$6706,v$6707]],v$6668];
 break; }default: {return [null,basics$0Environments$1.empty$2601,[11,[basics$0ElabTopdec$1$1.errorConv$229(v$6705,[33,v$6707]),v$6706,v$6707]],v$6848];
} };
 break; }case 7: {var v$6641 = v$6847[1];
var v$6642 = v$6641[0];
var v$6643 = v$6641[1];
var v$6637 = basics$0ElabTopdec$1$9.elab_exdesc$5727(basics$0ModuleEnvironments$1.to_C$506(v$6846),v$6643,v$6848);
var v$6638 = v$6637[0];
var v$6639 = v$6637[1];
var v$6640 = v$6637[2];
return [null,basics$0Environments$1.from_VE$2390(v$6638),[7,[basics$0ElabTopdec$1$1.okConv$228(v$6642),v$6639]],v$6640];
 break; }case 2: {var v$6629 = v$6847[1];
var v$6630 = v$6629[0];
var v$6631 = v$6629[1];
var v$6624 = fix$8558.$elab_strdesc(v$6846,v$6631,v$6848);
var v$6625 = v$6624[0];
var v$6626 = v$6624[1];
var v$6627 = v$6624[2];
var v$6628 = v$6624[3];
return [v$6625,basics$0Environments$1.from_SE$2424(v$6626),[2,[basics$0ElabTopdec$1$1.okConv$228(v$6630),v$6627]],v$6628];
 break; }case 6: {var v$6615 = v$6847[1];
var v$6616 = v$6615[0];
var v$6617 = v$6615[1];
var v$6611 = fix$8558.$elab_sigexp$(v$6846,v$6617);
var v$6612 = v$6611[0];
var v$6613 = v$6611[1];
var v$6614 = v$6611[2];
var v$6608 = basics$0Environments$1.un$2351(v$6613);
var v$6609 = v$6608[0];
var v$6610 = v$6608[1];
var strids$6552 = edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$6609));
var v$6587;
var fix$8599 = {};
fix$8599.$foldl = function(v$7919,v$7920){lab$foldl: while (true) {if (v$7920 == null) {return v$7919;
} else {var v$7921 = v$7920;
var v$7922 = v$7921[0];
var v$7923 = v$7921[1];
var t$8600;
var v$7927 = v$7919[0];
var v$7928 = v$7919[1];
var v$7929 = basics$0ElabTopdec$1$8.add_ids_strid$5475(v$7928,v$7922);
t$8600 = (v$7929[0]?[[[2,v$7922],v$7927],v$7929[1]]:[v$7927,v$7929[1]]);
var t$8601 = t$8600;
var t$8602 = v$7923;
var v$7919 = t$8601;
var v$7920 = t$8602;
continue lab$foldl;
};
};
};
var foldl$7918 = fix$8599.$foldl;
var v$8531 = [null,v$6848];
v$6587 = (foldl$7918(v$8531,strids$6552));
var v$6588 = v$6587[0];
var v$6589 = v$6587[1];
var tycons$6556 = edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$6610));
var v$6566;
var fix$8603 = {};
fix$8603.$foldl = function(v$7946,v$7947){lab$foldl: while (true) {if (v$7947 == null) {return v$7946;
} else {var v$7948 = v$7947;
var v$7949 = v$7948[0];
var v$7950 = v$7948[1];
var t$8604;
var v$7954 = v$7946[0];
var v$7955 = v$7946[1];
var v$7956 = basics$0ElabTopdec$1$8.add_ids_tycon$5488(v$7955,v$7949);
t$8604 = (v$7956[0]?[[[1,v$7949],v$7954],v$7956[1]]:[v$7954,v$7956[1]]);
var t$8605 = t$8604;
var t$8606 = v$7950;
var v$7946 = t$8605;
var v$7947 = t$8606;
continue lab$foldl;
};
};
};
var foldl$7945 = fix$8603.$foldl;
var v$8533 = [v$6588,v$6589];
v$6566 = (foldl$7945(v$8533,tycons$6556));
var v$6567 = v$6566[0];
var v$6568 = v$6566[1];
var out_i$6560 = (v$6567 == null)?(basics$0ElabTopdec$1$1.okConv$228(v$6616)):(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6616,v$6567));
return [v$6612,v$6613,[6,[basics$0ElabInfo$1.plus_TypeInfo$128(out_i$6560,[11,[strids$6552,tycons$6556]]),v$6614]],v$6568];
 break; }case 9: {var v$6543 = v$6847[1];
return [null,basics$0Environments$1.empty$2601,[9,basics$0ElabTopdec$1$1.okConv$228(v$6543)],v$6848];
 break; }case 5: {var v$6538 = v$6847[1];
var v$6539 = v$6538[0];
var v$6540 = v$6538[1];
var v$6541 = v$6538[2];
var v$6533 = fix$8558.$elab_spec(v$6846,v$6540,v$6848);
var v$6534 = v$6533[0];
var v$6535 = v$6533[1];
var v$6536 = v$6533[2];
var v$6537 = v$6533[3];
var v$6528 = fix$8558.$elab_spec(basics$0ElabTopdec$1$1.B_plus_E$143(v$6846,v$6535),v$6541,v$6537);
var v$6529 = v$6528[0];
var v$6530 = v$6528[1];
var v$6531 = v$6528[2];
var v$6532 = v$6528[3];
var out_i$6527 = basics$0ElabTopdec$1$1.okConv$228(v$6539);
return [basics$0ElabTopdec$1$1.s$n$200([v$6534,v$6529]),basics$0Environments$1.plus$2441(v$6535,v$6530),[5,[out_i$6527,v$6536,v$6531]],v$6532];
 break; }case 4: {var v$6512 = v$6847[1];
var v$6513 = v$6512[0];
var v$6514 = v$6512[1];
var v$6515 = v$6512[2];
var v$6507 = fix$8558.$elab_spec(v$6846,v$6514,v$6848);
var v$6508 = v$6507[0];
var v$6509 = v$6507[1];
var v$6510 = v$6507[2];
var v$6511 = v$6507[3];
var v$6461;
var t$8584;
var v$8350 = [null,null,false];
var fix$8585 = {};
fix$8585.$foldr = function(v$8352){if (v$8352 == null) {return v$8350;
} else {var v$8353 = v$8352;
var v$8354 = v$8353[0];
var v$8355 = v$8353[1];
var v$8357 = fix$8585.$foldr(v$8355);
var v$8359 = v$8354[1];
var v$8360 = v$8359[0];
var v$8361 = v$8359[1];
var v$8363 = v$8357[0];
var v$8364 = v$8357[1];
var v$8365 = v$8357[2];
var v$8366;
var v$8367 = basics$0Environments$1.lookup_longtycon$2565(v$6509,v$8361);
switch (v$8367[0]) { case 0: {var v$8368 = v$8367[1];
var theta_i$8369 = basics$0Environments$1.to_theta$1691(v$8368);
var v$8370 = basics$0StatObject$1.to_TyName$4079(theta_i$8369);
switch (v$8370[0]) { case 0: {var v$8371 = v$8370[1];
v$8366 = (((special_objects$0TyName$1$3.member$2927(v$8371[0],v$8371[1],v$8371[2],v$8371[3],v$8371[4],v$8371[5]))(special_objects$0TyName$1$3.fromList$3331(v$6508)))?[[v$8371,v$8363],basics$0ElabTopdec$1$1.okConv$228(v$8360),v$8365]:[v$8363,basics$0ElabTopdec$1$1.errorConv$229(v$8360,[20,[v$8361,v$8371]]),true]);
 break; }default: {v$8366 = [v$8363,basics$0ElabTopdec$1$1.errorConv$229(v$8360,[21,[v$8361,theta_i$8369]]),true];
} };
 break; }default: {v$8366 = [v$8363,basics$0ElabTopdec$1$1.errorConv$229(v$8360,[33,v$8361]),true];
} };
return [v$8366[0],[[0,[v$8366[1],v$8361]],v$8364],v$8366[2]];
};
};
var foldr$8351 = fix$8585.$foldr;
t$8584 = (function(v$8550){return foldr$8351(v$8550);
});
v$6461 = (t$8584(v$6515));
var v$6462 = v$6461[0];
var v$6463 = v$6461[1];
if (v$6461[2]) {return [null,basics$0Environments$1.empty$2601,[4,[basics$0ElabTopdec$1$1.okConv$228(v$6513),v$6510,v$6463]],v$6511];
} else {var T$6410 = special_objects$0TyName$1$3.list$3322(special_objects$0TyName$1$3.fromList$3331(v$6462));
var fix$8586 = {};
fix$8586.$find = function(v$6427,v$8523){lab$find: while (true) {if (v$6427 == null) {return basics$0ElabTopdec$1$1.impossible$62("IG.SHARING_TYPEspec.find");
} else {var v$6429 = v$6427;
var v$6430 = v$6429[1];
if (v$6430 == null) {return [v$6429[0],v$8523];
} else {var v$6437 = v$6429[0];
if (v$6437[1]) {return [v$6437,basics$0ElabTopdec$1$1.s$n$200([v$6430,v$8523])];
} else {var t$8587 = v$6430;
var t$8588 = [v$6437,v$8523];
var v$6427 = t$8587;
var v$8523 = t$8588;
continue lab$find;
};
};
};
};
};
var find$6411 = fix$8586.$find;
var v$6458 = find$6411(T$6410,null);
var v$6459 = v$6458[0];
var v$6460 = v$6458[1];
var arity$6442 = v$6459[0];
var T0$$6443;
var fix$8589 = {};
fix$8589.$all = function(v$8014){lab$all: while (true) {if (v$8014 == null) {return null;
} else {var v$8015 = v$8014;
var v$8016 = v$8015[0];
var v$8017 = v$8015[1];
var t$8594;
var t$8593;
var fix$8590 = {};
fix$8590.$exists = function(v$8374){lab$exists: while (true) {if (v$8374 == null) {return false;
} else {var v$8375 = v$8374;
var v$8376 = v$8375[0];
var v$8377 = v$8375[1];
var t$8591;
var v$8378 = v$8016[2];
var v$8379 = v$8376[2];
var v$8380 = v$8378[0][1];
var v$8381 = v$8379[0][1];
t$8591 = ((v$8380[0] == v$8381[0])?(v$8380[1] == v$8381[1]):false);
if (t$8591) {return true;
} else {var t$8592 = v$8377;
var v$8374 = t$8592;
continue lab$exists;
};
};
};
};
var exists$8373 = fix$8590.$exists;
t$8593 = (exists$8373(v$6460));
t$8594 = (t$8593?false:true);
if (t$8594) {return [v$8016,fix$8589.$all(v$8017)];
} else {var t$8595 = v$8017;
var v$8014 = t$8595;
continue lab$all;
};
};
};
};
var all$8013 = fix$8589.$all;
T0$$6443 = (all$8013(v$6508));
var t$8598;
var fix$8596 = {};
fix$8596.$all = function(v$8045){lab$all: while (true) {if (v$8045 == null) {return true;
} else {var v$8046 = v$8045;
var v$8047 = v$8046[0];
var v$8048 = v$8046[1];
if (v$8047[0] == arity$6442) {var t$8597 = v$8048;
var v$8045 = t$8597;
continue lab$all;
} else {return false;
};
};
};
};
var all$8044 = fix$8596.$all;
t$8598 = (all$8044(v$6460));
if (t$8598) {var phi$6454 = basics$0StatObject$1.from_T_and_tyname$4357(special_objects$0TyName$1$3.fromList$3331(v$6460),v$6459);
return [T0$$6443,basics$0Environments$1.on_Env$3796(phi$6454,v$6509),[4,[basics$0ElabTopdec$1$1.okConv$228(v$6513),v$6510,v$6463]],v$6511];
} else {return [T0$$6443,v$6509,[4,[basics$0ElabTopdec$1$1.errorConv$229(v$6513,[22,T$6410]),v$6510,v$6463]],v$6511];
};
};
 break; }default: {var v$6842 = v$6847[1];
var v$6843 = v$6842[0];
var v$6844 = v$6842[1];
var v$6845 = v$6842[2];
var v$6837 = fix$8558.$elab_spec(v$6846,v$6844,v$6848);
var v$6838 = v$6837[0];
var v$6839 = v$6837[1];
var v$6840 = v$6837[2];
var v$6841 = v$6837[3];
var v$6814;
var t$8615;
var v$8382 = [null,null];
var fix$8616 = {};
fix$8616.$foldr = function(v$8384){if (v$8384 == null) {return v$8382;
} else {var v$8385 = v$8384;
var v$8386 = v$8385[0];
var v$8387 = v$8385[1];
var v$8389 = fix$8616.$foldr(v$8387);
var v$8391 = v$8386[1];
var v$8392 = v$8391[0];
var v$8393 = v$8391[1];
var v$8395 = v$8389[0];
var v$8396 = v$8389[1];
var v$8397 = basics$0Environments$1.lookup_longstrid$2572(v$6839,v$8393);
switch (v$8397[0]) { case 0: {return [[v$8397[1],v$8395],[[0,[basics$0ElabTopdec$1$1.okConv$228(v$8392),v$8393]],v$8396]];
 break; }default: {return [v$8395,[[0,[basics$0ElabTopdec$1$1.errorConv$229(v$8392,[34,v$8393]),v$8393]],v$8396]];
} };
};
};
var foldr$8383 = fix$8616.$foldr;
t$8615 = (function(v$8551){return foldr$8383(v$8551);
});
v$6814 = (t$8615(v$6845));
var v$6815 = v$6814[0];
var v$6816 = v$6814[1];
var T0_set$6792 = special_objects$0TyName$1$3.fromList$3331(v$6838);
try {var v$6807 = basics$0ElabTopdec$1$1.share$738(function(t$8084){return (special_objects$0TyName$1$3.member$2927(t$8084[0],t$8084[1],t$8084[2],t$8084[3],t$8084[4],t$8084[5]))(T0_set$6792);
},v$6815);
var v$6808 = v$6807[0];
var v$6809 = v$6807[1];
var t$8625;
var fix$8618 = {};
fix$8618.$all = function(v$8087){lab$all: while (true) {if (v$8087 == null) {return null;
} else {var v$8088 = v$8087;
var v$8089 = v$8088[0];
var v$8090 = v$8088[1];
var t$8623;
var t$8622;
var fix$8619 = {};
fix$8619.$exists = function(v$8400){lab$exists: while (true) {if (v$8400 == null) {return false;
} else {var v$8401 = v$8400;
var v$8402 = v$8401[0];
var v$8403 = v$8401[1];
var t$8620;
var v$8404 = v$8089[2];
var v$8405 = v$8402[2];
var v$8406 = v$8404[0][1];
var v$8407 = v$8405[0][1];
t$8620 = ((v$8406[0] == v$8407[0])?(v$8406[1] == v$8407[1]):false);
if (t$8620) {return true;
} else {var t$8621 = v$8403;
var v$8400 = t$8621;
continue lab$exists;
};
};
};
};
var exists$8399 = fix$8619.$exists;
t$8622 = (exists$8399(v$6808));
t$8623 = (t$8622?false:true);
if (t$8623) {return [v$8089,fix$8618.$all(v$8090)];
} else {var t$8624 = v$8090;
var v$8087 = t$8624;
continue lab$all;
};
};
};
};
var all$8086 = fix$8618.$all;
t$8625 = (all$8086(v$6838));
return [t$8625,basics$0Environments$1.on_Env$3796(v$6809,v$6839),[3,[basics$0ElabTopdec$1$1.okConv$228(v$6843),v$6840,v$6816]],v$6841];
} catch(v$8617) {return (function(v$6813){var t$8626 = v$6813;
if (t$8626[0] == basics$0ElabTopdec$1$1.en$Share$426) {var error_info$6810 = v$6813[1];
return [v$6838,v$6839,[3,[basics$0ElabTopdec$1$1.errorConv$229(v$6843,error_info$6810),v$6840,v$6816]],v$6841];
} else {throw v$6813;
};
})(v$8617);
};
} };
};
fix$8558.$elab_sigexp$ = function(v$6253,v$6254){switch (v$6254[0]) { case 1: {var v$6156 = v$6254[1];
var v$6157 = v$6156[0];
var v$6158 = v$6156[1];
var v$6152 = fix$8558.$elab_spec(v$6253,v$6158,basics$0ElabTopdec$1$8.ids_empty$5474);
var v$6153 = v$6152[0];
var v$6154 = v$6152[1];
var v$6155 = v$6152[2];
return [v$6153,v$6154,[1,[basics$0ElabTopdec$1$1.okConv$228(v$6157),v$6155]]];
 break; }case 2: {var v$6144 = v$6254[1];
var v$6145 = v$6144[0];
var v$6146 = v$6144[1];
var v$6135 = (basics$0ModuleEnvironments$1.lookup_sigid$610(v$6253))(v$6146);
switch (v$6135[0]) { case 0: {var v$6143 = v$6135[1];
var v$6140 = basics$0ElabTopdec$1$1.Sigma_instance$$358(v$6143);
var v$6141 = v$6140[0];
var v$6142 = v$6140[1];
return [special_objects$0TyName$1$3.list$3322(v$6141),v$6142,[2,[basics$0ElabTopdec$1$1.okConv$228(v$6145),v$6146]]];
 break; }default: {return [null,basics$0Environments$1.empty$2601,[2,[basics$0ElabTopdec$1$1.errorConv$229(v$6145,[32,v$6146]),v$6146]]];
} };
 break; }default: {var v$6247 = v$6254[1];
var v$6248 = v$6247[0];
var v$6249 = v$6247[1];
var v$6250 = v$6247[2];
var v$6251 = v$6247[3];
var v$6252 = v$6247[4];
var v$6243 = fix$8558.$elab_sigexp$(v$6253,v$6249);
var v$6244 = v$6243[0];
var v$6245 = v$6243[1];
var v$6246 = v$6243[2];
basics$0StatObject$1.push$152(0);
var v$6240 = basics$0Environments$1.plus_U$$3237(basics$0ModuleEnvironments$1.to_C$506(v$6253),v$6250);
var v$6241 = v$6240[0];
var v$6242 = v$6240[1];
var v$6190 = basics$0ElabDec$1.elab_ty$807(v$6242,v$6252);
var v$6191 = v$6190[0];
switch (v$6191[0]) { case 0: {var v$6237 = v$6191[1];
var v$6238 = v$6190[1];
basics$0StatObject$1.pop$155(0);
var v$6197 = basics$0Environments$1.lookup_longtycon$2565(v$6245,v$6251);
switch (v$6197[0]) { case 1: {var v$8246 = [33,v$6251];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8246),v$6246,v$6250,v$6251,v$6238]]];
 break; }default: {var v$6236 = v$6197[1];
var v$6233 = basics$0Environments$1.to_theta_and_VE$1680(v$6236);
var v$6234 = v$6233[0];
var v$6205 = basics$0StatObject$1.to_TyName$4079(v$6234);
switch (v$6205[0]) { case 1: {var v$8252 = [3,[v$6251,v$6234,v$6237]];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8252),v$6246,v$6250,v$6251,v$6238]]];
 break; }default: {var v$6232 = v$6205[1];
if (((special_objects$0TyName$1$3.member$2927(v$6232[0],v$6232[1],v$6232[2],v$6232[3],v$6232[4],v$6232[5]))(special_objects$0TyName$1$3.fromList$3331(v$6244)))?false:true) {var v$8258 = [1,[v$6251,v$6232]];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8258),v$6246,v$6250,v$6251,v$6238]]];
} else {var t$8575;
var v$8264 = v$6232[0];
var v$8265;
var fix$8576 = {};
fix$8576.$acc = function(v$7867,v$7868){lab$acc: while (true) {if (v$7867 == null) {return v$7868;
} else {var v$7869 = v$7867;
var v$7870 = v$7869[1];
var t$8577 = v$7870;
var t$8578 = SmlPrims.chk_ovf_i32(v$7868 + 1);
var v$7867 = t$8577;
var v$7868 = t$8578;
continue lab$acc;
};
};
};
var acc$7866 = fix$8576.$acc;
v$8265 = (acc$7866(v$6241,0));
t$8575 = ((v$8264 == v$8265)?false:true);
if (t$8575) {var v$8266 = [5,[v$6241,[v$6251,v$6232]]];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8266),v$6246,v$6250,v$6251,v$6238]]];
} else {var theta$$6214 = basics$0StatObject$1.from_TyVars_and_Type$3984(v$6241,v$6237);
var phi$6215 = basics$0StatObject$1.singleton$4350(v$6232,theta$$6214);
var phi_E$6216 = basics$0Environments$1.on_Env$3796(phi$6215,v$6245);
if (v$6232[1]?((basics$0StatObject$1.admits_equality$4024(theta$$6214))?false:true):false) {var v$8272 = [4,[v$6251,v$6232,v$6237]];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8272),v$6246,v$6250,v$6251,v$6238]]];
} else {if ((basics$0ElabTopdec$1$1.wellformed_E$365(phi_E$6216))?false:true) {var v$8278 = [2,[v$6251,v$6232,v$6237]];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.errorConv$229(v$6248,v$8278),v$6246,v$6250,v$6251,v$6238]]];
} else {var t$8583;
var fix$8579 = {};
fix$8579.$all = function(v$7889){lab$all: while (true) {if (v$7889 == null) {return null;
} else {var v$7890 = v$7889;
var v$7891 = v$7890[0];
var v$7892 = v$7890[1];
var t$8581;
var t$8580;
var v$8346 = v$6232[2];
var v$8347 = v$7891[2];
var v$8348 = v$8346[0][1];
var v$8349 = v$8347[0][1];
t$8580 = ((v$8348[0] == v$8349[0])?(v$8348[1] == v$8349[1]):false);
t$8581 = (t$8580?false:true);
if (t$8581) {return [v$7891,fix$8579.$all(v$7892)];
} else {var t$8582 = v$7892;
var v$7889 = t$8582;
continue lab$all;
};
};
};
};
var all$7888 = fix$8579.$all;
t$8583 = (all$7888(v$6244));
return [t$8583,phi_E$6216,[0,[basics$0ElabTopdec$1$1.okConv$228(v$6248),v$6246,v$6250,v$6251,v$6238]]];
};
};
};
};
} };
} };
 break; }default: {var v$6239 = v$6190[1];
return [v$6244,v$6245,[0,[basics$0ElabTopdec$1$1.okConv$228(v$6248),v$6246,v$6250,v$6251,v$6239]]];
} };
} };
};
fix$8558.$elab_strdesc = function(v$7382,v$7383,v$7384){var v$7325 = v$7383[1];
var v$7326 = v$7325[3];
switch (v$7326[0]) { case 1: {var v$7346 = v$7325[0];
var v$7347 = v$7325[1];
var v$7348 = v$7325[2];
var v$7342 = fix$8558.$elab_sigexp$(v$7382,v$7348);
var v$7343 = v$7342[0];
var v$7344 = v$7342[1];
var v$7345 = v$7342[2];
var v$7339 = basics$0ElabTopdec$1$8.add_ids_strid$5475(v$7384,v$7347);
var v$7340 = v$7339[0];
var v$7341 = v$7339[1];
var out_i$7334 = v$7340?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7346,[[2,v$7347],null])):(basics$0ElabTopdec$1$1.okConv$228(v$7346));
return [v$7343,basics$0Environments$1.singleton$2134([v$7347,v$7344]),[0,[out_i$7334,v$7347,v$7345,[1]]],v$7341];
 break; }default: {var v$7378 = v$7325[0];
var v$7379 = v$7325[1];
var v$7380 = v$7325[2];
var v$7381 = v$7326[1];
var v$7374 = fix$8558.$elab_sigexp$(v$7382,v$7380);
var v$7375 = v$7374[0];
var v$7376 = v$7374[1];
var v$7377 = v$7374[2];
var v$7371 = basics$0ElabTopdec$1$8.add_ids_strid$5475(v$7384,v$7379);
var v$7372 = v$7371[0];
var v$7373 = v$7371[1];
var v$7366 = fix$8558.$elab_strdesc(v$7382,v$7381,v$7373);
var v$7367 = v$7366[0];
var v$7368 = v$7366[1];
var v$7369 = v$7366[2];
var v$7370 = v$7366[3];
var out_i$7361 = v$7372?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7378,[[2,v$7379],null])):(basics$0ElabTopdec$1$1.okConv$228(v$7378));
return [basics$0ElabTopdec$1$1.s$n$200([v$7375,v$7367]),basics$0ElabTopdec$1$1.SE_plus_SE$192(basics$0Environments$1.singleton$2134([v$7379,v$7376]),v$7368),[0,[out_i$7361,v$7379,v$7377,[0,v$7369]]],v$7370];
} };
};
basics$0ElabTopdec$1$9.elab_spec$5734 = fix$8558.$elab_spec;
basics$0ElabTopdec$1$9.elab_sigexp$$5738 = fix$8558.$elab_sigexp$;
basics$0ElabTopdec$1$9.elab_strdesc$5725 = fix$8558.$elab_strdesc;
basics$0ElabTopdec$1$9.elab_sigexp$5737 = function(v$6267,v$6268){var v$6263 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$6267,v$6268);
var v$6264 = v$6263[0];
var v$6265 = v$6263[1];
var v$6266 = v$6263[2];
return [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$6264),v$6265),v$6266];
};
var fix$8559 = {};
fix$8559.$elab_strdecs = function(v$6071,v$6072){switch (v$6072[0]) { case 1: {var v$6059 = v$6072[1];
var v$6060 = v$6059[0];
var v$6061 = v$6059[1];
var v$6062 = v$6059[2];
var v$6054 = fix$8559.$elab_strdecs(v$6071,v$6061);
var v$6055 = v$6054[0];
var v$6056 = v$6054[1];
var v$6057 = v$6054[2];
var v$6058 = v$6054[3];
var v$6050 = fix$8559.$elab_strdec(v$6057,v$6062);
var v$6051 = v$6050[0];
var v$6052 = v$6050[1];
var v$6053 = v$6050[2];
return [basics$0ElabTopdec$1$1.s$n$200([v$6055,v$6051]),basics$0ElabTopdec$1$1.E_plus_E$171(v$6056,v$6052),basics$0ElabTopdec$1$1.B_plus_E$143(v$6057,v$6052),[1,[basics$0ElabTopdec$1$1.okConv$228(v$6060),v$6058,v$6053]]];
 break; }default: {var v$6067 = fix$8559.$elab_strdec(v$6071,v$6072);
var v$6068 = v$6067[0];
var v$6069 = v$6067[1];
var v$6070 = v$6067[2];
return [v$6068,v$6069,basics$0ElabTopdec$1$1.B_plus_E$143(v$6071,v$6069),v$6070];
} };
};
fix$8559.$elab_strdec = function(v$6026,v$6027){switch (v$6027[0]) { case 4: {var v$6009 = v$6027[1];
var v$6010 = v$6009[0];
var v$6011 = v$6009[1];
var v$6005 = basics$0ElabDec$1.elab_dec$4240(basics$0ModuleEnvironments$1.to_C$506(v$6026),v$6011);
var v$6006 = v$6005[0];
var v$6007 = v$6005[1];
var v$6008 = v$6005[2];
return [v$6006,v$6007,[4,[basics$0ElabTopdec$1$1.okConv$228(v$6010),v$6008]]];
 break; }case 0: {var v$5997 = v$6027[1];
var v$5998 = v$5997[0];
var v$5999 = v$5997[1];
var v$5993 = fix$8559.$elab_strbind(v$6026,v$5999);
var v$5994 = v$5993[0];
var v$5995 = v$5993[1];
var v$5996 = v$5993[2];
return [v$5994,basics$0Environments$1.from_SE$2424(v$5995),[0,[basics$0ElabTopdec$1$1.okConv$228(v$5998),v$5996]]];
 break; }case 2: {var v$5984 = v$6027[1];
var v$5985 = v$5984[0];
var v$5986 = v$5984[1];
var v$5987 = v$5984[2];
var v$5980 = fix$8559.$elab_strdec(v$6026,v$5986);
var v$5981 = v$5980[0];
var v$5982 = v$5980[1];
var v$5983 = v$5980[2];
var v$5976 = fix$8559.$elab_strdec(basics$0ElabTopdec$1$1.B_plus_E$143(v$6026,v$5982),v$5987);
var v$5977 = v$5976[0];
var v$5978 = v$5976[1];
var v$5979 = v$5976[2];
return [basics$0ElabTopdec$1$1.s$n$200([v$5981,v$5977]),v$5978,[2,[basics$0ElabTopdec$1$1.okConv$228(v$5985),v$5983,v$5979]]];
 break; }case 3: {var v$5966 = v$6027[1];
return [null,basics$0Environments$1.empty$2601,[3,basics$0ElabTopdec$1$1.okConv$228(v$5966)]];
 break; }default: {var v$6017 = fix$8559.$elab_strdecs(v$6026,v$6027);
return [v$6017[0],v$6017[1],v$6017[3]];
} };
};
fix$8559.$elab_strexp = function(v$5938,v$5939){switch (v$5939[0]) { case 1: {var v$5915 = v$5939[1];
var v$5916 = v$5915[0];
var v$5917 = v$5915[1];
var v$5911 = fix$8559.$elab_strdec(v$5938,v$5917);
var v$5912 = v$5911[0];
var v$5913 = v$5911[1];
var v$5914 = v$5911[2];
return [v$5912,v$5913,[1,[basics$0ElabTopdec$1$1.okConv$228(v$5916),v$5914]]];
 break; }case 3: {var v$5903 = v$5939[1];
var v$5904 = v$5903[0];
var v$5905 = v$5903[1];
var v$5900 = (basics$0ModuleEnvironments$1.lookup_longstrid$573(v$5938))(v$5905);
switch (v$5900[0]) { case 0: {return [null,v$5900[1],[3,[basics$0ElabTopdec$1$1.okConv$228(v$5904),v$5905]]];
 break; }default: {return [null,basics$0Environments$1.empty$2601,[3,[basics$0ElabTopdec$1$1.errorConv$229(v$5904,[34,v$5905]),v$5905]]];
} };
 break; }case 0: {var v$5891 = v$5939[1];
var v$5892 = v$5891[0];
var v$5893 = v$5891[1];
var v$5894 = v$5891[2];
var v$5887 = fix$8559.$elab_strexp(v$5938,v$5893);
var v$5888 = v$5887[0];
var v$5889 = v$5887[1];
var v$5890 = v$5887[2];
var v$5884;
var v$8129 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$5938,v$5894);
var v$8130 = v$8129[0];
var v$8131 = v$8129[1];
var v$8132 = v$8129[2];
v$5884 = [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$8130),v$8131),v$8132];
var v$5885 = v$5884[0];
var v$5886 = v$5884[1];
var v$5881 = basics$0ElabTopdec$1$1.Sigma_match$295(v$5892,v$5885,v$5889);
var v$5882 = v$5881[0];
var v$5883 = v$5881[1];
return [v$5888,v$5883,[0,[basics$0ElabInfo$1.plus_TypeInfo$128(v$5882,[3,v$5883]),v$5890,v$5886]]];
 break; }case 2: {var v$5865 = v$5939[1];
var v$5866 = v$5865[0];
var v$5867 = v$5865[1];
var v$5868 = v$5865[2];
var v$5861 = fix$8559.$elab_strexp(v$5938,v$5867);
var v$5863 = v$5861[1];
var v$5864 = v$5861[2];
var v$5858;
var v$8136 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$5938,v$5868);
var v$8137 = v$8136[0];
var v$8138 = v$8136[1];
var v$8139 = v$8136[2];
v$5858 = [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$8137),v$8138),v$8139];
var v$5859 = v$5858[0];
var v$5860 = v$5858[1];
var v$5852 = basics$0ElabTopdec$1$1.Sigma_match$$308(v$5866,v$5859,v$5863);
var v$5853 = v$5852[0];
var v$5854 = v$5852[1];
var v$5855 = v$5852[2];
var v$5856 = v$5852[3];
var v$5857 = v$5852[4];
var out_i$5851 = basics$0ElabInfo$1.plus_TypeInfo$128(v$5853,[8,[v$5854,v$5857]]);
return [special_objects$0TyName$1$3.list$3322(v$5855),v$5856,[2,[out_i$5851,v$5864,v$5860]]];
 break; }case 5: {var v$5833 = v$5939[1];
var v$5834 = v$5833[0];
var v$5835 = v$5833[1];
var v$5836 = v$5833[2];
var v$5829 = fix$8559.$elab_strexp(v$5938,v$5836);
var v$5830 = v$5829[0];
var v$5831 = v$5829[1];
var v$5832 = v$5829[2];
var v$5785 = (basics$0ModuleEnvironments$1.lookup_funid$646(v$5938))(v$5835);
switch (v$5785[0]) { case 0: {var v$5826 = v$5785[1];
var v$5828 = v$5826[1];
try {var v$5801 = basics$0ModuleStatObject$1.match_via$885(v$5828,v$5831);
var v$5802 = v$5801[0];
var v$5803 = v$5801[1];
var v$5804 = v$5801[2];
var v$5798 = basics$0ModuleStatObject$1.to_T_and_E$527(v$5802);
var v$5799 = v$5798[0];
var v$5800 = v$5798[1];
var out_i$5794 = basics$0ElabTopdec$1$1.typeConv$236(v$5834,[12,[v$5800,v$5804,v$5803]]);
return [basics$0ElabTopdec$1$1.s$n$200([v$5830,special_objects$0TyName$1$3.list$3322(v$5799)]),v$5800,[5,[out_i$5794,v$5835,v$5832]]];
} catch(v$8573) {return (function(v$5808){var t$8574 = v$5808;
if (t$8574[0] == basics$0ModuleStatObject$1.en$No_match$97) {var reason$5805 = v$5808[1];
var v$5822 = basics$0ModuleStatObject$1.to_T_and_E_and_Sigma$774(v$5828);
var v$5823 = v$5822[0];
var v$5825 = v$5822[2];
var v$5819 = basics$0ModuleStatObject$1.to_T_and_E$527(v$5825);
var v$5820 = v$5819[0];
var v$5821 = v$5819[1];
var T$E$$5816 = basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.difference$3064(basics$0ElabTopdec$1$1.tynames_E$204(v$5821),special_objects$0TyName$1$3.union$2972(v$5823,v$5820)),v$5821);
var out_i$5817 = basics$0ElabTopdec$1$1.errorConv$229(v$5834,[19,reason$5805]);
var E$$5818 = basics$0ModuleStatObject$1.instance$565(T$E$$5816);
return [basics$0ElabTopdec$1$1.s$n$200([v$5830,special_objects$0TyName$1$3.list$3322(v$5820)]),E$$5818,[5,[out_i$5817,v$5835,v$5832]]];
} else {throw v$5808;
};
})(v$8573);
};
 break; }default: {return [v$5830,basics$0Environments$1.empty$2601,[5,[basics$0ElabTopdec$1$1.errorConv$229(v$5834,[36,v$5835]),v$5835,v$5832]]];
} };
 break; }default: {var v$5934 = v$5939[1];
var v$5935 = v$5934[0];
var v$5936 = v$5934[1];
var v$5937 = v$5934[2];
var v$5930 = fix$8559.$elab_strdec(v$5938,v$5936);
var v$5931 = v$5930[0];
var v$5932 = v$5930[1];
var v$5933 = v$5930[2];
var v$5926 = fix$8559.$elab_strexp(basics$0ElabTopdec$1$1.B_plus_E$143(v$5938,v$5932),v$5937);
var v$5927 = v$5926[0];
var v$5928 = v$5926[1];
var v$5929 = v$5926[2];
return [basics$0ElabTopdec$1$1.s$n$200([v$5931,v$5927]),v$5928,[4,[basics$0ElabTopdec$1$1.okConv$228(v$5935),v$5933,v$5929]]];
} };
};
fix$8559.$elab_strbind = function(v$6109,v$6110){var v$6104 = v$6110[1];
var v$6105 = v$6104[0];
var v$6106 = v$6104[1];
var v$6107 = v$6104[2];
var v$6108 = v$6104[3];
var v$6100 = fix$8559.$elab_strexp(v$6109,v$6107);
var v$6101 = v$6100[0];
var v$6102 = v$6100[1];
var v$6103 = v$6100[2];
var v$6096;
var v$8116 = null;
switch (v$6108[0]) { case 0: {var v$8122 = v$6108[1];
var v$8124 = fix$8559.$elab_strbind(v$6109,v$8122);
v$6096 = [v$8124[0],v$8124[1],[0,v$8124[2]]];
 break; }default: {v$6096 = [v$8116,basics$0Environments$1.empty$2133,[1]];
} };
var v$6097 = v$6096[0];
var v$6098 = v$6096[1];
var v$6099 = v$6096[2];
var out_i$6091 = (edlib$0EqSet$1.member$128(function(v$8524){return syntax_objects$0StrId$1.eq_strid$181(v$8524[0],v$8524[1]);
},v$6106,basics$0Environments$1.dom$2162(v$6098)))?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6105,[[2,v$6106],null])):(basics$0ElabTopdec$1$1.okConv$228(v$6105));
return [basics$0ElabTopdec$1$1.s$n$200([v$6097,v$6101]),basics$0ElabTopdec$1$1.SE_plus_SE$192(basics$0Environments$1.singleton$2134([v$6106,v$6102]),v$6098),[0,[out_i$6091,v$6106,v$6103,v$6099]]];
};
basics$0ElabTopdec$1$9.elab_strdecs$5740 = fix$8559.$elab_strdecs;
basics$0ElabTopdec$1$9.elab_strdec$5741 = fix$8559.$elab_strdec;
basics$0ElabTopdec$1$9.elab_strexp$5742 = fix$8559.$elab_strexp;
basics$0ElabTopdec$1$9.elab_strbind$5739 = fix$8559.$elab_strbind;
var fix$8560 = {};
fix$8560.$elab_funbind = function(v$7465,v$7466,v$7467){var v$7458 = v$7467[1];
var v$7459 = v$7458[0];
var v$7460 = v$7458[1];
var v$7461 = v$7458[2];
var v$7462 = v$7458[3];
var v$7463 = v$7458[4];
var v$7464 = v$7458[5];
var v$7455;
var v$8146 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$7466,v$7462);
var v$8147 = v$8146[0];
var v$8148 = v$8146[1];
var v$8149 = v$8146[2];
v$7455 = [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$8147),v$8148),v$8149];
var v$7456 = v$7455[0];
var v$7457 = v$7455[1];
var v$7452 = basics$0ModuleStatObject$1.to_T_and_E$527(v$7456);
var v$7453 = v$7452[0];
var v$7454 = v$7452[1];
var B$$7425 = basics$0ElabTopdec$1$1.B_plus_E$143(v$7466,basics$0Environments$1.from_SE$2424(basics$0Environments$1.singleton$2134([v$7461,v$7454])));
var v$7448 = basics$0ElabTopdec$1$9.elab_strexp$5742(B$$7425,v$7463);
var v$7449 = v$7448[0];
var v$7450 = v$7448[1];
var v$7451 = v$7448[2];
var T$$7430 = special_objects$0TyName$1$3.intersect$3111(basics$0ElabTopdec$1$1.tynames_E$204(v$7450),special_objects$0TyName$1$3.fromList$3331(v$7449));
var T$E$$7431 = basics$0ModuleStatObject$1.from_T_and_E$538(T$$7430,v$7450);
var v$7445;
switch (v$7464[0]) { case 0: {var v$8158 = v$7464[1];
var v$8160 = fix$8560.$elab_funbind(v$7465,v$7466,v$8158);
v$7445 = [v$8160[0],[0,v$8160[1]]];
 break; }default: {v$7445 = [basics$0ModuleEnvironments$1.empty$241,[1]];
} };
var v$7446 = v$7445[0];
var v$7447 = v$7445[1];
var out_i$7435;
if (edlib$0EqSet$1.member$128(function(v$8525){return syntax_objects$0FunId$1.eq_funid$109(v$8525[0],v$8525[1]);
},v$7460,basics$0ModuleEnvironments$1.dom$309(v$7446))) {out_i$7435 = (basics$0ElabTopdec$1$1.repeatedIdsError$243(v$7459,[[7,v$7460],null]));
} else {var t$8572 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$8571 = basics$0ElabTopdec$1$1.okConv$228(v$7459);
var t$8570;
var t$8569;
var v$7441 = [B$$7425];
t$8569 = [special_objects$0TyName$1$3.fromList$3331(v$7449),v$7454,v$7441,[1],v$7450];
t$8570 = [13,t$8569];
out_i$7435 = (t$8572(t$8571,t$8570));
};
return [basics$0ElabTopdec$1$1.F_plus_F$178(basics$0ModuleEnvironments$1.singleton$242([v$7460,[v$7465,basics$0ModuleStatObject$1.from_T_and_E_and_Sigma$762(v$7453,v$7454,T$E$$7431)]]),v$7446),[0,[out_i$7435,v$7460,v$7461,v$7457,v$7451,v$7447]]];
};
basics$0ElabTopdec$1$9.elab_funbind$5723 = fix$8560.$elab_funbind;
basics$0ElabTopdec$1$9.elab_fundec$5724 = function(v$7403,v$7404,v$7405){var v$7400 = v$7405[1];
var v$7401 = v$7400[0];
var v$7402 = v$7400[1];
var v$7397 = basics$0ElabTopdec$1$9.elab_funbind$5723(v$7403,v$7404,v$7402);
var v$7398 = v$7397[0];
var v$7399 = v$7397[1];
return [v$7398,[0,[basics$0ElabTopdec$1$1.okConv$228(v$7401),v$7399]]];
};
var fix$8561 = {};
fix$8561.$elab_sigbind = function(v$6338,v$6339){var v$6303 = v$6339[1];
var v$6304 = v$6303[3];
switch (v$6304[0]) { case 1: {var v$6313 = v$6303[0];
var v$6314 = v$6303[1];
var v$6315 = v$6303[2];
var v$6310;
var v$8164 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$6338,v$6315);
var v$8165 = v$8164[0];
var v$8166 = v$8164[1];
var v$8167 = v$8164[2];
v$6310 = [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$8165),v$8166),v$8167];
var v$6311 = v$6310[0];
var v$6312 = v$6310[1];
return [basics$0ModuleEnvironments$1.singleton$82([v$6314,v$6311]),[0,[basics$0ElabInfo$1.plus_TypeInfo$128(basics$0ElabTopdec$1$1.okConv$228(v$6313),[4,basics$0ModuleStatObject$1.tynames$554(v$6311)]),v$6314,v$6312,[1]]]];
 break; }default: {var v$6334 = v$6303[0];
var v$6335 = v$6303[1];
var v$6336 = v$6303[2];
var v$6337 = v$6304[1];
var v$6331;
var v$8171 = basics$0ElabTopdec$1$9.elab_sigexp$$5738(v$6338,v$6336);
var v$8172 = v$8171[0];
var v$8173 = v$8171[1];
var v$8174 = v$8171[2];
v$6331 = [basics$0ModuleStatObject$1.from_T_and_E$538(special_objects$0TyName$1$3.fromList$3331(v$8172),v$8173),v$8174];
var v$6332 = v$6331[0];
var v$6333 = v$6331[1];
var G1$6319 = basics$0ModuleEnvironments$1.singleton$82([v$6335,v$6332]);
var v$6328 = fix$8561.$elab_sigbind(v$6338,v$6337);
var v$6329 = v$6328[0];
var v$6330 = v$6328[1];
var out_i$6323 = (edlib$0EqSet$1.member$128(function(v$8526){return syntax_objects$0SigId$1.eq_sigid$109(v$8526[0],v$8526[1]);
},v$6335,basics$0ModuleEnvironments$1.dom$118(v$6329)))?(basics$0ElabTopdec$1$1.repeatedIdsError$243(v$6334,[[3,v$6335],null])):(basics$0ElabInfo$1.plus_TypeInfo$128(basics$0ElabTopdec$1$1.okConv$228(v$6334),[4,basics$0ModuleStatObject$1.tynames$554(v$6332)]));
return [basics$0ElabTopdec$1$1.G_plus_G$157(G1$6319,v$6329),[0,[out_i$6323,v$6335,v$6333,[0,v$6330]]]];
} };
};
basics$0ElabTopdec$1$9.elab_sigbind$5735 = fix$8561.$elab_sigbind;
basics$0ElabTopdec$1$9.elab_sigdec$5736 = function(v$6286,v$6287){var v$6283 = v$6287[1];
var v$6284 = v$6283[0];
var v$6285 = v$6283[1];
var v$6280 = basics$0ElabTopdec$1$9.elab_sigbind$5735(v$6286,v$6285);
var v$6281 = v$6280[0];
var v$6282 = v$6280[1];
return [v$6281,[0,[basics$0ElabTopdec$1$1.okConv$228(v$6284),v$6282]]];
};
var fix$8562 = {};
fix$8562.$elab_topdec_opt = function(v$7581,v$7582,v$7583){switch (v$7583[0]) { case 0: {var v$7580 = v$7583[1];
var v$7577 = fix$8562.$elab_topdec(v$7581,v$7582,v$7580);
return [v$7577[0],[0,v$7577[1]]];
 break; }default: {return [basics$0ModuleEnvironments$1.empty$404,[1]];
} };
};
fix$8562.$elab_topdec = function(v$7560,v$7561,v$7562){switch (v$7562[0]) { case 0: {var v$7511 = v$7562[1];
var v$7512 = v$7511[2];
switch (v$7512[0]) { case 0: {var v$7523 = fix$8562.$elab_topdec_seq(v$7560,v$7561,v$7562);
var v$7524 = v$7523[0];
var v$7525 = v$7523[1];
var t$8568;
var fix$8565 = {};
fix$8565.$foldl = function(v$8186,v$8187){lab$foldl: while (true) {if (v$8187 == null) {return v$8186;
} else {var v$8188 = v$8187;
var v$8189 = v$8188[0];
var v$8190 = v$8188[1];
var t$8566 = basics$0ElabTopdec$1$1.B_plus_B$150(v$8186,v$8189);
var t$8567 = v$8190;
var v$8186 = t$8566;
var v$8187 = t$8567;
continue lab$foldl;
};
};
};
var foldl$8185 = fix$8565.$foldl;
t$8568 = (foldl$8185(basics$0ModuleEnvironments$1.empty$404,v$7524));
return [t$8568,v$7525];
 break; }default: {var v$7541 = v$7511[0];
var v$7542 = v$7511[1];
var v$7538 = basics$0ElabTopdec$1$9.elab_strdec$5741(v$7561,v$7542);
var v$7539 = v$7538[1];
var v$7540 = v$7538[2];
var v$7535 = fix$8562.$elab_topdec_opt(v$7560,basics$0ElabTopdec$1$1.B_plus_E$143(v$7561,v$7539),v$7512);
var v$7536 = v$7535[0];
var v$7537 = v$7535[1];
return [basics$0ElabTopdec$1$1.B_plus_B$150(basics$0ModuleEnvironments$1.from_E$556(v$7539),v$7536),[0,[basics$0ElabTopdec$1$1.okConv$228(v$7541),v$7540,v$7537]]];
} };
 break; }case 1: {var v$7506 = v$7562[1];
var v$7507 = v$7506[0];
var v$7508 = v$7506[1];
var v$7509 = v$7506[2];
var v$7503;
var v$8197 = v$7508[1];
var v$8198 = v$8197[0];
var v$8199 = v$8197[1];
var v$8200 = basics$0ElabTopdec$1$9.elab_sigbind$5735(v$7561,v$8199);
var v$8201 = v$8200[0];
var v$8202 = v$8200[1];
v$7503 = [v$8201,[0,[basics$0ElabTopdec$1$1.okConv$228(v$8198),v$8202]]];
var v$7504 = v$7503[0];
var v$7505 = v$7503[1];
var v$7500 = fix$8562.$elab_topdec_opt(v$7560,basics$0ElabTopdec$1$1.B_plus_G$164(v$7561,v$7504),v$7509);
var v$7501 = v$7500[0];
var v$7502 = v$7500[1];
return [basics$0ElabTopdec$1$1.B_plus_B$150(basics$0ModuleEnvironments$1.from_G$575(v$7504),v$7501),[1,[basics$0ElabTopdec$1$1.okConv$228(v$7507),v$7505,v$7502]]];
 break; }default: {var v$7556 = v$7562[1];
var v$7557 = v$7556[0];
var v$7558 = v$7556[1];
var v$7559 = v$7556[2];
var v$7553;
var v$8207 = v$7558[1];
var v$8208 = v$8207[0];
var v$8209 = v$8207[1];
var v$8210 = basics$0ElabTopdec$1$9.elab_funbind$5723(v$7560,v$7561,v$8209);
var v$8211 = v$8210[0];
var v$8212 = v$8210[1];
v$7553 = [v$8211,[0,[basics$0ElabTopdec$1$1.okConv$228(v$8208),v$8212]]];
var v$7554 = v$7553[0];
var v$7555 = v$7553[1];
var v$7550 = fix$8562.$elab_topdec_opt(v$7560,basics$0ElabTopdec$1$1.B_plus_F$185(v$7561,v$7554),v$7559);
var v$7551 = v$7550[0];
var v$7552 = v$7550[1];
return [basics$0ElabTopdec$1$1.B_plus_B$150(basics$0ModuleEnvironments$1.from_F$611(v$7554),v$7551),[2,[basics$0ElabTopdec$1$1.okConv$228(v$7557),v$7555,v$7552]]];
} };
};
fix$8562.$elab_topdec_seq = function(v$7625,v$7626,v$7627){switch (v$7627[0]) { case 0: {var v$7599 = v$7627[1];
var v$7600 = v$7599[2];
switch (v$7600[0]) { case 0: {var v$7615 = v$7599[0];
var v$7616 = v$7599[1];
var v$7617 = v$7600[1];
var v$7612 = basics$0ElabTopdec$1$9.elab_strdec$5741(v$7626,v$7616);
var v$7613 = v$7612[1];
var v$7614 = v$7612[2];
var B1$7605 = basics$0ModuleEnvironments$1.from_E$556(v$7613);
var v$7609 = fix$8562.$elab_topdec_seq(v$7625,basics$0ElabTopdec$1$1.B_plus_B$150(v$7626,B1$7605),v$7617);
var v$7610 = v$7609[0];
var v$7611 = v$7609[1];
return [[B1$7605,v$7610],[0,[basics$0ElabTopdec$1$1.okConv$228(v$7615),v$7614,[0,v$7611]]]];
 break; }default: {var v$8176 = fix$8562.$elab_topdec(v$7625,v$7626,v$7627);
return [[v$8176[0],null],v$8176[1]];
} };
 break; }default: {var v$8178 = fix$8562.$elab_topdec(v$7625,v$7626,v$7627);
return [[v$8178[0],null],v$8178[1]];
} };
};
basics$0ElabTopdec$1$9.elab_topdec_opt$5721 = fix$8562.$elab_topdec_opt;
var elab_topdec$5722 = fix$8562.$elab_topdec;
basics$0ElabTopdec$1$9.elab_topdec_seq$5720 = fix$8562.$elab_topdec_seq;
basics$0ElabTopdec$1$9.modify_info_topdec$7628 = function(v$7656,v$7657){switch (v$7656[0]) { case 0: {var v$7650 = v$7656[1];
return [0,[v$7657,v$7650[1],v$7650[2]]];
 break; }case 1: {var v$7646 = v$7656[1];
return [1,[v$7657,v$7646[1],v$7646[2]]];
 break; }default: {var v$7653 = v$7656[1];
return [2,[v$7657,v$7653[1],v$7653[2]]];
} };
};
basics$0ElabTopdec$1$9.elab_topdec$$7658 = function(v$7683,v$7684,v$7685){var res$7680 = elab_topdec$5722(v$7683,v$7684,v$7685);
var v$7681 = res$7680[0];
var v$7682 = res$7680[1];
var v$7672 = basics$0ElabTopdec$1$1.tyvars_B$$220(v$7681);
if (v$7672 == null) {return res$7680;
} else {var i$7673 = basics$0PreElabTopdecGrammar$1$1.info_on_topdec$606(v$7685);
var ids$7674 = basis$0List$1.map$697(function(v$7677){return v$7677[0];
},v$7672);
var out_i$7679 = basics$0ElabTopdec$1$1.errorConv$229(i$7673,[13,ids$7674]);
var t$8564 = v$7681;
var t$8563;
switch (v$7682[0]) { case 0: {var v$8216 = v$7682[1];
t$8563 = [0,[out_i$7679,v$8216[1],v$8216[2]]];
 break; }case 1: {var v$8217 = v$7682[1];
t$8563 = [1,[out_i$7679,v$8217[1],v$8217[2]]];
 break; }default: {var v$8218 = v$7682[1];
t$8563 = [2,[out_i$7679,v$8218[1],v$8218[2]]];
} };
return [t$8564,t$8563];
};
};
basics$0ElabTopdec$1$9.elab_topdec$7686 = function(a$7689){special_objects$0TyName$1$1.reset$100(0);
var res$7690 = basics$0ElabTopdec$1$9.elab_topdec$$7658(a$7689[0],a$7689[1],a$7689[2]);
special_objects$0TyName$1$1.reset$100(0);
return res$7690;
};
basics$0ElabTopdec$1$9.layoutStaticBasis$7691 = function(v$8552){return basics$0ModuleEnvironments$1.layout$519(v$8552);
};
return 0;
})();
