if ((typeof(basics$0ModuleEnvironments$1)) == "undefined") {basics$0ModuleEnvironments$1 = {};
};
(function(){basics$0ModuleEnvironments$1.empty$81 = [0,tools$0FinMap$1.empty$61(function(v$1411){return syntax_objects$0SigId$1.eq_sigid$109(v$1411[0],v$1411[1]);
})];
basics$0ModuleEnvironments$1.singleton$82 = function(x$984){var v$1385 = tools$0FinMap$1.singleton$62(function(v$1500){return syntax_objects$0SigId$1.eq_sigid$109(v$1500[0],v$1500[1]);
},x$984);
return [0,v$1385];
};
basics$0ModuleEnvironments$1.plus$84 = function(v$92,v$1413){var v$93 = v$92[1];
var v$95 = v$1413[1];
return [0,tools$0FinMap$1.plus$155(function(v$1414){return syntax_objects$0SigId$1.eq_sigid$109(v$1414[0],v$1414[1]);
},[v$93,v$95])];
};
basics$0ModuleEnvironments$1.lookup$96 = function(v$99){var v$103 = v$99[1];
return function(v$1476){return tools$0FinMap$1.lookup$76(function(v$1501){return syntax_objects$0SigId$1.eq_sigid$109(v$1501[0],v$1501[1]);
},v$103,v$1476);
};
};
basics$0ModuleEnvironments$1.tynames$104 = function(v$107){var v$117 = v$107[1];
return tools$0FinMap$1.fold$462(function(v$1416){return syntax_objects$0SigId$1.eq_sigid$109(v$1416[0],v$1416[1]);
},function(v$114){var v$115 = v$114[0];
var v$116 = v$114[1];
return special_objects$0TyName$1$3.union$2914(v$116,basics$0ModuleStatObject$1.tynames$554(v$115));
},special_objects$0TyName$1$3.empty$2726,v$117);
};
basics$0ModuleEnvironments$1.dom$118 = function(v$121){var v$125 = v$121[1];
return tools$0FinMap$1.dom$403(function(v$1417){return syntax_objects$0SigId$1.eq_sigid$109(v$1417[0],v$1417[1]);
},v$125);
};
basics$0ModuleEnvironments$1.layout$126 = function(v$129){var v$160 = v$129[1];
var l$133 = tools$0FinMap$1.Fold$481(function(v$1418){return syntax_objects$0SigId$1.eq_sigid$109(v$1418[0],v$1418[1]);
},function(v$134){return v$134;
},null,v$160);
return (l$133 == null)?[1,""]:[0,[basis$0List$1.map$697(function(v$987){var v$988 = v$987[0];
var v$989 = v$987[1];
var t$1510;
var v$991 = SmlPrims.concat(["signature ",[syntax_objects$0SigId$1.pr_SigId$60(v$988),[" : ",null]]]);
t$1510 = [[basics$0ModuleStatObject$1.layout$720(v$989),null],[1],"",3,v$991];
return [0,t$1510];
},l$133),[0," "],"",0,""]];
};
basics$0ModuleEnvironments$1.report$161 = function(v$169,v$170){var v$171 = v$170[1];
return tools$0FinMap$1.reportMapSORTED$543(function(v$1419){return syntax_objects$0SigId$1.eq_sigid$109(v$1419[0],v$1419[1]);
},function(v$1420){return syntax_objects$0SigId$1.s$j$68(v$1420[0],v$1420[1]);
},v$169,v$171);
};
basics$0ModuleEnvironments$1.pu$194 = pickle$0pickle$1.convert$2342([function(v$195){return [0,v$195];
},function(v$198){return v$198[1];
}],tools$0FinMap$1.pu$602(function(v$1421){return syntax_objects$0SigId$1.eq_sigid$109(v$1421[0],v$1421[1]);
},[syntax_objects$0SigId$1.pu$77,basics$0ModuleStatObject$1.pu$740]));
basics$0ModuleEnvironments$1.lt_absprjid$200 = function(v$1422,v$1423){return v$1422 < v$1423;
};
basics$0ModuleEnvironments$1.absprjid_to_string$208 = function(absprjid$211){return absprjid$211;
};
basics$0ModuleEnvironments$1.mk_absprjid$212 = function(x$215){return x$215;
};
basics$0ModuleEnvironments$1.is_absprjid_basislib$216 = function(absprjid$219){return (basis$0Path$1.file$546(absprjid$219)) == "basis.pm";
};
basics$0ModuleEnvironments$1.strip_install_dir$220 = function(absprjid$223){if ((basis$0Path$1.file$546(absprjid$223)) == "basis.pm") {return basis$0Path$1.mkRelative$413(absprjid$223,tools$0Flags$1$1.install_dir$83[0]);
} else {return absprjid$223;
};
};
basics$0ModuleEnvironments$1.strip_install_dir$$228 = function(p$233){var v$238 = p$233[0];
var v$239 = p$233[1];
return ((basis$0Path$1.file$546(v$238)) == "basis.pm")?[basis$0Path$1.mkRelative$413(v$238,tools$0Flags$1$1.install_dir$83[0]),syntax_objects$0FunId$1.mk_FunId$58(basis$0Path$1.mkRelative$413(syntax_objects$0FunId$1.pr_FunId$60(v$239),tools$0Flags$1$1.install_dir$83[0]))]:p$233;
};
basics$0ModuleEnvironments$1.pu_absprjid$240 = pickle$0pickle$1.string$909;
basics$0ModuleEnvironments$1.empty$241 = [0,tools$0FinMap$1.empty$61(function(v$1424){return syntax_objects$0FunId$1.eq_funid$109(v$1424[0],v$1424[1]);
})];
basics$0ModuleEnvironments$1.singleton$242 = function(x$1016){var v$1388 = tools$0FinMap$1.singleton$62(function(v$1504){return syntax_objects$0FunId$1.eq_funid$109(v$1504[0],v$1504[1]);
},x$1016);
return [0,v$1388];
};
basics$0ModuleEnvironments$1.plus$244 = function(v$252,v$1426){var v$253 = v$252[1];
var v$255 = v$1426[1];
return [0,tools$0FinMap$1.plus$155(function(v$1427){return syntax_objects$0FunId$1.eq_funid$109(v$1427[0],v$1427[1]);
},[v$253,v$255])];
};
basics$0ModuleEnvironments$1.lookup$256 = function(v$259){var v$263 = v$259[1];
return function(v$1481){return tools$0FinMap$1.lookup$76(function(v$1505){return syntax_objects$0FunId$1.eq_funid$109(v$1505[0],v$1505[1]);
},v$263,v$1481);
};
};
basics$0ModuleEnvironments$1.tynames$264 = function(v$267){var v$278 = v$267[1];
return tools$0FinMap$1.fold$462(function(v$1429){return syntax_objects$0FunId$1.eq_funid$109(v$1429[0],v$1429[1]);
},function(v$274){var v$275 = v$274[0];
var v$276 = v$275[1];
var v$277 = v$274[1];
return special_objects$0TyName$1$3.union$2914(v$277,basics$0ModuleStatObject$1.tynames$787(v$276));
},special_objects$0TyName$1$3.empty$2726,v$278);
};
basics$0ModuleEnvironments$1.tyvars$279 = function(v$282){var v$293 = v$282[1];
return tools$0FinMap$1.fold$462(function(v$1430){return syntax_objects$0FunId$1.eq_funid$109(v$1430[0],v$1430[1]);
},function(v$289){var v$290 = v$289[0];
var v$291 = v$290[1];
var v$292 = v$289[1];
return basics$0StatObject$1.unionTyVarSet$788(basics$0ModuleStatObject$1.tyvars$800(v$291),v$292);
},null,v$293);
};
basics$0ModuleEnvironments$1.tyvars$$294 = function(v$297){var v$308 = v$297[1];
return tools$0FinMap$1.fold$462(function(v$1431){return syntax_objects$0FunId$1.eq_funid$109(v$1431[0],v$1431[1]);
},function(v$304){var v$305 = v$304[0];
var v$306 = v$305[1];
var v$307 = v$304[1];
return basis$0List$1.s$n$686(basics$0ModuleStatObject$1.tyvars$$810(v$306),v$307);
},null,v$308);
};
basics$0ModuleEnvironments$1.dom$309 = function(v$312){var v$316 = v$312[1];
return tools$0FinMap$1.dom$403(function(v$1432){return syntax_objects$0FunId$1.eq_funid$109(v$1432[0],v$1432[1]);
},v$316);
};
basics$0ModuleEnvironments$1.layout$317 = function(v$320){var v$352 = v$320[1];
var l$324 = tools$0FinMap$1.Fold$481(function(v$1433){return syntax_objects$0FunId$1.eq_funid$109(v$1433[0],v$1433[1]);
},function(v$325){return v$325;
},null,v$352);
return (l$324 == null)?[1,""]:[0,[basis$0List$1.map$697(function(v$1019){var v$1020 = v$1019[0];
var v$1021 = v$1019[1];
var v$1022 = v$1021[1];
var t$1511;
var v$1024 = SmlPrims.concat(["functor ",[syntax_objects$0FunId$1.pr_FunId$60(v$1020),[" : ",null]]]);
t$1511 = [[basics$0ModuleStatObject$1.layout$993(v$1022),null],[1],"",3,v$1024];
return [0,t$1511];
},l$324),[0," "],"",0,""]];
};
basics$0ModuleEnvironments$1.report$353 = function(v$369,v$370){var v$371 = v$370[1];
return tools$0FinMap$1.reportMapSORTED$543(function(v$1434){return syntax_objects$0FunId$1.eq_funid$109(v$1434[0],v$1434[1]);
},function(v$1435){return syntax_objects$0FunId$1.s$j$68(v$1435[0],v$1435[1]);
},function(v$1025){var v$1026 = v$1025[0];
var v$1027 = v$1025[1];
var v$1028 = v$1027[1];
return v$369([v$1026,v$1028]);
},v$371);
};
basics$0ModuleEnvironments$1.pu$397 = pickle$0pickle$1.convert$2342([function(v$398){return [0,v$398];
},function(v$401){return v$401[1];
}],tools$0FinMap$1.pu$602(function(v$1436){return syntax_objects$0FunId$1.eq_funid$109(v$1436[0],v$1436[1]);
},[syntax_objects$0FunId$1.pu$77,pickle$0pickle$1.pairGen$1053([pickle$0pickle$1.string$909,basics$0ModuleStatObject$1.pu$1021])]));
basics$0ModuleEnvironments$1.empty$404 = [0,[basics$0Environments$1.empty$2601,basics$0ModuleEnvironments$1.empty$241,basics$0ModuleEnvironments$1.empty$81]];
basics$0ModuleEnvironments$1.initial$408 = function(v$410){return [0,[basics$0Environments$1.initial$2840(0),basics$0ModuleEnvironments$1.empty$241,basics$0ModuleEnvironments$1.empty$81]];
};
basics$0ModuleEnvironments$1.bogus$414 = basics$0ModuleEnvironments$1.empty$404;
basics$0ModuleEnvironments$1.plus$415 = function(v$430,v$1437){var v$431 = v$430[1];
var v$432 = v$431[1];
var v$433 = v$431[2];
var v$434 = v$431[0];
var v$436 = v$1437[1];
var v$437 = v$436[1];
var v$438 = v$436[2];
var v$439 = v$436[0];
var t$1512;
var v$427;
var v$1031 = v$432[1];
var v$1033 = v$437[1];
v$427 = [0,tools$0FinMap$1.plus$155(function(v$1438){return syntax_objects$0FunId$1.eq_funid$109(v$1438[0],v$1438[1]);
},[v$1031,v$1033])];
var v$428;
var v$1036 = v$433[1];
var v$1038 = v$438[1];
v$428 = [0,tools$0FinMap$1.plus$155(function(v$1439){return syntax_objects$0SigId$1.eq_sigid$109(v$1439[0],v$1439[1]);
},[v$1036,v$1038])];
t$1512 = [basics$0Environments$1.plus$2441(v$434,v$439),v$427,v$428];
return [0,t$1512];
};
basics$0ModuleEnvironments$1.on$440 = function(phi$443,B$446){var v$463 = B$446[1];
var v$464 = v$463[1];
var v$465 = v$463[2];
var v$466 = v$463[0];
if (basics$0StatObject$1.is_Id$4342(phi$443)) {return B$446;
} else {var t$1513;
var v$458;
var v$1044 = v$464[1];
v$458 = ((basics$0StatObject$1.is_Id$4342(phi$443))?v$464:[0,tools$0FinMap$1.composemap$436(function(v$1440){return syntax_objects$0FunId$1.eq_funid$109(v$1440[0],v$1440[1]);
},function(v$1045){var v$1046 = v$1045[0];
var v$1047 = v$1045[1];
return [v$1046,basics$0ModuleStatObject$1.on$820(phi$443,v$1047)];
},v$1044)]);
var v$459;
var v$1053 = v$465[1];
v$459 = ((basics$0StatObject$1.is_Id$4342(phi$443))?v$465:[0,tools$0FinMap$1.composemap$436(function(v$1441){return syntax_objects$0SigId$1.eq_sigid$109(v$1441[0],v$1441[1]);
},function(Sigma$1054){return basics$0ModuleStatObject$1.on$617(phi$443,Sigma$1054);
},v$1053)]);
t$1513 = [basics$0Environments$1.on_Env$3796(phi$443,v$466),v$458,v$459];
return [0,t$1513];
};
};
basics$0ModuleEnvironments$1.tyvars$467 = function(v$470){var v$476 = v$470[1];
var v$477 = v$476[1];
var v$479 = v$476[0];
var t$1515 = basics$0StatObject$1.unionTyVarSet$788;
var t$1514;
var v$1056 = v$477[1];
t$1514 = (tools$0FinMap$1.fold$462(function(v$1442){return syntax_objects$0FunId$1.eq_funid$109(v$1442[0],v$1442[1]);
},function(v$1057){var v$1058 = v$1057[0];
var v$1059 = v$1058[1];
var v$1060 = v$1057[1];
return basics$0StatObject$1.unionTyVarSet$788(basics$0ModuleStatObject$1.tyvars$800(v$1059),v$1060);
},null,v$1056));
return t$1515(t$1514,basics$0Environments$1.tyvars$2607(v$479));
};
basics$0ModuleEnvironments$1.tyvars$$480 = function(v$483){var v$489 = v$483[1];
var v$490 = v$489[1];
var v$492 = v$489[0];
var t$1517 = basis$0List$1.s$n$686;
var t$1516;
var v$1062 = v$490[1];
t$1516 = (tools$0FinMap$1.fold$462(function(v$1443){return syntax_objects$0FunId$1.eq_funid$109(v$1443[0],v$1443[1]);
},function(v$1063){var v$1064 = v$1063[0];
var v$1065 = v$1064[1];
var v$1066 = v$1063[1];
return basis$0List$1.s$n$686(basics$0ModuleStatObject$1.tyvars$$810(v$1065),v$1066);
},null,v$1062));
return t$1517(t$1516,basics$0Environments$1.tyvars$$2608(v$492));
};
basics$0ModuleEnvironments$1.tynames$493 = function(v$496){var v$502 = v$496[1];
var v$503 = v$502[1];
var v$504 = v$502[2];
var v$505 = v$502[0];
var t$1522 = special_objects$0TyName$1$3.union$2914;
var t$1521;
var v$1068 = v$503[1];
t$1521 = (tools$0FinMap$1.fold$462(function(v$1444){return syntax_objects$0FunId$1.eq_funid$109(v$1444[0],v$1444[1]);
},function(v$1069){var v$1070 = v$1069[0];
var v$1071 = v$1070[1];
var v$1072 = v$1069[1];
return special_objects$0TyName$1$3.union$2914(v$1072,basics$0ModuleStatObject$1.tynames$787(v$1071));
},special_objects$0TyName$1$3.empty$2726,v$1068));
var t$1520;
var t$1519 = special_objects$0TyName$1$3.union$2914;
var t$1518;
var v$1074 = v$504[1];
t$1518 = (tools$0FinMap$1.fold$462(function(v$1445){return syntax_objects$0SigId$1.eq_sigid$109(v$1445[0],v$1445[1]);
},function(v$1075){var v$1076 = v$1075[0];
var v$1077 = v$1075[1];
return special_objects$0TyName$1$3.union$2914(v$1077,basics$0ModuleStatObject$1.tynames$554(v$1076));
},special_objects$0TyName$1$3.empty$2726,v$1074));
t$1520 = (t$1519(t$1518,basics$0Environments$1.tynames$2609(v$505)));
return t$1522(t$1521,t$1520);
};
basics$0ModuleEnvironments$1.to_C$506 = function(v$509){var v$515 = v$509[1];
var v$518 = v$515[0];
return basics$0Environments$1.from_E$3396(v$518);
};
basics$0ModuleEnvironments$1.layout$519 = function(v$522){var v$533 = v$522[1];
var v$534 = v$533[1];
var v$535 = v$533[2];
var v$536 = v$533[0];
var t$1531;
var t$1530;
var t$1529;
var t$1527;
var v$1079 = v$534[1];
var l$1080 = tools$0FinMap$1.Fold$481(function(v$1446){return syntax_objects$0FunId$1.eq_funid$109(v$1446[0],v$1446[1]);
},function(v$1081){return v$1081;
},null,v$1079);
t$1527 = ((l$1080 == null)?[1,""]:[0,[basis$0List$1.map$697(function(v$1082){var v$1083 = v$1082[0];
var v$1084 = v$1082[1];
var v$1085 = v$1084[1];
var t$1528;
var v$1086 = SmlPrims.concat(["functor ",[syntax_objects$0FunId$1.pr_FunId$60(v$1083),[" : ",null]]]);
t$1528 = [[basics$0ModuleStatObject$1.layout$993(v$1085),null],[1],"",3,v$1086];
return [0,t$1528];
},l$1080),[0," "],"",0,""]]);
var t$1526;
var t$1525;
var t$1523;
var v$1088 = v$535[1];
var l$1089 = tools$0FinMap$1.Fold$481(function(v$1447){return syntax_objects$0SigId$1.eq_sigid$109(v$1447[0],v$1447[1]);
},function(v$1090){return v$1090;
},null,v$1088);
t$1523 = ((l$1089 == null)?[1,""]:[0,[basis$0List$1.map$697(function(v$1091){var v$1092 = v$1091[0];
var v$1093 = v$1091[1];
var t$1524;
var v$1094 = SmlPrims.concat(["signature ",[syntax_objects$0SigId$1.pr_SigId$60(v$1092),[" : ",null]]]);
t$1524 = [[basics$0ModuleStatObject$1.layout$720(v$1093),null],[1],"",3,v$1094];
return [0,t$1524];
},l$1089),[0," "],"",0,""]]);
t$1525 = [t$1523,[basics$0Environments$1.layout$2610(v$536),null]];
t$1526 = t$1525;
t$1529 = [t$1527,t$1526];
t$1530 = t$1529;
t$1531 = [t$1530,[0," "],"",0,""];
return [0,t$1531];
};
basics$0ModuleEnvironments$1.plus_E$537 = function(v$550,v$1448){var v$551 = v$550[1];
var v$552 = v$551[1];
var v$553 = v$551[2];
var v$554 = v$551[0];
return [0,[basics$0Environments$1.plus$2441(v$554,v$1448),v$552,v$553]];
};
basics$0ModuleEnvironments$1.from_E$556 = function(E$559){return [0,[E$559,basics$0ModuleEnvironments$1.empty$241,basics$0ModuleEnvironments$1.empty$81]];
};
basics$0ModuleEnvironments$1.to_E$563 = function(v$566){return v$566[1][0];
};
basics$0ModuleEnvironments$1.lookup_strid$572 = function(x$1098){var v$1482 = x$1098[1][0];
return function(v$1483){return basics$0Environments$1.lookup_strid$2486(v$1482,v$1483);
};
};
basics$0ModuleEnvironments$1.lookup_longstrid$573 = function(x$1103){var v$1484 = x$1103[1][0];
return function(v$1485){return basics$0Environments$1.lookup_longstrid$2572(v$1484,v$1485);
};
};
basics$0ModuleEnvironments$1.lookup_longtycon$574 = function(x$1108){var v$1486 = x$1108[1][0];
return function(v$1487){return basics$0Environments$1.lookup_longtycon$2565(v$1486,v$1487);
};
};
basics$0ModuleEnvironments$1.from_G$575 = function(G$578){return [0,[basics$0Environments$1.empty$2601,basics$0ModuleEnvironments$1.empty$241,G$578]];
};
basics$0ModuleEnvironments$1.to_G$582 = function(v$585){return v$585[1][2];
};
basics$0ModuleEnvironments$1.plus_G$591 = function(v$604,v$1449){var v$605 = v$604[1];
var v$606 = v$605[1];
var v$607 = v$605[2];
var t$1535;
var t$1534 = v$605[0];
var t$1533 = v$606;
var t$1532;
var v$1112 = v$607[1];
var v$1114 = v$1449[1];
t$1532 = [0,tools$0FinMap$1.plus$155(function(v$1450){return syntax_objects$0SigId$1.eq_sigid$109(v$1450[0],v$1450[1]);
},[v$1112,v$1114])];
t$1535 = [t$1534,t$1533,t$1532];
return [0,t$1535];
};
basics$0ModuleEnvironments$1.lookup_sigid$610 = function(x$1118){var v$1398 = x$1118[1][2];
var v$1399 = v$1398[1];
return function(v$1490){return tools$0FinMap$1.lookup$76(function(v$1506){return syntax_objects$0SigId$1.eq_sigid$109(v$1506[0],v$1506[1]);
},v$1399,v$1490);
};
};
basics$0ModuleEnvironments$1.from_F$611 = function(F$614){return [0,[basics$0Environments$1.empty$2601,F$614,basics$0ModuleEnvironments$1.empty$81]];
};
basics$0ModuleEnvironments$1.to_F$618 = function(v$621){return v$621[1][1];
};
basics$0ModuleEnvironments$1.plus_F$627 = function(v$640,v$1452){var v$641 = v$640[1];
var v$642 = v$641[1];
var v$643 = v$641[2];
var t$1538;
var t$1537 = v$641[0];
var t$1536;
var v$1124 = v$642[1];
var v$1126 = v$1452[1];
t$1536 = [0,tools$0FinMap$1.plus$155(function(v$1453){return syntax_objects$0FunId$1.eq_funid$109(v$1453[0],v$1453[1]);
},[v$1124,v$1126])];
t$1538 = [t$1537,t$1536,v$643];
return [0,t$1538];
};
basics$0ModuleEnvironments$1.lookup_funid$646 = function(x$1130){var v$1404 = x$1130[1][1];
var v$1405 = v$1404[1];
return function(v$1493){return tools$0FinMap$1.lookup$76(function(v$1507){return syntax_objects$0FunId$1.eq_funid$109(v$1507[0],v$1507[1]);
},v$1405,v$1493);
};
};
basics$0ModuleEnvironments$1.enrich$826 = function(v$1198,v$1455){var v$1199 = v$1198[1];
var v$1200 = v$1199[1];
var v$1201 = v$1199[2];
var v$1202 = v$1199[0];
var v$1204 = v$1455[1];
var v$1205 = v$1204[1];
var v$1206 = v$1204[2];
var v$1207 = v$1204[0];
var t$1540;
var v$1210 = v$1200[1];
var v$1212 = v$1205[1];
t$1540 = (tools$0FinMap$1.Fold$481(function(v$1456){return syntax_objects$0FunId$1.eq_funid$109(v$1456[0],v$1456[1]);
},function(v$1213){var v$1214 = v$1213[0];
var v$1215 = v$1214[0];
var v$1216 = v$1214[1];
var v$1217 = v$1216[0];
var v$1218 = v$1216[1];
if (v$1213[1]) {var v$1219 = tools$0FinMap$1.lookup$76(function(v$1457){return syntax_objects$0FunId$1.eq_funid$109(v$1457[0],v$1457[1]);
},v$1210,v$1215);
switch (v$1219[0]) { case 0: {var v$1220 = v$1219[1];
var v$1221 = v$1220[0];
var v$1222 = v$1220[1];
if (v$1221 == v$1217) {return basics$0ModuleStatObject$1.eq$947(v$1222,v$1218);
} else {return false;
};
 break; }default: {return false;
} };
} else {return false;
};
},true,v$1212));
if (t$1540) {var t$1539;
var v$1229 = v$1201[1];
var v$1231 = v$1206[1];
t$1539 = (tools$0FinMap$1.Fold$481(function(v$1458){return syntax_objects$0SigId$1.eq_sigid$109(v$1458[0],v$1458[1]);
},function(v$1232){var v$1233 = v$1232[0];
var v$1234 = v$1233[0];
var v$1235 = v$1233[1];
if (v$1232[1]) {var v$1236 = tools$0FinMap$1.lookup$76(function(v$1459){return syntax_objects$0SigId$1.eq_sigid$109(v$1459[0],v$1459[1]);
},v$1229,v$1234);
switch (v$1236[0]) { case 0: {var v$1237 = v$1236[1];
return basics$0ModuleStatObject$1.eq$684(v$1237,v$1235);
 break; }default: {return false;
} };
} else {return false;
};
},true,v$1231));
if (t$1539) {var a$1238 = [v$1202,v$1207];
return basics$0Environments$1.enrich$3126(a$1238);
} else {return false;
};
} else {return false;
};
};
basics$0ModuleEnvironments$1.restrict$827 = function(v$1244,v$1460){var v$1245 = v$1244[1];
var v$1246 = v$1245[1];
var v$1247 = v$1246[1];
var v$1248 = v$1245[2];
var v$1249 = v$1248[1];
var v$1250 = v$1245[0];
var v$1252 = v$1460[3];
var v$1253 = v$1460[2];
var v$1254 = v$1460[1];
var v$1255 = v$1460[0];
var v$1256 = v$1460[4];
var F$$1257;
var b$1268 = tools$0FinMap$1.empty$61(function(v$1461){return syntax_objects$0FunId$1.eq_funid$109(v$1461[0],v$1461[1]);
});
var fix$1541 = {};
fix$1541.$foldl = function(v$1271,v$1272){lab$foldl: while (true) {if (v$1272 == null) {return v$1271;
} else {var v$1273 = v$1272;
var v$1274 = v$1273[0];
var v$1275 = v$1273[1];
var t$1544;
var FunSig$1298;
var v$1299 = tools$0FinMap$1.lookup$76((function(env$1543){return function(v$1462){var v$1542 = env$1543[0];
return v$1542(v$1462[0],v$1462[1]);
};
})([syntax_objects$0FunId$1.eq_funid$109]),v$1247,v$1274);
switch (v$1299[0]) { case 0: {FunSig$1298 = v$1299[1];
 break; }default: {var s$1300 = ("restrictB.funid " + (syntax_objects$0FunId$1.pr_FunId$60(v$1274))) + " not in basis.";
FunSig$1298 = (tools$0Crash$1.impossible$59("ModuleEnvironments." + s$1300));
} };
t$1544 = (tools$0FinMap$1.add$141((function(env$1546){return function(v$1463){var v$1545 = env$1546[0];
return v$1545(v$1463[0],v$1463[1]);
};
})([syntax_objects$0FunId$1.eq_funid$109]),[v$1274,FunSig$1298,v$1271]));
var t$1547 = t$1544;
var t$1548 = v$1275;
var v$1271 = t$1547;
var v$1272 = t$1548;
continue lab$foldl;
};
};
};
var foldl$1270 = fix$1541.$foldl;
F$$1257 = (foldl$1270(b$1268,v$1255));
var G$$1276;
var b$1287 = tools$0FinMap$1.empty$61(function(v$1464){return syntax_objects$0SigId$1.eq_sigid$109(v$1464[0],v$1464[1]);
});
var fix$1549 = {};
fix$1549.$foldl = function(v$1290,v$1291){lab$foldl: while (true) {if (v$1291 == null) {return v$1290;
} else {var v$1292 = v$1291;
var v$1293 = v$1292[0];
var v$1294 = v$1292[1];
var t$1552;
var Sig$1307;
var v$1308 = tools$0FinMap$1.lookup$76((function(env$1551){return function(v$1465){var v$1550 = env$1551[0];
return v$1550(v$1465[0],v$1465[1]);
};
})([syntax_objects$0SigId$1.eq_sigid$109]),v$1249,v$1293);
switch (v$1308[0]) { case 0: {Sig$1307 = v$1308[1];
 break; }default: {var s$1309 = ("restrictB.sigid " + (syntax_objects$0SigId$1.pr_SigId$60(v$1293))) + " not in basis.";
Sig$1307 = (tools$0Crash$1.impossible$59("ModuleEnvironments." + s$1309));
} };
t$1552 = (tools$0FinMap$1.add$141((function(env$1554){return function(v$1466){var v$1553 = env$1554[0];
return v$1553(v$1466[0],v$1466[1]);
};
})([syntax_objects$0SigId$1.eq_sigid$109]),[v$1293,Sig$1307,v$1290]));
var t$1555 = t$1552;
var t$1556 = v$1294;
var v$1290 = t$1555;
var v$1291 = t$1556;
continue lab$foldl;
};
};
};
var foldl$1289 = fix$1549.$foldl;
G$$1276 = (foldl$1289(b$1287,v$1256));
return [0,[basics$0Environments$1.restrict$3179(v$1250,[v$1254,v$1253,v$1252]),[0,F$$1257],[0,G$$1276]]];
};
basics$0ModuleEnvironments$1.domain$831 = function(v$834){var v$862 = v$834[1];
var v$863 = v$862[1];
var v$864 = v$863[1];
var v$865 = v$862[2];
var v$866 = v$865[1];
var v$867 = v$862[0];
var v$858 = basics$0Environments$1.un$2351(v$867);
var v$859 = v$858[0];
var v$860 = v$858[1];
var v$861 = v$858[2];
var strids$844 = edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$859));
var longstrids$845 = basis$0List$1.map$697(function(v$1508){return syntax_objects$0StrId$1.longStrIdOfStrId$130(v$1508);
},strids$844);
var vids$846 = edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$861));
var longvids$847 = basis$0List$1.map$697(function(v$1509){return syntax_objects$0Ident$1.idToLongId$212(v$1509);
},vids$846);
var tycons$848 = edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$860));
var longtycons$849 = basis$0List$1.map$697(function(t$852){return syntax_objects$0TyCon$1.implode_LongTyCon$99(null,t$852);
},tycons$848);
return [edlib$0EqSet$1.list$107(tools$0FinMap$1.dom$403(function(v$1467){return syntax_objects$0FunId$1.eq_funid$109(v$1467[0],v$1467[1]);
},v$864)),longstrids$845,longtycons$849,longvids$847,edlib$0EqSet$1.list$107(tools$0FinMap$1.dom$403(function(v$1468){return syntax_objects$0SigId$1.eq_sigid$109(v$1468[0],v$1468[1]);
},v$866))];
};
var fix$1557 = {};
fix$1557.$agree = function(v$880,v$1469,v$1470){lab$agree: while (true) {if (v$880 == null) {return true;
} else {var v$899 = v$880;
var v$900 = v$899[0];
var v$901 = v$899[1];
var v$1382 = basics$0Environments$1.lookup_longstrid$2572(v$1469[1][0],v$900);
var v$1383 = basics$0Environments$1.lookup_longstrid$2572(v$1470[1][0],v$900);
switch (v$1382[0]) { case 0: {switch (v$1383[0]) { case 0: {var v$896 = v$1382[1];
var v$897 = v$1383[1];
if (basics$0Environments$1.eq$3127([v$896,v$897])) {var t$1558 = v$901;
var t$1559 = v$1469;
var t$1560 = v$1470;
var v$880 = t$1558;
var v$1469 = t$1559;
var v$1470 = t$1560;
continue lab$agree;
} else {return false;
};
 break; }default: {return false;
} };
 break; }default: {return false;
} };
};
};
};
basics$0ModuleEnvironments$1.agree$868 = fix$1557.$agree;
basics$0ModuleEnvironments$1.match$904 = function(v$916,v$1471){var v$917 = v$916[1];
var v$920 = v$917[0];
var v$922 = v$1471[1];
var v$925 = v$922[0];
return basics$0Environments$1.match$3187(v$920,v$925);
};
basics$0ModuleEnvironments$1.pu$926 = pickle$0pickle$1.convert$2342([function(v$1315){return [0,[v$1315[2],v$1315[0],v$1315[1]]];
},function(v$1316){var v$1317 = v$1316[1];
return [v$1317[1],v$1317[2],v$1317[0]];
}],pickle$0pickle$1.tup3Gen0$2349(basics$0ModuleEnvironments$1.pu$397,basics$0ModuleEnvironments$1.pu$194,basics$0Environments$1.pu$3235));
return 0;
})();
