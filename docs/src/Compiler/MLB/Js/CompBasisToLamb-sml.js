if ((typeof(compiler0$0CompBasisToLamb$1)) == "undefined") {compiler0$0CompBasisToLamb$1 = {};
};
(function(){var debug_man_enrich$69 = tools$0Flags$1$6.lookup_flag_entry$5194("debug_man_enrich");
var quotation$70 = tools$0Flags$1$6.is_on0$5191("quotation");
compiler0$0CompBasisToLamb$1.mk_CompBasis$71 = function(a$74){return a$74;
};
compiler0$0CompBasisToLamb$1.de_CompBasis$75 = function(a$78){return a$78;
};
compiler0$0CompBasisToLamb$1.empty$79 = [compiler0$0EliminateEq$1$4.empty$2700,compiler_objects$0LambdaBasics$1.empty$2899,compiler0$0OptLambda$1$14.empty$19942(0),compiler0$0LambdaStatSem$1.empty$210];
compiler0$0CompBasisToLamb$1.initial$84 = [compiler0$0EliminateEq$1$4.initial$2701,compiler_objects$0LambdaBasics$1.initial$2900,compiler0$0OptLambda$1$14.empty$19942(0),compiler0$0LambdaStatSem$1.initial$256];
compiler0$0CompBasisToLamb$1.plus$89 = function(v$104,v$718){var v$105 = v$104[3];
var v$106 = v$104[0];
var v$107 = v$104[2];
var v$108 = v$104[1];
var v$110 = v$718[3];
var v$111 = v$718[0];
var v$112 = v$718[2];
var v$113 = v$718[1];
var v$100 = compiler0$0LambdaStatSem$1.plus$262(v$105,v$110);
var v$101 = compiler0$0EliminateEq$1$4.plus$2702(v$106,v$111);
var v$102 = compiler0$0OptLambda$1$14.plus$19944(v$107,v$112);
return [v$101,compiler_objects$0LambdaBasics$1.plus$2901([v$108,v$113]),v$102,v$100];
};
compiler0$0CompBasisToLamb$1.layout_CompBasis$114 = function(v$127,v$129,v$128,v$126){var t$736;
var v$124 = [0,"; "];
t$736 = [[compiler0$0EliminateEq$1$4.layout_env$2734(v$127[0],v$127[1],v$127[2]),[compiler0$0OptLambda$1$14.layout_env$20088(v$128[0],v$128[1],v$128[2],v$128[3],v$128[4],v$128[5]),[compiler0$0LambdaStatSem$1.layout_env$590(v$126[0],v$126[1],v$126[2],v$126[3],v$126[4]),[compiler_objects$0LambdaBasics$1.layout$2932(v$129),null]]]],v$124,"}",1,"{"];
return [0,t$736];
};
compiler0$0CompBasisToLamb$1.enrich$163 = function(v$186,v$719){var v$188 = v$186[0];
var v$189 = v$186[2];
var v$190 = v$186[1];
var v$193 = v$719[0];
var v$194 = v$719[2];
var v$195 = v$719[1];
var t$739;
var v$664 = compiler0$0EliminateEq$1$4.enrich$2711(v$188,v$193);
if (debug_man_enrich$69[0]) {v$664?(basis$0TextIO$1.output$110([0],"\nEqEnv: enrich succeeded.")):(basis$0TextIO$1.output$110([0],"\nEqEnv: enrich failed."));
t$739 = v$664;
} else {t$739 = v$664;
};
if (t$739) {var t$738;
if (debug_man_enrich$69[0]) {basis$0TextIO$1.output$110([0],"\nTCEnv: enrich succeeded.");
t$738 = true;
} else {t$738 = true;
};
if (t$738) {var t$737;
var v$684 = compiler0$0OptLambda$1$14.enrich$20039(v$189,v$194);
if (debug_man_enrich$69[0]) {v$684?(basis$0TextIO$1.output$110([0],"\nOEnv: enrich succeeded.")):(basis$0TextIO$1.output$110([0],"\nOEnv: enrich failed."));
t$737 = v$684;
} else {t$737 = v$684;
};
if (t$737) {var v$694 = compiler_objects$0LambdaBasics$1.enrich$2909(v$190,v$195);
if (debug_man_enrich$69[0]) {v$694?(basis$0TextIO$1.output$110([0],"\nNEnv: enrich succeeded.")):(basis$0TextIO$1.output$110([0],"\nNEnv: enrich failed."));
return v$694;
} else {return v$694;
};
} else {return false;
};
} else {return false;
};
} else {return false;
};
};
compiler0$0CompBasisToLamb$1.match$196 = function(v$212,v$720){var v$213 = v$212[3];
var v$214 = v$212[0];
var v$215 = v$212[2];
var v$216 = v$212[1];
var v$219 = v$720[0];
return [compiler0$0EliminateEq$1$4.match$2712(v$214,v$219),v$216,v$215,v$213];
};
compiler0$0CompBasisToLamb$1.restrict$222 = function(v$298,v$721){var v$299 = v$298[0];
var v$300 = v$298[2];
var v$301 = v$298[3];
var v$302 = v$298[1];
var v$304 = v$721[0];
var v$305 = v$721[1];
var v$306 = v$721[2];
var v$307 = v$721[3];
var excons$233 = [compiler_objects$0Excon$1$1.ex_DIV$117,[compiler_objects$0Excon$1$1.ex_MATCH$118,[compiler_objects$0Excon$1$1.ex_BIND$119,[compiler_objects$0Excon$1$1.ex_SUBSCRIPT$122,[compiler_objects$0Excon$1$1.ex_SIZE$123,v$307]]]]];
var cns$234 = [compiler_objects$0Con$1$1.con_NIL$129,[compiler_objects$0Con$1$1.con_CONS$130,[compiler_objects$0Con$1$1.con_TRUE$127,[compiler_objects$0Con$1$1.con_FALSE$128,[compiler_objects$0Con$1$1.con_INTINF$133,v$306]]]]];
var cns$235 = (quotation$70(0))?[compiler_objects$0Con$1$1.con_QUOTE$131,[compiler_objects$0Con$1$1.con_ANTIQUOTE$132,cns$234]]:cns$234;
var tns$240 = [special_objects$0TyName$1$1.tyName_LIST$272,[special_objects$0TyName$1$1.tyName_INTINF$232,[special_objects$0TyName$1$1.tyName_BOOL$212,[special_objects$0TyName$1$1.tyName_VECTOR$288,[special_objects$0TyName$1$1.tyName_CHARARRAY$292,v$305]]]]];
var tns$241 = (quotation$70(0))?[special_objects$0TyName$1$1.tyName_FRAG$276,tns$240]:tns$240;
var NEnv1$246;
try {NEnv1$246 = (compiler_objects$0LambdaBasics$1.restrict$2902(v$302,v$304));
} catch(v$740) {NEnv1$246 = ((function(x$249){basis$0TextIO$1.output$110([0],"CompBasisToLamb.restrict: Normalize.restrict failed\n");
basis$0TextIO$1.output$110([0],"Normalize environment is:\n");
tools$0PrettyPrint$1.outputTree$1072([function(s$514){return basis$0TextIO$1.output$110([0],s$514);
},compiler_objects$0LambdaBasics$1.layout$2932(v$302),100]);
basis$0TextIO$1.output$110([0],"(end of normalize environment)\n");
throw x$249;
})(v$740));
};
var v$284;
try {v$284 = (compiler0$0EliminateEq$1$4.restrict$2713(v$299,[v$304,tns$241]));
} catch(v$741) {v$284 = ((function(x$289){basis$0TextIO$1.output$110([0],"CompBasisToLamb.restrict: ElimiateEq.restrict failed\n");
basis$0TextIO$1.output$110([0],"Equality environment is:\n");
tools$0PrettyPrint$1.outputTree$1072([function(s$522){return basis$0TextIO$1.output$110([0],s$522);
},compiler0$0EliminateEq$1$4.layout_env$2734(v$299[0],v$299[1],v$299[2]),100]);
basis$0TextIO$1.output$110([0],"(end of equality environment)\n");
throw x$289;
})(v$741));
};
var v$285 = v$284[0];
var v$286 = v$284[1];
var lvs$261 = basis$0List$1.s$n$686(v$285,v$304);
var v$279 = compiler0$0OptLambda$1$14.restrict$19973(v$300,lvs$261,cns$235,tns$241);
var v$280 = v$279[0];
var v$281 = v$279[1];
var v$282 = v$279[2];
var v$283 = v$279[3];
var lvs$267 = basis$0List$1.s$n$686(v$281,lvs$261);
var cns$268 = basis$0List$1.s$n$686(v$282,cns$235);
var tns$269 = [special_objects$0TyName$1$1.tyName_F64$260,basis$0List$1.s$n$686(v$283,tns$241)];
return [[v$286,NEnv1$246,v$280,compiler0$0LambdaStatSem$1.restrict$606(v$301,[cns$268,excons$233,lvs$267,tns$269])],lvs$267,tns$269,cns$268,excons$233];
};
var subtractPredefinedCons$308 = function(cons$311){return edlib$0Set$1.list$118(edlib$0Set$1.difference$371(function(a$542){return function(b$543){var v$547 = a$542[0];
var v$548 = b$543[0];
var v$549 = v$547[0][1];
var v$550 = v$548[0][1];
return (v$549[0] == v$550[0])?(v$549[1] == v$550[1]):false;
};
},edlib$0Set$1.fromList$126(function(a$552){return function(b$553){var v$557 = a$552[0];
var v$558 = b$553[0];
var v$559 = v$557[0][1];
var v$560 = v$558[0][1];
return (v$559[0] == v$560[0])?(v$559[1] == v$560[1]):false;
};
},cons$311),edlib$0Set$1.fromList$126(function(a$562){return function(b$563){var v$567 = a$562[0];
var v$568 = b$563[0];
var v$569 = v$567[0][1];
var v$570 = v$568[0][1];
return (v$569[0] == v$570[0])?(v$569[1] == v$570[1]):false;
};
},compiler_objects$0Con$1$1.consPredefined$134)));
};
compiler0$0CompBasisToLamb$1.restrict0$342 = function(v$386,v$722){var v$387 = v$386[0];
var v$388 = v$386[2];
var v$389 = v$386[3];
var v$390 = v$386[1];
var v$392 = v$722[0];
var v$393 = v$722[1];
var v$394 = v$722[2];
var v$395 = v$722[3];
var tynames$353 = special_objects$0TyName$1$3.list$3322(special_objects$0TyName$1$3.difference$3064(special_objects$0TyName$1$3.fromList$3331(v$393),special_objects$0TyName$1$3.fromList$3331(special_objects$0TyName$1$1.tynamesPredefined$304)));
var cons$354 = subtractPredefinedCons$308(v$394);
var excons$355 = edlib$0Set$1.list$118(edlib$0Set$1.difference$371(function(a$618){return function(b$619){var v$623 = a$618[0];
var v$624 = b$619[0];
var v$625 = v$623[0][1];
var v$626 = v$624[0][1];
return (v$625[0] == v$626[0])?(v$625[1] == v$626[1]):false;
};
},edlib$0Set$1.fromList$126(function(a$628){return function(b$629){var v$633 = a$628[0];
var v$634 = b$629[0];
var v$635 = v$633[0][1];
var v$636 = v$634[0][1];
return (v$635[0] == v$636[0])?(v$635[1] == v$636[1]):false;
};
},v$395),edlib$0Set$1.fromList$126(function(a$638){return function(b$639){var v$643 = a$638[0];
var v$644 = b$639[0];
var v$645 = v$643[0][1];
var v$646 = v$644[0][1];
return (v$645[0] == v$646[0])?(v$645[1] == v$646[1]):false;
};
},compiler_objects$0Excon$1$1.exconsPredefined$124)));
var NEnv1$356 = compiler_objects$0LambdaBasics$1.restrict$2902(v$390,v$392);
var v$383 = compiler0$0EliminateEq$1$4.restrict$2713(v$387,[v$392,tynames$353]);
var v$384 = v$383[0];
var v$385 = v$383[1];
var lvars$360 = basis$0List$1.s$n$686(v$384,v$392);
var v$378 = compiler0$0OptLambda$1$14.restrict$19973(v$388,lvars$360,cons$354,tynames$353);
var v$379 = v$378[0];
var v$380 = v$378[1];
var v$381 = v$378[2];
var v$382 = v$378[3];
var lvars$366 = basis$0List$1.s$n$686(v$380,lvars$360);
var tynames$367;
var tns$647 = basis$0List$1.s$n$686(v$382,tynames$353);
tynames$367 = (special_objects$0TyName$1$3.list$3322(special_objects$0TyName$1$3.difference$3064(special_objects$0TyName$1$3.fromList$3331(tns$647),special_objects$0TyName$1$3.fromList$3331(special_objects$0TyName$1$1.tynamesPredefined$304))));
var cons$368 = subtractPredefinedCons$308(basis$0List$1.s$n$686(v$381,cons$354));
return [[v$385,NEnv1$356,v$379,compiler0$0LambdaStatSem$1.restrict$606(v$389,[cons$368,excons$355,lvars$366,tynames$367])],lvars$366,tynames$367,cons$368,excons$355];
};
compiler0$0CompBasisToLamb$1.eq$396 = function(v$405,v$406){if (compiler0$0CompBasisToLamb$1.enrich$163(v$405,v$406)) {return compiler0$0CompBasisToLamb$1.enrich$163(v$406,v$405);
} else {return false;
};
};
compiler0$0CompBasisToLamb$1.pu$407;
var b$649;
var v$717 = pickle$0pickle$1.pairGen0$983(compiler0$0OptLambda$1$14.pu$20209,compiler_objects$0LambdaBasics$1.pu$2944);
b$649 = ((pickle$0pickle$1.convert0$2299(function(v$659){var v$660 = v$659[0];
var v$661 = v$659[1];
return [v$660,v$661[0],v$661[1]];
},function(v$662){return [v$662[0],[v$662[1],v$662[2]]];
}))(pickle$0pickle$1.pairGen0$983(compiler0$0LambdaStatSem$1.pu$710,pickle$0pickle$1.pairGen0$983(compiler0$0EliminateEq$1$4.pu$4315,v$717))));
compiler0$0CompBasisToLamb$1.pu$407 = (pickle$0pickle$1.shareGen$878((pickle$0pickle$1.convert0$2299(function(v$731){var v$732 = v$731[0];
var v$733 = v$731[1];
var v$734 = v$731[2];
return [v$733,v$734[1],v$734[0],v$732];
},function(v$735){return [v$735[3],v$735[0],[v$735[2],v$735[1]]];
}))(b$649)));
return 0;
})();
