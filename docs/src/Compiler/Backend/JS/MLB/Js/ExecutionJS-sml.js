if ((typeof(smltojs0$0ExecutionJS$1)) == "undefined") {smltojs0$0ExecutionJS$1 = {};
};
(function(){smltojs0$0ExecutionJS$1.backend_name$62 = "SmlToJs";
smltojs0$0ExecutionJS$1.pr_lab$64 = function(s$67){return s$67;
};
smltojs0$0ExecutionJS$1.code_label_of_linkinfo$75 = function(v$401,v$402,v$403){return "__DUMMYDUMMY";
};
smltojs0$0ExecutionJS$1.imports_of_linkinfo$78 = function(v$404,v$405,v$406){return [v$405,null];
};
smltojs0$0ExecutionJS$1.exports_of_linkinfo$86 = function(v$407,v$408,v$409){return [v$407,null];
};
smltojs0$0ExecutionJS$1.unsafe_linkinfo$94 = function(v$410,v$411,v$412){return v$412;
};
smltojs0$0ExecutionJS$1.preHook$102 = function(v$325){return 0;
};
smltojs0$0ExecutionJS$1.postHook$103 = function(v$413){return 0;
};
smltojs0$0ExecutionJS$1.compile$106 = function(fe$109,v$115){var v$151 = v$115[0];
var v$152 = v$115[1];
var v$153 = v$115[2];
var v$150 = v$152[0];
var v$126 = smltojs0$0CompileJS$1.compile$80(fe$109,[v$151,v$150,v$153]);
switch (v$126[0]) { case 1: {var v$128 = v$126[1];
return [1,v$128];
 break; }default: {var v$144 = v$126[1];
var v$145 = v$144[0];
var v$146 = v$144[1];
var v$147 = v$144[2];
var v$148 = v$144[3];
var v$137 = v$147[1];
return [0,[v$145,[v$146,0],v$147,[v$137[0],v$137[1],v$148?false:true]]];
} };
};
smltojs0$0ExecutionJS$1.generate_link_code$155 = function(v$414){return [1];
};
smltojs0$0ExecutionJS$1.emit$156 = function(a$159){return smltojs0$0CompileJS$1.emit$121(a$159[0],a$159[1]);
};
smltojs0$0ExecutionJS$1.be_rigid$160 = true;
var js_dom_mode$162;
var t$416 = tools$0Flags$1$6.add_bool_entry$4824;
var t$415;
var v$164 = [1];
var v$165 = ["File",["js dom mode",null]];
t$415 = ["Generate a full HTML document including\na proper HTML DOCTYPE specification.",[false],"js_dom_mode",v$165,false,v$164];
js_dom_mode$162 = (t$416(t$415));
var get_jslibs$169;
var t$418 = tools$0Flags$1$6.add_stringlist_entry$4850;
var t$417;
var v$171 = [0,"jslibs"];
var v$172 = ["Control",["JavaScript library paths",null]];
t$417 = ["Use this option to add javascript library paths\nto the generated html and thereby allow for SML\ncode to reference existing JavaScript libraries.",[null],"javascript_library_paths",v$172,v$171];
get_jslibs$169 = (t$418(t$417));
var js_path_compress$175;
var t$420 = tools$0Flags$1$6.add_bool_entry$4824;
var t$419;
var v$177 = [1];
var v$178 = ["File",["js path compress",null]];
t$419 = ["Compress (make canonical) Javascript file path\nreferences in the resulting run.html file.",[false],"js_path_compress",v$178,false,v$177];
js_path_compress$175 = (t$420(t$419));
var js_path_prefix$182;
var t$422 = tools$0Flags$1$6.add_string_entry$4837;
var t$421;
var v$184 = [1];
var v$185 = ["File",["js path prefix",null]];
t$421 = ["Prefix to add to each non-absolute Javascript\nfile path in the resulting run.html file.",[""],"js_path_prefix",v$185,v$184];
js_path_prefix$182 = (t$422(t$421));
var js_path_relative_to$188;
var t$424 = tools$0Flags$1$6.add_string_entry$4837;
var t$423;
var v$190 = [1];
var v$191 = ["File",["js path relative to",null]];
t$423 = ["Absolute directory for which each absolute\nJavascript file path is made relative to in\nthe resulting run.html file.",[""],"js_path_relative_to",v$191,v$190];
js_path_relative_to$188 = (t$424(t$423));
tools$0Flags$1$6.turn_off$5163("values_64bit");
smltojs0$0ExecutionJS$1.link_files_with_runtime_system$195 = function(files$198,run$201){var html_file$202 = run$201 + ".html";
var os$203 = basis$0TextIO$1.openOut$108(html_file$202);
var jslibs$251 = get_jslibs$169(0);
var files$252 = basis$0List$1.s$n$686(jslibs$251,files$198);
try {basis$0TextIO$1.output$110(os$203,"<!-- JavaScript generated by SmlToJs - Standard ML to JavaScript Compiler -->\n");
basis$0TextIO$1.output$110(os$203,"<!-- See http://www.smlserver.org/smltojs -->\n");
if (js_dom_mode$162(0)) {basis$0TextIO$1.output$110(os$203,"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n");
basis$0TextIO$1.output$110(os$203,"<html id='html_id'>\n");
basis$0TextIO$1.output$110(os$203,"<head id='head_id'>\n");
} else {0;
};
var f$389 = basis$0Path$1.concat$218(tools$0Flags$1$1.install_dir$83[0],"prims.js");
var f$390;
if (basis$0Path$1.isAbsolute$95(f$389)) {var t$427;
var v$391 = js_path_relative_to$188(0);
t$427 = ((v$391 == "")?false:true);
if (t$427) {try {f$390 = (basis$0Path$1.mkRelative$413(f$389,js_path_relative_to$188(0)));
} catch(v$426) {f$390 = ((function(OS$Path$Path$392){var t$428 = OS$Path$Path$392;
if (t$428[0] == basis$0Path$1.en$Path$54) {basis$0General$1.print$163("ExecutionJS.Die: link: outJsFile");
throw [basis$0Initial$1.en$Fail$54,"link: outJsFile"];
} else {throw OS$Path$Path$392;
};
})(v$426));
};
} else {f$390 = f$389;
};
} else {f$390 = (basis$0Path$1.concat$218(js_path_prefix$182(0),f$389));
};
var f$393 = (js_path_compress$175(0))?(basis$0Path$1.mkCanonical$318(f$390)):f$390;
var s$394 = ("<script type=\"text/javascript\" src=\"" + f$393) + "\"></script>\n";
basis$0TextIO$1.output$110(os$203,s$394);
var fix$429 = {};
fix$429.$app = function(v$358){lab$app: while (true) {if (v$358 == null) {return 0;
} else {var v$359 = v$358;
var v$360 = v$359[0];
var v$361 = v$359[1];
var f$396;
if (basis$0Path$1.isAbsolute$95(v$360)) {var t$431;
var v$397 = js_path_relative_to$188(0);
t$431 = ((v$397 == "")?false:true);
if (t$431) {try {f$396 = (basis$0Path$1.mkRelative$413(v$360,js_path_relative_to$188(0)));
} catch(v$430) {f$396 = (((function(env$433){return function(OS$Path$Path$398){var v$432 = env$433[0];
var t$434 = OS$Path$Path$398;
if (t$434[0] == basis$0Path$1.en$Path$54) {v$432("ExecutionJS.Die: link: outJsFile");
throw [basis$0Initial$1.en$Fail$54,"link: outJsFile"];
} else {throw OS$Path$Path$398;
};
};
})([basis$0General$1.print$163]))(v$430));
};
} else {f$396 = v$360;
};
} else {f$396 = (basis$0Path$1.concat$218(js_path_prefix$182(0),v$360));
};
var f$399 = (js_path_compress$175(0))?(basis$0Path$1.mkCanonical$318(f$396)):f$396;
var s$400 = ("<script type=\"text/javascript\" src=\"" + f$399) + "\"></script>\n";
basis$0TextIO$1.output$110(os$203,s$400);
var t$435 = v$361;
var v$358 = t$435;
continue lab$app;
};
};
};
var app$357 = fix$429.$app;
app$357(files$252);
if (js_dom_mode$162(0)) {basis$0TextIO$1.output$110(os$203,"</head>\n");
basis$0TextIO$1.output$110(os$203,"<body id='body_id'></body>\n");
basis$0TextIO$1.output$110(os$203,"</html>\n");
} else {0;
};
basis$0TextIO$1.closeOut$129(os$203);
return basis$0General$1.print$163(("[Created file " + html_file$202) + "]\n");
} catch(v$425) {return (function(X$269){basis$0TextIO$1.closeOut$129(os$203);
throw X$269;
})(v$425);
};
};
smltojs0$0ExecutionJS$1.mlbdir$272 = function(v$274){return basis$0Path$1.concat$218("MLB","Js");
};
smltojs0$0ExecutionJS$1.pu_linkinfo$275;
var pu_sList$276 = pickle$0pickle$1.listGen$2109(pickle$0pickle$1.string$909);
smltojs0$0ExecutionJS$1.pu_linkinfo$275 = (pickle$0pickle$1.convert$2342([function(v$281){return [v$281[1],v$281[0],v$281[2]];
},function(v$292){return [v$292[1],v$292[0],v$292[2]];
}],pickle$0pickle$1.tup3Gen$2412(pu_sList$276,pu_sList$276,pickle$0pickle$1.bool$732)));
return 0;
})();
