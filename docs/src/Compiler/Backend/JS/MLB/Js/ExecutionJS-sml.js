if ((typeof(smltojs0$0ExecutionJS$1)) == "undefined") {smltojs0$0ExecutionJS$1 = {};
};
(function(){smltojs0$0ExecutionJS$1.backend_name$62 = "SmlToJs";
smltojs0$0ExecutionJS$1.pr_lab$64 = function(s$67){return s$67;
};
smltojs0$0ExecutionJS$1.code_label_of_linkinfo$75 = function(v$414,v$415,v$416){return "__DUMMYDUMMY";
};
smltojs0$0ExecutionJS$1.imports_of_linkinfo$78 = function(v$417,v$418,v$419){return [v$418,null];
};
smltojs0$0ExecutionJS$1.exports_of_linkinfo$86 = function(v$420,v$421,v$422){return [v$420,null];
};
smltojs0$0ExecutionJS$1.unsafe_linkinfo$94 = function(v$423,v$424,v$425){return v$425;
};
smltojs0$0ExecutionJS$1.preHook$102 = function(v$325){return 0;
};
smltojs0$0ExecutionJS$1.postHook$103 = function(v$426){return 0;
};
smltojs0$0ExecutionJS$1.compile$106 = function(fe$109,v$115){var v$151 = v$115[0];
var v$152 = v$115[1];
var v$153 = v$115[2];
var v$150 = v$152[0];
var v$126 = smltojs0$0CompileJS$1.compile$80(fe$109,[v$151,v$150,v$153]);
switch (v$126[0]) { case 1: {var v$128 = v$126[1];
return [1,v$128];
 break; }default: {var v$144 = v$126[1];
var v$145 = v$144[0];
var v$146 = v$144[1];
var v$147 = v$144[2];
var v$148 = v$144[3];
var v$137 = v$147[1];
return [0,[v$145,[v$146,0],v$147,[v$137[0],v$137[1],v$148?false:true]]];
} };
};
smltojs0$0ExecutionJS$1.generate_link_code$155 = function(v$431){return [1];
};
smltojs0$0ExecutionJS$1.emit$156 = function(a$159){return smltojs0$0CompileJS$1.emit$121(a$159[0],a$159[1]);
};
smltojs0$0ExecutionJS$1.be_rigid$160 = true;
var js_dom_mode$162;
var t$433 = tools$0Flags$1$6.add_bool_entry$4854;
var t$432;
var v$164 = [1];
var v$165 = ["File",["js dom mode",null]];
t$432 = ["Generate a full HTML document including\na proper HTML DOCTYPE specification.",[false],"js_dom_mode",v$165,false,v$164];
js_dom_mode$162 = (t$433(t$432));
var get_jslibs$169;
var t$435 = tools$0Flags$1$6.add_stringlist_entry$4880;
var t$434;
var v$171 = [0,"jslibs"];
var v$172 = ["Control",["JavaScript library paths",null]];
t$434 = ["Use this option to add javascript library paths\nto the generated html and thereby allow for SML\ncode to reference existing JavaScript libraries.",[null],"javascript_library_paths",v$172,v$171];
get_jslibs$169 = (t$435(t$434));
var js_path_compress$175;
var t$437 = tools$0Flags$1$6.add_bool_entry$4854;
var t$436;
var v$177 = [1];
var v$178 = ["File",["js path compress",null]];
t$436 = ["Compress (make canonical) Javascript file path\nreferences in the resulting run.html file.",[false],"js_path_compress",v$178,false,v$177];
js_path_compress$175 = (t$437(t$436));
var js_path_prefix$182;
var t$439 = tools$0Flags$1$6.add_string_entry$4867;
var t$438;
var v$184 = [1];
var v$185 = ["File",["js path prefix",null]];
t$438 = ["Prefix to add to each non-absolute Javascript\nfile path in the resulting run.html file.",[""],"js_path_prefix",v$185,v$184];
js_path_prefix$182 = (t$439(t$438));
var js_path_relative_to$188;
var t$441 = tools$0Flags$1$6.add_string_entry$4867;
var t$440;
var v$190 = [1];
var v$191 = ["File",["js path relative to",null]];
t$440 = ["Absolute directory for which each absolute\nJavascript file path is made relative to in\nthe resulting run.html file.",[""],"js_path_relative_to",v$191,v$190];
js_path_relative_to$188 = (t$441(t$440));
tools$0Flags$1$6.turn_off$5193("values_64bit");
smltojs0$0ExecutionJS$1.link_files_with_runtime_system$195 = function(files$198,run$201){var html_file$202 = run$201 + ".html";
var os$203 = basis$0TextIO$1.openOut$108(html_file$202);
var jslibs$251 = get_jslibs$169(0);
var files$252 = basis$0List$1.s$n$686(jslibs$251,files$198);
try {basis$0TextIO$1.output$110(os$203,"<!-- JavaScript generated by SmlToJs - Standard ML to JavaScript Compiler -->\n");
basis$0TextIO$1.output$110(os$203,"<!-- See http://www.smlserver.org/smltojs -->\n");
if (js_dom_mode$162(0)) {basis$0TextIO$1.output$110(os$203,"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n");
basis$0TextIO$1.output$110(os$203,"<html id='html_id'>\n");
basis$0TextIO$1.output$110(os$203,"<head id='head_id'>\n");
} else {0;
};
var f$402 = basis$0Path$1.concat$218(tools$0Flags$1$1.install_dir$83[0],"prims.js");
var f$403;
if (basis$0Path$1.isAbsolute$95(f$402)) {var t$444;
var v$404 = js_path_relative_to$188(0);
t$444 = ((v$404 == "")?false:true);
if (t$444) {try {f$403 = (basis$0Path$1.mkRelative$413(f$402,js_path_relative_to$188(0)));
} catch(v$443) {f$403 = ((function(OS$Path$Path$405){var t$445 = OS$Path$Path$405;
if (t$445[0] == basis$0Path$1.en$Path$54) {basis$0General$1.print$163("ExecutionJS.Die: link: outJsFile");
throw [basis$0Initial$1.en$Fail$54,"link: outJsFile"];
} else {throw OS$Path$Path$405;
};
})(v$443));
};
} else {f$403 = f$402;
};
} else {f$403 = (basis$0Path$1.concat$218(js_path_prefix$182(0),f$402));
};
var f$406 = (js_path_compress$175(0))?(basis$0Path$1.mkCanonical$318(f$403)):f$403;
var s$407 = ("<script type=\"text/javascript\" src=\"" + f$406) + "\"></script>\n";
basis$0TextIO$1.output$110(os$203,s$407);
var fix$446 = {};
fix$446.$app = function(v$358){lab$app: while (true) {if (v$358 == null) {return 0;
} else {var v$359 = v$358;
var v$360 = v$359[0];
var v$361 = v$359[1];
var f$409;
if (basis$0Path$1.isAbsolute$95(v$360)) {var t$448;
var v$410 = js_path_relative_to$188(0);
t$448 = ((v$410 == "")?false:true);
if (t$448) {try {f$409 = (basis$0Path$1.mkRelative$413(v$360,js_path_relative_to$188(0)));
} catch(v$447) {f$409 = (((function(env$450){return function(OS$Path$Path$411){var v$449 = env$450[0];
var t$451 = OS$Path$Path$411;
if (t$451[0] == basis$0Path$1.en$Path$54) {v$449("ExecutionJS.Die: link: outJsFile");
throw [basis$0Initial$1.en$Fail$54,"link: outJsFile"];
} else {throw OS$Path$Path$411;
};
};
})([basis$0General$1.print$163]))(v$447));
};
} else {f$409 = v$360;
};
} else {f$409 = (basis$0Path$1.concat$218(js_path_prefix$182(0),v$360));
};
var f$412 = (js_path_compress$175(0))?(basis$0Path$1.mkCanonical$318(f$409)):f$409;
var s$413 = ("<script type=\"text/javascript\" src=\"" + f$412) + "\"></script>\n";
basis$0TextIO$1.output$110(os$203,s$413);
var t$452 = v$361;
var v$358 = t$452;
continue lab$app;
};
};
};
var app$357 = fix$446.$app;
app$357(files$252);
if (js_dom_mode$162(0)) {basis$0TextIO$1.output$110(os$203,"</head>\n");
basis$0TextIO$1.output$110(os$203,"<body id='body_id'></body>\n");
basis$0TextIO$1.output$110(os$203,"</html>\n");
} else {0;
};
basis$0TextIO$1.closeOut$129(os$203);
return basis$0General$1.print$163(("[Created file " + html_file$202) + "]\n");
} catch(v$442) {return (function(X$269){basis$0TextIO$1.closeOut$129(os$203);
throw X$269;
})(v$442);
};
};
smltojs0$0ExecutionJS$1.mlbdir$272 = function(v$274){return basis$0Path$1.concat$218("MLB","Js");
};
smltojs0$0ExecutionJS$1.pu_linkinfo$275;
var pu_sList$276 = pickle$0pickle$1.listGen$2109(pickle$0pickle$1.string$909);
var b$369 = pickle$0pickle$1.shareGen$878((pickle$0pickle$1.convert0$2299(function(v$374){var v$375 = v$374[0];
var v$376 = v$374[1];
return [v$375,v$376[0],v$376[1]];
},function(v$377){return [v$377[0],[v$377[1],v$377[2]]];
}))(pickle$0pickle$1.pairGen0$983(pu_sList$276,pickle$0pickle$1.pairGen0$983(pu_sList$276,pickle$0pickle$1.bool$732))));
smltojs0$0ExecutionJS$1.pu_linkinfo$275 = (pickle$0pickle$1.shareGen$878((pickle$0pickle$1.convert0$2299(function(v$429){return [v$429[1],v$429[0],v$429[2]];
},function(v$430){return [v$430[1],v$430[0],v$430[2]];
}))(b$369)));
return 0;
})();
