if ((typeof(smltojs0$0SmlToJsComp$1$8)) == "undefined") {smltojs0$0SmlToJsComp$1$8 = {};
};
(function(){smltojs0$0SmlToJsComp$1$8.die$3022 = function(s$3025){return tools$0Crash$1.impossible$59("IntModules." + s$3025);
};
smltojs0$0SmlToJsComp$1$8.print_error_report$3026 = function(report$3029){return tools$0Report$1.print$$242(report$3029,tools$0Flags$1$1.log$101[0]);
};
smltojs0$0SmlToJsComp$1$8.log$3030 = function(s$3033){return basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$3033);
};
smltojs0$0SmlToJsComp$1$8.chat$3034 = function(s$3037){if (tools$0Flags$1$1.chat$86[0]) {var s$4532 = s$3037 + "\n";
return basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$4532);
} else {return 0;
};
};
smltojs0$0SmlToJsComp$1$8.cleanBucket$3042 = function(v$3044){var fix$5110 = {};
fix$5110.$app = function(v$4536){lab$app: while (true) {if (v$4536 == null) {return 0;
} else {var v$4537 = v$4536;
var v$4538 = v$4537[0];
var v$4539 = v$4537[1];
if (v$4538[0][2]) {0;
} else {var v$4543 = v$4538[0][1];
(v$4538[0] = [[false],v$4543,true],0);
};
var t$5111 = v$4539;
var v$4536 = t$5111;
continue lab$app;
};
};
};
var app$4535 = fix$5110.$app;
app$4535(special_objects$0Name$1.bucket$144[0]);
return (special_objects$0Name$1.bucket$144[0] = null,0);
};
smltojs0$0SmlToJsComp$1$8.withFile$3047 = function(f$3050,s$3053){var is$3054 = basis$0TextIO$1.openIn$169(s$3053);
try {var a$3055 = f$3050(is$3054);
basis$0TextIO$1.closeIn$172(is$3054);
return a$3055;
} catch(v$5112) {return (function(s$m$3060){basis$0TextIO$1.closeIn$172(is$3054);
throw s$m$3060;
})(v$5112);
};
};
smltojs0$0SmlToJsComp$1$8.writeFile$3063 = function(f$3066,t$3069){var os$3070 = basis$0TextIO$1.openOut$108(f$3066);
try {basis$0TextIO$1.output$110(os$3070,t$3069);
return basis$0TextIO$1.closeOut$129(os$3070);
} catch(v$5113) {return (function(s$m$3075){basis$0TextIO$1.closeOut$129(os$3070);
throw s$m$3075;
})(v$5113);
};
};
var fix$5114 = {};
fix$5114.$pr_tynames = function(v$3081){if (v$3081 == null) {return "";
} else {var v$3091 = v$3081;
var v$3092 = v$3091[1];
if (v$3092 == null) {var v$3093 = v$3091[0];
return special_objects$0TyName$1$1.pr_TyName$333(v$3093[0],v$3093[1],v$3093[2],v$3093[3],v$3093[4],v$3093[5]);
} else {var v$3094 = v$3091[0];
return ((special_objects$0TyName$1$1.pr_TyName$333(v$3094[0],v$3094[1],v$3094[2],v$3094[3],v$3094[4],v$3094[5])) + ", ") + (fix$5114.$pr_tynames(v$3092));
};
};
};
smltojs0$0SmlToJsComp$1$8.pr_tynames$3078 = fix$5114.$pr_tynames;
smltojs0$0SmlToJsComp$1$8.print_basis$3095 = function(B$3098){return tools$0PrettyPrint$1.outputTree$1072([function(v$5108){return basis$0General$1.print$163(v$5108);
},basics$0ModuleEnvironments$1.layout$519(B$3098),100]);
};
smltojs0$0SmlToJsComp$1$8.print_intbasis$3099 = function(ib$3102){return tools$0PrettyPrint$1.outputTree$1072([function(v$5109){return basis$0General$1.print$163(v$5109);
},smltojs0$0SmlToJsComp$1$4.layoutIntBasis$224(ib$3102),100]);
};
smltojs0$0SmlToJsComp$1$8.out_functor_application$3103 = function(s$3106){var os$3108 = basis$0TextIO$1.openAppend$109("/tmp/functor_apps.txt");
basis$0TextIO$1.output$110(os$3108,s$3106 + "\n");
return basis$0TextIO$1.closeOut$129(os$3108);
};
smltojs0$0SmlToJsComp$1$8.to_TypeInfo$3111 = function(i$3114){var v$3119 = basics$0ElabInfo$1.to_TypeInfo$202(i$3114);
switch (v$3119[0]) { case 0: {var v$3121 = v$3119[1];
return [0,basics$0TypeInfo$1.normalise$310(v$3121)];
 break; }default: {return [1];
} };
};
var counter$3122 = [0];
smltojs0$0SmlToJsComp$1$8.fresh_unitname$3128 = function(v$3130){var t$5116 = basis$0Int32$1.toString$458;
var t$5115;
(counter$3122[0] = (SmlPrims.chk_ovf_i32(counter$3122[0] + 1)),0);
t$5115 = counter$3122[0];
return t$5116(t$5115);
};
smltojs0$0SmlToJsComp$1$8.reset_unitname_counter$3131 = function(v$3133){return (counter$3122[0] = 0,0);
};
smltojs0$0SmlToJsComp$1$8.on_ElabInfo$3134 = function(phi$3137,i$3140){var v$3145;
var v$4556 = basics$0ElabInfo$1.to_TypeInfo$202(i$3140);
switch (v$4556[0]) { case 0: {var v$4557 = v$4556[1];
v$3145 = [0,basics$0TypeInfo$1.normalise$310(v$4557)];
 break; }default: {v$3145 = [1];
} };
switch (v$3145[0]) { case 0: {var v$3147 = v$3145[1];
return basics$0ElabInfo$1.plus_TypeInfo$128(i$3140,basics$0TypeInfo$1.on_TypeInfo$306([phi$3137,v$3147]));
 break; }default: {return i$3140;
} };
};
smltojs0$0SmlToJsComp$1$8.extract_strexp_from_topdec$3148 = function(v$5094,v$3183){switch (v$3183[0]) { case 0: {var v$3161 = v$3183[1];
switch (v$3161[2][0]) { case 1: {var v$3180 = v$3161[1];
switch (v$3180[0]) { case 0: {var v$3177 = v$3180[1];
var v$3178 = v$3177[1];
var v$3174 = v$3178[1];
switch (v$3174[3][0]) { case 1: {return v$3174[2];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
};
smltojs0$0SmlToJsComp$1$8.derived_form_repair$3184 = function(v$3234,v$3235,v$3236){switch (v$3234[0]) { case 1: {return v$3236;
 break; }default: {var v$3233 = v$3234[1];
switch (v$3236[0]) { case 0: {var v$3208 = v$3236[1];
var v$3209 = v$3208[1];
switch (v$3209[0]) { case 0: {var v$3211 = v$3209[1];
var v$3212 = v$3211[1];
var v$3213 = v$3212[1];
switch (v$3213[3][0]) { case 1: {switch (v$3208[2][0]) { case 1: {var v$3227 = v$3208[0];
var v$3228 = v$3211[0];
var v$3229 = v$3213[0];
var v$3230 = v$3213[1];
var v$3231 = v$3213[2];
var open_info$3216;
var t$5120 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$5119 = v$3227;
var t$5118;
var t$5117;
var v$3221 = basics$0Environments$1.un$2351(v$3233);
var v$3222 = v$3221[0];
var v$3223 = v$3221[1];
var v$3224 = v$3221[2];
t$5117 = [edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$3222)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$3223)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$3224))];
t$5118 = [7,t$5117];
open_info$3216 = (t$5120(t$5119,t$5118));
return [0,[v$3227,[0,[v$3228,[0,[v$3229,v$3230,[4,[v$3228,[4,[v$3227,[5,[open_info$3216,[[0,[open_info$3216,syntax_objects$0StrId$1.longStrIdOfStrId$130(v$3235)]],null]]]]],v$3231]],[1]]]]],[1]]];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
} };
};
smltojs0$0SmlToJsComp$1$8.reelaborate$3237 = function(v$3398,v$3399,v$3400){try {var v$3364;
if (syntax_objects$0StrId$1.invented_StrId$122(v$3399)) {var E$3371;
var v$3376 = (basics$0ModuleEnvironments$1.lookup_strid$572(v$3400[2]))(v$3399);
switch (v$3376[0]) { case 0: {E$3371 = v$3376[1];
 break; }default: {E$3371 = (tools$0Crash$1.impossible$59("IntModules.reelaborate.strid not in elabB"));
} };
v$3364 = [basics$0ModuleEnvironments$1.plus_E$537(v$3400[2],E$3371),[0,E$3371]];
} else {v$3364 = [v$3400[2],[1]];
};
var v$3365 = v$3364[0];
var v$3366 = v$3364[1];
var names_old$3246 = special_objects$0Name$1.bucket$144[0];
(special_objects$0Name$1.bucket$144[0] = null,0);
var res$3247 = basics$0ParseElab$1.parse_elab$275(v$3400[1],v$3365,v$3400[5],[0,v$3400[4]]);
switch (res$3247[0]) { case 1: {var v$3275 = res$3247[1];
var v$3276 = v$3275[0];
tools$0Report$1.print$$242(v$3276,tools$0Flags$1$1.log$101[0]);
return tools$0Crash$1.impossible$59("IntModules.reelaborate.ParseElab.FAILURE");
 break; }default: {var v$3361 = res$3247[1];
var v$3362 = v$3361[0];
var v$3363 = v$3361[3];
var resE$$3278;
var v$3283 = (basics$0ModuleEnvironments$1.lookup_strid$572(v$3362))(syntax_objects$0StrId$1.mk_StrId$103(syntax_objects$0FunId$1.pr_FunId$60(v$3398)));
switch (v$3283[0]) { case 0: {resE$$3278 = v$3283[1];
 break; }default: {resE$$3278 = (tools$0Crash$1.impossible$59("IntModules.reelaborate.the builder has been applied - but I cannot find `funid' in resulting structure env."));
} };
var topdec$3286 = smltojs0$0SmlToJsComp$1$8.derived_form_repair$3184(v$3366,v$3399,v$3363);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[opacity elimination begin...]\n")):0;
var v$5106 = v$3400[6];
var v$3354 = basics$0OpacityElim$1.opacity_elimination$1586(v$5106,topdec$3286);
var v$3355 = v$3354[0];
var v$3356 = v$3354[1];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[opacity elimination end...]\n")):0;
var resE$$3294 = basics$0Environments$1.on_Env$3796(v$3356[1],resE$$3278);
var resE$$3295 = basics$0Environments$1.on_Env$3796(v$3400[6][1],resE$$3294);
var names_elab$3300 = special_objects$0Name$1.bucket$144[0];
(special_objects$0Name$1.bucket$144[0] = names_old$3246,0);
var fix$5122 = {};
fix$5122.$app = function(v$4610){lab$app: while (true) {if (v$4610 == null) {return 0;
} else {var v$4611 = v$4610;
var v$4612 = v$4611[0];
var v$4613 = v$4611[1];
(v$4612[2][0][0][0] = true,0);
var t$5123 = v$4613;
var v$4610 = t$5123;
continue lab$app;
};
};
};
var app$4609 = fix$5122.$app;
app$4609(v$3400[0]);
var fix$5124 = {};
fix$5124.$app = function(v$4622){lab$app: while (true) {if (v$4622 == null) {return 0;
} else {var v$4623 = v$4622;
var v$4624 = v$4623[0];
var v$4625 = v$4623[1];
(v$4624[0][0][0] = true,0);
var t$5125 = v$4625;
var v$4622 = t$5125;
continue lab$app;
};
};
};
var app$4621 = fix$5124.$app;
app$4621(names_elab$3300);
(special_objects$0Name$1.rematching$185[0] = true,0);
basics$0Environments$1.match$3187(resE$$3295,v$3400[7]);
(special_objects$0Name$1.rematching$185[0] = false,0);
var fix$5126 = {};
fix$5126.$app = function(v$4632){lab$app: while (true) {if (v$4632 == null) {return 0;
} else {var v$4633 = v$4632;
var v$4634 = v$4633[0];
var v$4635 = v$4633[1];
(v$4634[2][0][0][0] = false,0);
var t$5127 = v$4635;
var v$4632 = t$5127;
continue lab$app;
};
};
};
var app$4631 = fix$5126.$app;
app$4631(v$3400[0]);
var fix$5128 = {};
fix$5128.$app = function(v$4644){lab$app: while (true) {if (v$4644 == null) {return 0;
} else {var v$4645 = v$4644;
var v$4646 = v$4645[0];
var v$4647 = v$4645[1];
(v$4646[0][0][0] = false,0);
var t$5129 = v$4647;
var v$4644 = t$5129;
continue lab$app;
};
};
};
var app$4643 = fix$5128.$app;
app$4643(names_elab$3300);
if (basics$0Environments$1.eq$3127([v$3400[7],resE$$3295])) {0;
} else {basis$0General$1.print$163("Check on environments failed\n");
basis$0General$1.print$163("\nresE = \n");
tools$0PrettyPrint$1.printTree$1079(basics$0Environments$1.layout$2610(v$3400[7]));
basis$0General$1.print$163("\nresE' = \n");
tools$0PrettyPrint$1.printTree$1079(basics$0Environments$1.layout$2610(resE$$3295));
basis$0General$1.print$163(("\nT = {" + (smltojs0$0SmlToJsComp$1$8.pr_tynames$3078(v$3400[0]))) + "}\n");
tools$0Crash$1.impossible$59("IntModules.reelaborate.the builder has been applied - but the result environments are not equal (after matching.)");
};
switch (v$3355[0]) { case 0: {var v$5081 = v$3355[1];
switch (v$5081[2][0]) { case 1: {var v$5082 = v$5081[1];
switch (v$5082[0]) { case 0: {var v$5083 = v$5082[1];
var v$5084 = v$5083[1];
var v$5085 = v$5084[1];
switch (v$5085[3][0]) { case 1: {return v$5085[2];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
} };
} catch(v$5121) {return (function(X$3393){basis$0General$1.print$163(("Error while reconstructing functor body for " + (syntax_objects$0FunId$1.pr_FunId$60(v$3398))) + "\n");
basis$0General$1.print$163(X$3393[0]);
throw X$3393;
})(v$5121);
};
};
smltojs0$0SmlToJsComp$1$8.lookupInlineFunApp$3401 = function(ife$3404,funid$3407){var v$3420 = smltojs0$0SmlToJsComp$1$4.lookup$362(ife$3404,funid$3407);
var v$3422 = v$3420[1];
var v$3423 = v$3420[2];
var v$3424 = v$3420[3];
var v$3425 = v$3420[4];
var v$3417 = smltojs0$0SmlToJsComp$1$4.un$610(v$3425);
var v$3418 = v$3417[0];
var v$3419 = v$3417[2];
return [v$3422,v$3423,smltojs0$0SmlToJsComp$1$8.reelaborate$3237(funid$3407,v$3422,v$3424),v$3419,v$3418];
};
smltojs0$0SmlToJsComp$1$8.compile_strdecs$3426 = function(v$5095,v$5096,v$3441,v$5097){if (v$3441 == null) {return [compiler_objects$0CompilerEnv$1$7.emptyCEnv$4647,smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2706];
} else {var v$3493 = smltojs0$0SmlToJsComp$1$4.un$610(v$5096);
var v$3494 = v$3493[2];
var v$3495 = v$3493[3];
var v$3477;
switch (v$5097[0]) { case 0: {v$3477 = [v$5097[1],function(v$3487){return 0;
}];
 break; }default: {var i$3489;
var t$5131 = basis$0Int32$1.toString$458;
var t$5130;
(counter$3122[0] = (SmlPrims.chk_ovf_i32(counter$3122[0] + 1)),0);
t$5130 = counter$3122[0];
i$3489 = (t$5131(t$5130));
var name$3490 = special_objects$0Name$1.baseGet$65(0);
special_objects$0Name$1.baseSet$61((name$3490 + "$") + i$3489);
v$3477 = ["code" + i$3489,function(v$3492){return special_objects$0Name$1.baseSet$61(name$3490);
}];
} };
var v$3478 = v$3477[0];
var v$3479 = v$3477[1];
var vcg_filename$3451 = v$3478 + ".vcg";
var res$3452 = smltojs0$0ExecutionJS$1.compile$106([(smltojs0$0SmlToJsComp$1$4.un$610(v$5096))[0],function(ife$4667){return function(funid$4668){var v$4669 = smltojs0$0SmlToJsComp$1$4.lookup$362(ife$4667,funid$4668);
var v$4670 = v$4669[1];
var v$4671 = v$4669[2];
var v$4672 = v$4669[3];
var v$4673 = v$4669[4];
var v$4674 = smltojs0$0SmlToJsComp$1$4.un$610(v$4673);
var v$4675 = v$4674[0];
var v$4676 = v$4674[2];
return [v$4670,v$4671,smltojs0$0SmlToJsComp$1$8.reelaborate$3237(funid$4668,v$4670,v$4672),v$4676,v$4675];
};
}],[v$3494,v$3495,v$3441,vcg_filename$3451]);
v$3479(0);
var fix$5132 = {};
fix$5132.$app = function(v$4679){lab$app: while (true) {if (v$4679 == null) {return 0;
} else {var v$4680 = v$4679;
var v$4681 = v$4680[0];
var v$4682 = v$4680[1];
if (v$4681[0][2]) {0;
} else {var v$4684 = v$4681[0][1];
(v$4681[0] = [[false],v$4684,true],0);
};
var t$5133 = v$4682;
var v$4679 = t$5133;
continue lab$app;
};
};
};
var app$4678 = fix$5132.$app;
app$4678(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
switch (res$3452[0]) { case 0: {var v$3471 = res$3452[1];
var v$3472 = v$3471[0];
var v$3473 = v$3471[1];
var v$3474 = v$3471[2];
var v$3475 = v$3471[3];
return [v$3472,v$3473,smltojs0$0SmlToJsComp$1$5.mk_modcode$2707(v$3474,v$3475,v$3478)];
 break; }default: {return [res$3452[1],smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2706];
} };
};
};
var fix$5134 = {};
fix$5134.$funapp_strbind = function(v$3542){var v$3558 = v$3542[1];
var v$3559 = v$3558[2];
var v$3560 = v$3558[3];
if (fix$5134.$funapp_strexp(v$3559)) {return true;
} else {switch (v$3560[0]) { case 0: {var v$3557 = v$3560[1];
return fix$5134.$funapp_strbind(v$3557);
 break; }default: {return false;
} };
};
};
fix$5134.$funapp_strdec = function(strdec$3504){switch (strdec$3504[0]) { case 0: {var v$3538 = strdec$3504[1];
var v$3539 = v$3538[1];
return fix$5134.$funapp_strbind(v$3539);
 break; }case 1: {var v$3534 = strdec$3504[1];
var v$3535 = v$3534[1];
var v$3536 = v$3534[2];
if (fix$5134.$funapp_strdec(v$3535)) {return true;
} else {return fix$5134.$funapp_strdec(v$3536);
};
 break; }case 2: {var v$3526 = strdec$3504[1];
var v$3527 = v$3526[1];
var v$3528 = v$3526[2];
if (fix$5134.$funapp_strdec(v$3527)) {return true;
} else {return fix$5134.$funapp_strdec(v$3528);
};
 break; }case 3: {return false;
 break; }default: {return false;
} };
};
fix$5134.$funapp_strexp = function(strexp$3563){switch (strexp$3563[0]) { case 1: {var v$3590 = strexp$3563[1];
var v$3591 = v$3590[1];
return fix$5134.$funapp_strdec(v$3591);
 break; }case 0: {var v$3587 = strexp$3563[1];
var v$3588 = v$3587[1];
return fix$5134.$funapp_strexp(v$3588);
 break; }case 2: {var v$3584 = strexp$3563[1];
var v$3585 = v$3584[1];
return fix$5134.$funapp_strexp(v$3585);
 break; }case 5: {return true;
 break; }case 3: {return false;
 break; }default: {var v$3596 = strexp$3563[1];
var v$3597 = v$3596[1];
var v$3598 = v$3596[2];
if (fix$5134.$funapp_strdec(v$3597)) {return true;
} else {return fix$5134.$funapp_strexp(v$3598);
};
} };
};
smltojs0$0SmlToJsComp$1$8.funapp_strbind$3500 = fix$5134.$funapp_strbind;
smltojs0$0SmlToJsComp$1$8.funapp_strdec$3501 = fix$5134.$funapp_strdec;
smltojs0$0SmlToJsComp$1$8.funapp_strexp$3499 = fix$5134.$funapp_strexp;
var fix$5135 = {};
fix$5135.$push_topdec = function(v$3603){switch (v$3603[0]) { case 1: {var v$3650 = v$3603[1];
var v$3651 = v$3650[0];
var v$3652 = v$3650[1];
var v$3653 = v$3650[2];
var t$5172 = [1];
var t$5171;
var t$5170;
var t$5169;
var t$5168 = v$3651;
var t$5167 = v$3652;
var t$5166;
var v$3644 = fix$5135.$push_topdec_opt(v$3653);
var v$3645 = v$3644[0];
switch (v$3645[0]) { case 0: {t$5166 = [0,[0,[v$3651,v$3645[1],v$3644[1]]]];
 break; }default: {t$5166 = v$3644[1];
} };
t$5169 = [t$5168,t$5167,t$5166];
t$5170 = [1,t$5169];
t$5171 = [0,t$5170];
return [t$5172,t$5171];
 break; }case 0: {var v$3632 = v$3603[1];
var v$3633 = v$3632[0];
var v$3634 = v$3632[1];
var v$3635 = v$3632[2];
var v$3626 = fix$5135.$push_topdec_opt(v$3635);
var v$3627 = v$3626[0];
switch (v$3627[0]) { case 0: {return [[0,[1,[v$3633,v$3634,v$3627[1]]]],v$3626[1]];
 break; }default: {return [[0,v$3634],v$3626[1]];
} };
 break; }default: {var v$3667 = v$3603[1];
var v$3668 = v$3667[0];
var v$3669 = v$3667[1];
var v$3670 = v$3667[2];
var t$5179 = [1];
var t$5178;
var t$5177;
var t$5176;
var t$5175 = v$3668;
var t$5174 = v$3669;
var t$5173;
var v$3661 = fix$5135.$push_topdec_opt(v$3670);
var v$3662 = v$3661[0];
switch (v$3662[0]) { case 0: {t$5173 = [0,[0,[v$3668,v$3662[1],v$3661[1]]]];
 break; }default: {t$5173 = v$3661[1];
} };
t$5176 = [t$5175,t$5174,t$5173];
t$5177 = [2,t$5176];
t$5178 = [0,t$5177];
return [t$5179,t$5178];
} };
};
fix$5135.$push_topdec_opt = function(v$3673){switch (v$3673[0]) { case 0: {var v$3680 = v$3673[1];
return fix$5135.$push_topdec(v$3680);
 break; }default: {return [[1],[1]];
} };
};
smltojs0$0SmlToJsComp$1$8.push_topdec$3600 = fix$5135.$push_topdec;
smltojs0$0SmlToJsComp$1$8.push_topdec_opt$3599 = fix$5135.$push_topdec_opt;
var fix$5136 = {};
fix$5136.$strdecs_of_strdec = function(v$3699,v$3700){lab$strdecs_of_strdec: while (true) {switch (v$3699[0]) { case 3: {return v$3700;
 break; }case 1: {var v$3695 = v$3699[1];
var v$3696 = v$3695[1];
var v$3697 = v$3695[2];
var t$5137 = v$3696;
var t$5138 = fix$5136.$strdecs_of_strdec(v$3697,v$3700);
var v$3699 = t$5137;
var v$3700 = t$5138;
continue lab$strdecs_of_strdec;
 break; }default: {return [v$3699,v$3700];
} };
};
};
smltojs0$0SmlToJsComp$1$8.strdecs_of_strdec$3681 = fix$5136.$strdecs_of_strdec;
var fix$5139 = {};
fix$5139.$int_strbind = function(v$3859,v$3860){var v$3861 = v$3860[1];
var v$3863 = v$3861[1];
var v$3864 = v$3861[2];
var v$3865 = v$3861[3];
var v$3855 = fix$5139.$int_strexp(v$3859,v$3864);
var v$3856 = v$3855[0];
var v$3857 = v$3855[1];
var v$3858 = v$3855[2];
var ce$3839 = compiler_objects$0CompilerEnv$1$7.declare_strid$4866(v$3863,v$3856,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4647);
switch (v$3865[0]) { case 0: {var v$3854 = v$3865[1];
var v$3850 = fix$5139.$int_strbind(v$3859,v$3854);
var v$3851 = v$3850[0];
var v$3852 = v$3850[1];
var v$3853 = v$3850[2];
return [compiler_objects$0CompilerEnv$1$7.plus$4919(ce$3839,v$3851),smltojs0$0CompileBasisJS$1.plus$76(v$3857,v$3852),smltojs0$0SmlToJsComp$1$5.seq$2699(v$3858,v$3853)];
 break; }default: {return [ce$3839,v$3857,v$3858];
} };
};
fix$5139.$int_strdec = function(v$3823,v$3824){switch (v$3824[0]) { case 0: {var v$3820 = v$3824[1];
var v$3822 = v$3820[1];
return fix$5139.$int_strbind(v$3823,v$3822);
 break; }case 2: {var v$3815 = v$3824[1];
var v$3817 = v$3815[1];
var v$3818 = v$3815[2];
var v$3811 = fix$5139.$comp_int_strdec(false,v$3823,v$3817,[1]);
var v$3812 = v$3811[0];
var v$3813 = v$3811[1];
var v$3814 = v$3811[2];
var intB1$3802 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3812,v$3813]);
var v$3807 = fix$5139.$comp_int_strdec(false,smltojs0$0SmlToJsComp$1$4.plus$619(v$3823,intB1$3802),v$3818,[1]);
var v$3808 = v$3807[0];
var v$3809 = v$3807[1];
var v$3810 = v$3807[2];
return [v$3808,smltojs0$0CompileBasisJS$1.plus$76(v$3813,v$3809),smltojs0$0SmlToJsComp$1$5.seq$2699(v$3814,v$3810)];
 break; }case 4: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.DECstrdec.the compiler should deal with this");
 break; }case 3: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.EMPTYstrdec.linearization failed");
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.SEQstrdec.linearization failed");
} };
};
fix$5139.$comp_int_strdec = function(v$3772,v$3773,v$3774,v$3775){var fix$5162 = {};
fix$5162.$loop = function(v$5099,v$3725,v$5100){lab$loop: while (true) {if (v$3725 == null) {return smltojs0$0SmlToJsComp$1$8.compile_strdecs$3426(v$3772,v$5099,basis$0List$1.rev$682(v$5100),v$3775);
} else {var v$3767 = v$3725;
var v$3768 = v$3767[0];
var v$3769 = v$3767[1];
if ((v$3772?false:true)?(smltojs0$0SmlToJsComp$1$8.funapp_strdec$3501(v$3768)):false) {var v$3758 = smltojs0$0SmlToJsComp$1$8.compile_strdecs$3426(v$3772,v$5099,basis$0List$1.rev$682(v$5100),[1]);
var v$3759 = v$3758[0];
var v$3760 = v$3758[1];
var v$3761 = v$3758[2];
var intB1$3736 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3759,v$3760]);
var intB$$3737 = smltojs0$0SmlToJsComp$1$4.plus$619(v$5099,intB1$3736);
var v$3754 = fix$5139.$int_strdec(intB$$3737,v$3768);
var v$3755 = v$3754[0];
var v$3756 = v$3754[1];
var v$3757 = v$3754[2];
var intB2$3742 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3755,v$3756]);
var v$3750 = fix$5162.$loop(smltojs0$0SmlToJsComp$1$4.plus$619(intB$$3737,intB2$3742),v$3769,null);
var v$3751 = v$3750[0];
var v$3752 = v$3750[1];
var v$3753 = v$3750[2];
return [compiler_objects$0CompilerEnv$1$7.plus$4919(v$3759,compiler_objects$0CompilerEnv$1$7.plus$4919(v$3755,v$3751)),smltojs0$0CompileBasisJS$1.plus$76(v$3760,smltojs0$0CompileBasisJS$1.plus$76(v$3756,v$3752)),smltojs0$0SmlToJsComp$1$5.seq$2699(v$3761,smltojs0$0SmlToJsComp$1$5.seq$2699(v$3757,v$3753))];
} else {var t$5163 = v$5099;
var t$5164 = v$3769;
var t$5165 = [v$3768,v$5100];
var v$5099 = t$5163;
var v$3725 = t$5164;
var v$5100 = t$5165;
continue lab$loop;
};
};
};
};
var loop$3711 = fix$5162.$loop;
var strdecs$3771 = smltojs0$0SmlToJsComp$1$8.strdecs_of_strdec$3681(v$3774,null);
return loop$3711(v$3773,strdecs$3771,null);
};
fix$5139.$int_strexp = function(v$4089,v$4090){switch (v$4090[0]) { case 1: {var v$4065 = v$4090[1];
var v$4067 = v$4065[1];
return fix$5139.$comp_int_strdec(false,v$4089,v$4067,[1]);
 break; }case 3: {var v$4061 = v$4090[1];
var v$4063 = v$4061[1];
var v$4059 = smltojs0$0SmlToJsComp$1$4.un$610(v$4089);
var v$4060 = v$4059[2];
var v$4056 = syntax_objects$0StrId$1.explode_longstrid$92(v$4063);
var v$4057 = v$4056[0];
var v$4058 = v$4056[1];
var fix$5159 = {};
fix$5159.$lookup = function(v$5098,v$4049){lab$lookup: while (true) {if (v$4049 == null) {return compiler_objects$0CompilerEnv$1$7.lookup_strid$5000(v$5098,v$4058);
} else {var v$4052 = v$4049;
var v$4053 = v$4052[0];
var v$4054 = v$4052[1];
var t$5160 = compiler_objects$0CompilerEnv$1$7.lookup_strid$5000(v$5098,v$4053);
var t$5161 = v$4054;
var v$5098 = t$5160;
var v$4049 = t$5161;
continue lab$lookup;
};
};
};
var lookup$4037 = fix$5159.$lookup;
return [lookup$4037(v$4060,v$4057),smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2706];
 break; }case 0: {var v$4027 = v$4090[1];
var v$4028 = v$4027[0];
var v$4029 = v$4027[1];
var v$4023 = fix$5139.$int_strexp(v$4089,v$4029);
var v$4024 = v$4023[0];
var v$4025 = v$4023[1];
var v$4026 = v$4023[2];
var E$4010;
var v$4016;
var v$4687 = basics$0ElabInfo$1.to_TypeInfo$202(v$4028);
switch (v$4687[0]) { case 0: {var v$4688 = v$4687[1];
v$4016 = [0,basics$0TypeInfo$1.normalise$310(v$4688)];
 break; }default: {v$4016 = [1];
} };
switch (v$4016[0]) { case 0: {var v$4018 = v$4016[1];
switch (v$4018[0]) { case 3: {E$4010 = v$4018[1];
 break; }default: {E$4010 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.TRANSPARENT_CONSTRAINTstrexp.no env info"));
} };
 break; }default: {E$4010 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.TRANSPARENT_CONSTRAINTstrexp.no env info"));
} };
return [compiler_objects$0CompilerEnv$1$7.constrain$5951(v$4024,E$4010),v$4025,v$4026];
 break; }case 2: {return tools$0Crash$1.impossible$59("IntModules.OPAQUE_CONSTRAINTstrexp.should be eliminated at this stage");
 break; }case 5: {var v$3996 = v$4090[1];
var v$3997 = v$3996[0];
var v$3998 = v$3996[1];
var v$3999 = v$3996[2];
var s$4699 = ("[interpreting functor argument to functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3998))) + " begin...]";
if (tools$0Flags$1$1.chat$86[0]) {var s$4700 = s$4699 + "\n";
basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$4700);
} else {0;
};
var fix$5153 = {};
fix$5153.$app = function(v$4706){lab$app: while (true) {if (v$4706 == null) {return 0;
} else {var v$4707 = v$4706;
var v$4708 = v$4707[0];
var v$4709 = v$4707[1];
if (v$4708[0][2]) {0;
} else {var v$4711 = v$4708[0][1];
(v$4708[0] = [[false],v$4711,true],0);
};
var t$5154 = v$4709;
var v$4706 = t$5154;
continue lab$app;
};
};
};
var app$4705 = fix$5153.$app;
app$4705(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
var v$3977;
var v$3987;
var v$4714 = basics$0ElabInfo$1.to_TypeInfo$202(v$3997);
switch (v$4714[0]) { case 0: {var v$4715 = v$4714[1];
v$3987 = [0,basics$0TypeInfo$1.normalise$310(v$4715)];
 break; }default: {v$3987 = [1];
} };
switch (v$3987[0]) { case 0: {var v$3989 = v$3987[1];
switch (v$3989[0]) { case 12: {var v$3991 = v$3989[1];
var v$3992 = v$3991[2];
var v$3993 = v$3991[1];
var v$3994 = v$3991[0];
v$3977 = [basics$0StatObject$1.oo$4792(v$3992,v$3993),v$3994];
 break; }default: {v$3977 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.APPstrexp.no (phi,E) info"));
} };
 break; }default: {v$3977 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.APPstrexp.no (phi,E) info"));
} };
var v$3978 = v$3977[0];
var v$3973 = fix$5139.$int_strexp(v$4089,v$3999);
var v$3974 = v$3973[0];
var v$3975 = v$3973[1];
var v$3976 = v$3973[2];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor argument end...]\n")):0;
var v$3963 = smltojs0$0SmlToJsComp$1$4.lookup$362((smltojs0$0SmlToJsComp$1$4.un$610(v$4089))[0],v$3998);
var v$3964 = v$3963[0];
var v$3965 = v$3963[1];
var v$3966 = v$3963[2];
var v$3967 = v$3963[3];
var v$3968 = v$3963[4];
var E$$3912 = basics$0Environments$1.on_Env$3796(v$3978,v$3966);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[constraining argument begin...]\n")):0;
var ce$3913 = compiler_objects$0CompilerEnv$1$7.constrain$5951(v$3974,E$$3912);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[constraining argument end...]\n")):0;
var intB1$3914 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,compiler_objects$0CompilerEnv$1$7.declare_strid$4866(v$3965,ce$3913,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4647),smltojs0$0CompileBasisJS$1.plus$76((smltojs0$0SmlToJsComp$1$4.un$610(v$4089))[3],v$3975)]);
basis$0General$1.print$163(((("[compiling body of functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3998))) + " (from project ") + v$3964) + ") begin]\n");
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[recreating functor body begin...]\n")):0;
var strexp0$3925 = smltojs0$0SmlToJsComp$1$8.reelaborate$3237(v$3998,v$3965,v$3967);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[recreating functor body end...]\n")):0;
var v$3942;
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[finding free identifiers begin...]\n")):0;
var v$3957 = basics$0FreeIds$1.fid_strexp$2107(strexp0$3925);
var v$3958 = v$3957[0];
var v$3959 = v$3957[1];
var v$3960 = v$3957[2];
var v$3961 = v$3957[3];
var v$3962 = v$3957[4];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[finding free identifiers end...]\n")):0;
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[restricting interpretation basis begin...]\n")):0;
var intB$$3951 = smltojs0$0SmlToJsComp$1$4.restrict$719(smltojs0$0SmlToJsComp$1$4.plus$619(v$3968,intB1$3914),[v$3958,v$3959,v$3960,v$3961,v$3962],special_objects$0TyName$1$3.empty$2784);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[restricting interpretation basis end...]\n")):0;
v$3942 = [intB$$3951,v$3959];
var v$3943 = v$3942[0];
var strexp0$$3929 = basics$0PostElabGrammar$1$3.map_strexp_info$4278(function(i$4761){var v$4762;
var v$4764 = basics$0ElabInfo$1.to_TypeInfo$202(i$4761);
switch (v$4764[0]) { case 0: {var v$4765 = v$4764[1];
v$4762 = [0,basics$0TypeInfo$1.normalise$310(v$4765)];
 break; }default: {v$4762 = [1];
} };
switch (v$4762[0]) { case 0: {var v$4766 = v$4762[1];
return basics$0ElabInfo$1.plus_TypeInfo$128(i$4761,basics$0TypeInfo$1.on_TypeInfo$306([v$3978,v$4766]));
 break; }default: {return i$4761;
} };
},strexp0$3925);
var fix$5155 = {};
fix$5155.$app = function(v$4769){lab$app: while (true) {if (v$4769 == null) {return 0;
} else {var v$4770 = v$4769;
var v$4771 = v$4770[0];
var v$4772 = v$4770[1];
if (v$4771[0][2]) {0;
} else {var v$4774 = v$4771[0][1];
(v$4771[0] = [[false],v$4774,true],0);
};
var t$5156 = v$4772;
var v$4769 = t$5156;
continue lab$app;
};
};
};
var app$4768 = fix$5155.$app;
app$4768(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor body begin...]\n")):0;
var v$3938 = fix$5139.$int_strexp(v$3943,strexp0$$3929);
var v$3939 = v$3938[0];
var v$3940 = v$3938[1];
var v$3941 = v$3938[2];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor body end...]\n")):0;
special_objects$0Name$1.bucket$144[0];
var fix$5157 = {};
fix$5157.$app = function(v$4785){lab$app: while (true) {if (v$4785 == null) {return 0;
} else {var v$4786 = v$4785;
var v$4787 = v$4786[0];
var v$4788 = v$4786[1];
if (v$4787[0][2]) {0;
} else {var v$4790 = v$4787[0][1];
(v$4787[0] = [[false],v$4790,true],0);
};
var t$5158 = v$4788;
var v$4785 = t$5158;
continue lab$app;
};
};
};
var app$4784 = fix$5157.$app;
app$4784(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3939,v$3940]);
return [[v$3939,smltojs0$0CompileBasisJS$1.plus$76(v$3975,v$3940),smltojs0$0SmlToJsComp$1$5.seq$2699(v$3976,v$3941)],basis$0General$1.print$163(("[compiling body of functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3998))) + " end]\n")][0];
 break; }default: {var v$4085 = v$4090[1];
var v$4087 = v$4085[1];
var v$4088 = v$4085[2];
var v$4081 = fix$5139.$comp_int_strdec(false,v$4089,v$4087,[1]);
var v$4082 = v$4081[0];
var v$4083 = v$4081[1];
var v$4084 = v$4081[2];
var intB1$4072 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$4082,v$4083]);
var v$4077 = fix$5139.$int_strexp(smltojs0$0SmlToJsComp$1$4.plus$619(v$4089,intB1$4072),v$4088);
var v$4078 = v$4077[0];
var v$4079 = v$4077[1];
var v$4080 = v$4077[2];
return [v$4078,smltojs0$0CompileBasisJS$1.plus$76(v$4083,v$4079),smltojs0$0SmlToJsComp$1$5.seq$2699(v$4084,v$4080)];
} };
};
smltojs0$0SmlToJsComp$1$8.int_strbind$3702 = fix$5139.$int_strbind;
smltojs0$0SmlToJsComp$1$8.int_strdec$3703 = fix$5139.$int_strdec;
smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3704 = fix$5139.$comp_int_strdec;
smltojs0$0SmlToJsComp$1$8.int_strexp$3701 = fix$5139.$int_strexp;
smltojs0$0SmlToJsComp$1$8.generate_BBC$4091 = function(v$4133,v$4134,v$5101,v$4136,v$5102){var v$4137 = v$4136[2];
var v$4138 = v$4136[1];
var v$4139 = v$4136[0];
var v$4140 = v$4136[4];
var v$4141 = v$4136[3];
try {var funid_string$4103 = syntax_objects$0FunId$1.pr_FunId$60(v$4134);
var info$4108 = basics$0PostElabGrammar$1$3.info_on_strexp$3840(v$5102);
var v$4122;
var x$5091 = basics$0ElabInfo$1.to_ParseInfo$192(info$4108);
v$4122 = (basics$0SourceInfo$1.to_positions$67(basics$0ParseInfo$1.to_SourceInfo$93(x$5091)));
var v$4123 = v$4122[0];
var v$4124 = v$4122[1];
var filetext$4112 = (("structure " + funid_string$4103) + " ") + (basics$0LexBasics$1.get_source$553(v$4123,v$4124));
return [v$4139,v$4133,v$4138,manager0$0MD5$1.toHexString$399(manager0$0MD5$1.final$210(manager0$0MD5$1.update$211(manager0$0MD5$1.init$196,filetext$4112))),filetext$4112,v$4137,v$4141,v$4140];
} catch(v$5140) {return (function(X$4129){var t$5141 = X$4129;
if (t$5141[0] == basis$0IO$1.en$Io$59) {var v$4132 = X$4129[1][2];
basis$0General$1.print$163((("Error while blasting out functor body for " + (syntax_objects$0FunId$1.pr_FunId$60(v$4134))) + "\n") + v$4132);
throw X$4129;
} else {throw X$4129;
};
})(v$5140);
};
};
var fix$5142 = {};
fix$5142.$int_funbind = function(v$4231,v$4232,v$4233){var v$4234 = v$4233[1];
var v$4235 = v$4234[0];
var v$4236 = v$4234[1];
var v$4237 = v$4234[2];
var v$4238 = v$4234[3];
var v$4239 = v$4234[4];
var v$4240 = v$4234[5];
var v$4225 = basics$0FreeIds$1.fid_strexp_sigexp$2108(v$4237,v$4239,v$4238);
var v$4226 = v$4225[0];
var v$4227 = v$4225[2];
var v$4228 = v$4225[1];
var v$4229 = v$4225[3];
var v$4230 = v$4225[4];
var intB0$4163 = smltojs0$0SmlToJsComp$1$4.restrict$719(v$4232,[v$4226,v$4228,v$4227,v$4229,v$4230],special_objects$0TyName$1$3.empty$2784);
var v$4182;
var v$4195;
var v$4828 = basics$0ElabInfo$1.to_TypeInfo$202(v$4235);
switch (v$4828[0]) { case 0: {var v$4829 = v$4828[1];
v$4195 = [0,basics$0TypeInfo$1.normalise$310(v$4829)];
 break; }default: {v$4195 = [1];
} };
switch (v$4195[0]) { case 0: {var v$4197 = v$4195[1];
switch (v$4197[0]) { case 13: {var v$4199 = v$4197[1];
var v$4200 = v$4199[3];
switch (v$4200[0]) { case 0: {var v$4219 = v$4199[1];
var v$4220 = v$4199[2];
var v$4221 = v$4199[0];
var v$4222 = v$4199[4];
var v$4223 = v$4200[1];
var elabB$4188 = v$4220[0];
var infB$4202;
var v$4208 = basics$0ParseInfo$1.to_DFInfo$102(basics$0ElabInfo$1.to_ParseInfo$192(v$4235));
switch (v$4208[0]) { case 0: {var v$4210 = v$4208[1];
switch (v$4210[0]) { case 5: {infB$4202 = v$4210[1];
 break; }default: {infB$4202 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no infix basis info"));
} };
 break; }default: {infB$4202 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no infix basis info"));
} };
v$4182 = [v$4219,[special_objects$0TyName$1$3.list$3322(v$4221),elabB$4188,infB$4202,v$4223,v$4222]];
 break; }default: {v$4182 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
 break; }default: {v$4182 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
 break; }default: {v$4182 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
var v$4183 = v$4182[0];
var v$4184 = v$4182[1];
var BBC$4172 = smltojs0$0SmlToJsComp$1$8.generate_BBC$4091(v$4231,v$4236,v$4237,v$4184,v$4239);
var fe$4173 = smltojs0$0SmlToJsComp$1$4.add$349(v$4236,[v$4231,v$4237,v$4183,BBC$4172,intB0$4163],smltojs0$0SmlToJsComp$1$4.empty$335);
switch (v$4240[0]) { case 0: {var v$4181 = v$4240[1];
var fe$$4180 = fix$5142.$int_funbind(v$4231,v$4232,v$4181);
return smltojs0$0SmlToJsComp$1$4.plus$337(fe$4173,fe$$4180);
 break; }default: {return fe$4173;
} };
};
smltojs0$0SmlToJsComp$1$8.int_funbind$4143 = fix$5142.$int_funbind;
var fix$5143 = {};
fix$5143.$int_sigbind = function(v$4245){var v$4271 = v$4245[1];
var v$4272 = v$4271[0];
var v$4273 = v$4271[1];
var v$4274 = v$4271[3];
var T$4251;
var v$4257;
var v$4854 = basics$0ElabInfo$1.to_TypeInfo$202(v$4272);
switch (v$4854[0]) { case 0: {var v$4855 = v$4854[1];
v$4257 = [0,basics$0TypeInfo$1.normalise$310(v$4855)];
 break; }default: {v$4257 = [1];
} };
switch (v$4257[0]) { case 0: {var v$4259 = v$4257[1];
switch (v$4259[0]) { case 4: {T$4251 = v$4259[1];
 break; }default: {T$4251 = (tools$0Crash$1.impossible$59("IntModules.int_sigbind; no type info"));
} };
 break; }default: {T$4251 = (tools$0Crash$1.impossible$59("IntModules.int_sigbind; no type info"));
} };
var ise$4263 = smltojs0$0SmlToJsComp$1$4.add$502(v$4273,T$4251,smltojs0$0SmlToJsComp$1$4.empty$488);
var v$4268 = fix$5143.$int_sigbind_opt(v$4274);
switch (v$4268[0]) { case 0: {var v$4270 = v$4268[1];
return smltojs0$0SmlToJsComp$1$4.plus$490(ise$4263,v$4270);
 break; }default: {return ise$4263;
} };
};
fix$5143.$int_sigbind_opt = function(v$4277){switch (v$4277[0]) { case 1: {return [1];
 break; }default: {var v$4283 = v$4277[1];
return [0,fix$5143.$int_sigbind(v$4283)];
} };
};
smltojs0$0SmlToJsComp$1$8.int_sigbind$4242 = fix$5143.$int_sigbind;
smltojs0$0SmlToJsComp$1$8.int_sigbind_opt$4241 = fix$5143.$int_sigbind_opt;
smltojs0$0SmlToJsComp$1$8.int_sigdec$4284 = function(v$4287){var v$4291 = v$4287[1];
var v$4292 = v$4291[1];
return smltojs0$0SmlToJsComp$1$8.int_sigbind$4242(v$4292);
};
var fix$5144 = {};
fix$5144.$flatten = function(v$4308,v$5103){lab$flatten: while (true) {switch (v$4308[0]) { case 1: {return [v$4308[1],v$5103];
 break; }default: {var v$4312 = v$4308[1];
var v$4313 = v$4312[0];
var v$4314 = v$4312[1];
var t$5145 = v$4313;
var t$5146 = fix$5144.$flatten(v$4314,v$5103);
var v$4308 = t$5145;
var v$5103 = t$5146;
continue lab$flatten;
} };
};
};
smltojs0$0SmlToJsComp$1$8.flatten$4295 = fix$5144.$flatten;
var fix$5147 = {};
fix$5147.$int_topdec = function(v$4409,v$4410,v$4411,v$4412,v$4413){switch (v$4413[0]) { case 0: {var v$4383 = v$4413[1];
var v$4385 = v$4383[1];
var v$4386 = v$4383[2];
var v$4379 = smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3704(v$4409,v$4412,v$4385,v$4410);
var v$4380 = v$4379[0];
var v$4381 = v$4379[1];
var v$4382 = v$4379[2];
var intB1$4365 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$4380,v$4381]);
switch (v$4386[0]) { case 0: {var v$4378 = v$4386[1];
var v$4375 = fix$5147.$int_topdec(v$4409,[1],v$4411,smltojs0$0SmlToJsComp$1$4.plus$619(v$4412,intB1$4365),v$4378);
var v$4376 = v$4375[0];
var v$4377 = v$4375[1];
return [[0,[[1,intB1$4365],v$4376]],smltojs0$0SmlToJsComp$1$5.seq$2699(v$4382,v$4377)];
 break; }default: {return [[1,intB1$4365],v$4382];
} };
 break; }case 1: {var v$4356 = v$4413[1];
var v$4358 = v$4356[1];
var v$4359 = v$4356[2];
var ise$4341;
var v$4865 = v$4358[1];
var v$4866 = v$4865[1];
ise$4341 = (smltojs0$0SmlToJsComp$1$8.int_sigbind$4242(v$4866));
var intB1$4342 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,ise$4341,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4647,smltojs0$0CompileBasisJS$1.empty$74]);
switch (v$4359[0]) { case 0: {var v$4355 = v$4359[1];
var v$4352 = fix$5147.$int_topdec(v$4409,v$4410,v$4411,smltojs0$0SmlToJsComp$1$4.plus$619(v$4412,intB1$4342),v$4355);
return [[0,[[1,intB1$4342],v$4352[0]]],v$4352[1]];
 break; }default: {return [[1,intB1$4342],smltojs0$0SmlToJsComp$1$5.empty$2706];
} };
 break; }default: {var v$4402 = v$4413[1];
var v$4404 = v$4402[1];
var v$4405 = v$4404[1];
var v$4407 = v$4405[1];
var v$4408 = v$4402[2];
var fe$4387 = smltojs0$0SmlToJsComp$1$8.int_funbind$4143(v$4411,v$4412,v$4407);
var intB1$4388 = smltojs0$0SmlToJsComp$1$4.mk$608([fe$4387,smltojs0$0SmlToJsComp$1$4.empty$488,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4647,smltojs0$0CompileBasisJS$1.empty$74]);
switch (v$4408[0]) { case 0: {var v$4401 = v$4408[1];
var v$4398 = fix$5147.$int_topdec(v$4409,v$4410,v$4411,smltojs0$0SmlToJsComp$1$4.plus$619(v$4412,intB1$4388),v$4401);
return [[0,[[1,intB1$4388],v$4398[0]]],v$4398[1]];
 break; }default: {return [[1,intB1$4388],smltojs0$0SmlToJsComp$1$5.empty$2706];
} };
} };
};
smltojs0$0SmlToJsComp$1$8.int_topdec$4316 = fix$5147.$int_topdec;
smltojs0$0SmlToJsComp$1$8.interp_aux$4414 = function(v$4459,v$4460,v$4461,v$4462,v$4463){var v$4430 = smltojs0$0SmlToJsComp$1$8.push_topdec$3600(v$4462);
var v$4431 = v$4430[0];
switch (v$4431[0]) { case 0: {var v$4455 = v$4431[1];
var v$4456 = v$4430[1];
var v$4451 = smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3704(v$4459,v$4461,v$4455,[0,v$4463]);
var v$4452 = v$4451[0];
var v$4453 = v$4451[1];
var v$4454 = v$4451[2];
var intB1$4437 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$4452,v$4453]);
switch (v$4456[0]) { case 0: {var v$4450 = v$4456[1];
var v$4447 = smltojs0$0SmlToJsComp$1$8.int_topdec$4316(v$4459,[1],v$4460,smltojs0$0SmlToJsComp$1$4.plus$619(v$4461,intB1$4437),v$4450);
var v$4448 = v$4447[0];
var v$4449 = v$4447[1];
return [[0,[[1,intB1$4437],v$4448]],smltojs0$0SmlToJsComp$1$5.seq$2699(v$4454,v$4449)];
 break; }default: {return [[1,intB1$4437],v$4454];
} };
 break; }default: {var v$4457 = v$4430[1];
switch (v$4457[0]) { case 1: {return [[1,smltojs0$0SmlToJsComp$1$4.empty$618],smltojs0$0SmlToJsComp$1$5.empty$2706];
 break; }default: {var v$4458 = v$4457[1];
return smltojs0$0SmlToJsComp$1$8.int_topdec$4316(v$4459,[0,v$4463],v$4460,v$4461,v$4458);
} };
} };
};
smltojs0$0SmlToJsComp$1$8.interp$4465 = function(v$4497,v$4498,v$4499,v$4500,v$4501){var v$4494 = smltojs0$0SmlToJsComp$1$8.interp_aux$4414(v$4497,v$4498,v$4499,v$4500,v$4501);
var v$4495 = v$4494[0];
var v$4496 = v$4494[1];
var v$4482 = basis$0Path$1.splitDirFile$511(v$4501);
var v$4483 = v$4482[0];
var v$4484 = v$4482[1];
try {basis$0Path$1.concat$218(basis$0Path$1.concat$218(v$4483,"MLB/Js0"),v$4484);
} catch(v$5148) {(function(v$4481){return tools$0Crash$1.impossible$59("IntModules.interp: Path.concat");
})(v$5148);
};
var intBs$4487 = smltojs0$0SmlToJsComp$1$8.flatten$4295(v$4495,null);
var t$5152;
var fix$5149 = {};
fix$5149.$foldl = function(v$4881,v$4882){lab$foldl: while (true) {if (v$4882 == null) {return v$4881;
} else {var v$4883 = v$4882;
var v$4884 = v$4883[0];
var v$4885 = v$4883[1];
var t$5150 = smltojs0$0SmlToJsComp$1$4.plus$619(v$4881,v$4884);
var t$5151 = v$4885;
var v$4881 = t$5150;
var v$4882 = t$5151;
continue lab$foldl;
};
};
};
var foldl$4880 = fix$5149.$foldl;
t$5152 = (foldl$4880(smltojs0$0SmlToJsComp$1$4.empty$618,intBs$4487));
return [t$5152,v$4496];
};
return 0;
})();
