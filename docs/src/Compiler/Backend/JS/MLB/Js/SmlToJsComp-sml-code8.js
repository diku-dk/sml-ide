if ((typeof(smltojs0$0SmlToJsComp$1$8)) == "undefined") {smltojs0$0SmlToJsComp$1$8 = {};
};
(function(){smltojs0$0SmlToJsComp$1$8.die$2876 = function(s$2879){return tools$0Crash$1.impossible$59("IntModules." + s$2879);
};
smltojs0$0SmlToJsComp$1$8.print_error_report$2880 = function(report$2883){return tools$0Report$1.print$$242(report$2883,tools$0Flags$1$1.log$101[0]);
};
smltojs0$0SmlToJsComp$1$8.log$2884 = function(s$2887){return basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$2887);
};
smltojs0$0SmlToJsComp$1$8.chat$2888 = function(s$2891){if (tools$0Flags$1$1.chat$86[0]) {var s$4386 = s$2891 + "\n";
return basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$4386);
} else {return 0;
};
};
smltojs0$0SmlToJsComp$1$8.cleanBucket$2896 = function(v$2898){var fix$4963 = {};
fix$4963.$app = function(v$4390){lab$app: while (true) {if (v$4390 == null) {return 0;
} else {var v$4391 = v$4390;
var v$4392 = v$4391[0];
var v$4393 = v$4391[1];
if (v$4392[0][2]) {0;
} else {var v$4397 = v$4392[0][1];
(v$4392[0] = [[false],v$4397,true],0);
};
var t$4964 = v$4393;
var v$4390 = t$4964;
continue lab$app;
};
};
};
var app$4389 = fix$4963.$app;
app$4389(special_objects$0Name$1.bucket$144[0]);
return (special_objects$0Name$1.bucket$144[0] = null,0);
};
smltojs0$0SmlToJsComp$1$8.withFile$2901 = function(f$2904,s$2907){var is$2908 = basis$0TextIO$1.openIn$169(s$2907);
try {var a$2909 = f$2904(is$2908);
basis$0TextIO$1.closeIn$172(is$2908);
return a$2909;
} catch(v$4965) {return (function(s$m$2914){basis$0TextIO$1.closeIn$172(is$2908);
throw s$m$2914;
})(v$4965);
};
};
smltojs0$0SmlToJsComp$1$8.writeFile$2917 = function(f$2920,t$2923){var os$2924 = basis$0TextIO$1.openOut$108(f$2920);
try {basis$0TextIO$1.output$110(os$2924,t$2923);
return basis$0TextIO$1.closeOut$129(os$2924);
} catch(v$4966) {return (function(s$m$2929){basis$0TextIO$1.closeOut$129(os$2924);
throw s$m$2929;
})(v$4966);
};
};
var fix$4967 = {};
fix$4967.$pr_tynames = function(v$2935){if (v$2935 == null) {return "";
} else {var v$2945 = v$2935;
var v$2946 = v$2945[1];
if (v$2946 == null) {var v$2947 = v$2945[0];
return special_objects$0TyName$1$1.pr_TyName$333(v$2947[0],v$2947[1],v$2947[2],v$2947[3],v$2947[4],v$2947[5]);
} else {var v$2948 = v$2945[0];
return ((special_objects$0TyName$1$1.pr_TyName$333(v$2948[0],v$2948[1],v$2948[2],v$2948[3],v$2948[4],v$2948[5])) + ", ") + (fix$4967.$pr_tynames(v$2946));
};
};
};
smltojs0$0SmlToJsComp$1$8.pr_tynames$2932 = fix$4967.$pr_tynames;
smltojs0$0SmlToJsComp$1$8.print_basis$2949 = function(B$2952){return tools$0PrettyPrint$1.outputTree$1072([function(v$4961){return basis$0General$1.print$163(v$4961);
},basics$0ModuleEnvironments$1.layout$519(B$2952),100]);
};
smltojs0$0SmlToJsComp$1$8.print_intbasis$2953 = function(ib$2956){return tools$0PrettyPrint$1.outputTree$1072([function(v$4962){return basis$0General$1.print$163(v$4962);
},smltojs0$0SmlToJsComp$1$4.layout$985(ib$2956),100]);
};
smltojs0$0SmlToJsComp$1$8.out_functor_application$2957 = function(s$2960){var os$2962 = basis$0TextIO$1.openAppend$109("/tmp/functor_apps.txt");
basis$0TextIO$1.output$110(os$2962,s$2960 + "\n");
return basis$0TextIO$1.closeOut$129(os$2962);
};
smltojs0$0SmlToJsComp$1$8.to_TypeInfo$2965 = function(i$2968){var v$2973 = basics$0ElabInfo$1.to_TypeInfo$202(i$2968);
switch (v$2973[0]) { case 0: {var v$2975 = v$2973[1];
return [0,basics$0TypeInfo$1.normalise$310(v$2975)];
 break; }default: {return [1];
} };
};
var counter$2976 = [0];
smltojs0$0SmlToJsComp$1$8.fresh_unitname$2982 = function(v$2984){var t$4969 = basis$0Int32$1.toString$458;
var t$4968;
(counter$2976[0] = (SmlPrims.chk_ovf_i32(counter$2976[0] + 1)),0);
t$4968 = counter$2976[0];
return t$4969(t$4968);
};
smltojs0$0SmlToJsComp$1$8.reset_unitname_counter$2985 = function(v$2987){return (counter$2976[0] = 0,0);
};
smltojs0$0SmlToJsComp$1$8.on_ElabInfo$2988 = function(phi$2991,i$2994){var v$2999;
var v$4410 = basics$0ElabInfo$1.to_TypeInfo$202(i$2994);
switch (v$4410[0]) { case 0: {var v$4411 = v$4410[1];
v$2999 = [0,basics$0TypeInfo$1.normalise$310(v$4411)];
 break; }default: {v$2999 = [1];
} };
switch (v$2999[0]) { case 0: {var v$3001 = v$2999[1];
return basics$0ElabInfo$1.plus_TypeInfo$128(i$2994,basics$0TypeInfo$1.on_TypeInfo$306([phi$2991,v$3001]));
 break; }default: {return i$2994;
} };
};
smltojs0$0SmlToJsComp$1$8.extract_strexp_from_topdec$3002 = function(v$4947,v$3037){switch (v$3037[0]) { case 0: {var v$3015 = v$3037[1];
switch (v$3015[2][0]) { case 1: {var v$3034 = v$3015[1];
switch (v$3034[0]) { case 0: {var v$3031 = v$3034[1];
var v$3032 = v$3031[1];
var v$3028 = v$3032[1];
switch (v$3028[3][0]) { case 1: {return v$3028[2];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
};
smltojs0$0SmlToJsComp$1$8.derived_form_repair$3038 = function(v$3088,v$3089,v$3090){switch (v$3088[0]) { case 1: {return v$3090;
 break; }default: {var v$3087 = v$3088[1];
switch (v$3090[0]) { case 0: {var v$3062 = v$3090[1];
var v$3063 = v$3062[1];
switch (v$3063[0]) { case 0: {var v$3065 = v$3063[1];
var v$3066 = v$3065[1];
var v$3067 = v$3066[1];
switch (v$3067[3][0]) { case 1: {switch (v$3062[2][0]) { case 1: {var v$3081 = v$3062[0];
var v$3082 = v$3065[0];
var v$3083 = v$3067[0];
var v$3084 = v$3067[1];
var v$3085 = v$3067[2];
var open_info$3070;
var t$4973 = basics$0ElabInfo$1.plus_TypeInfo$128;
var t$4972 = v$3081;
var t$4971;
var t$4970;
var v$3075 = basics$0Environments$1.un$2351(v$3087);
var v$3076 = v$3075[0];
var v$3077 = v$3075[1];
var v$3078 = v$3075[2];
t$4970 = [edlib$0EqSet$1.list$107(basics$0Environments$1.dom$2162(v$3076)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1816(v$3077)),edlib$0EqSet$1.list$107(basics$0Environments$1.dom$1166(v$3078))];
t$4971 = [7,t$4970];
open_info$3070 = (t$4973(t$4972,t$4971));
return [0,[v$3081,[0,[v$3082,[0,[v$3083,v$3084,[4,[v$3082,[4,[v$3081,[5,[open_info$3070,[[0,[open_info$3070,syntax_objects$0StrId$1.longStrIdOfStrId$130(v$3089)]],null]]]]],v$3085]],[1]]]]],[1]]];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.derived_form_repair.topdec is not a single structure binding.");
} };
} };
};
smltojs0$0SmlToJsComp$1$8.reelaborate$3091 = function(v$3252,v$3253,v$3254){try {var v$3218;
if (syntax_objects$0StrId$1.invented_StrId$122(v$3253)) {var E$3225;
var v$3230 = (basics$0ModuleEnvironments$1.lookup_strid$572(v$3254[2]))(v$3253);
switch (v$3230[0]) { case 0: {E$3225 = v$3230[1];
 break; }default: {E$3225 = (tools$0Crash$1.impossible$59("IntModules.reelaborate.strid not in elabB"));
} };
v$3218 = [basics$0ModuleEnvironments$1.plus_E$537(v$3254[2],E$3225),[0,E$3225]];
} else {v$3218 = [v$3254[2],[1]];
};
var v$3219 = v$3218[0];
var v$3220 = v$3218[1];
var names_old$3100 = special_objects$0Name$1.bucket$144[0];
(special_objects$0Name$1.bucket$144[0] = null,0);
var res$3101 = basics$0ParseElab$1.parse_elab$275(v$3254[1],v$3219,v$3254[5],[0,v$3254[4]]);
switch (res$3101[0]) { case 1: {var v$3129 = res$3101[1];
var v$3130 = v$3129[0];
tools$0Report$1.print$$242(v$3130,tools$0Flags$1$1.log$101[0]);
return tools$0Crash$1.impossible$59("IntModules.reelaborate.ParseElab.FAILURE");
 break; }default: {var v$3215 = res$3101[1];
var v$3216 = v$3215[0];
var v$3217 = v$3215[3];
var resE$$3132;
var v$3137 = (basics$0ModuleEnvironments$1.lookup_strid$572(v$3216))(syntax_objects$0StrId$1.mk_StrId$103(syntax_objects$0FunId$1.pr_FunId$60(v$3252)));
switch (v$3137[0]) { case 0: {resE$$3132 = v$3137[1];
 break; }default: {resE$$3132 = (tools$0Crash$1.impossible$59("IntModules.reelaborate.the builder has been applied - but I cannot find `funid' in resulting structure env."));
} };
var topdec$3140 = smltojs0$0SmlToJsComp$1$8.derived_form_repair$3038(v$3220,v$3253,v$3217);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[opacity elimination begin...]\n")):0;
var v$4959 = v$3254[6];
var v$3208 = basics$0OpacityElim$1.opacity_elimination$1586(v$4959,topdec$3140);
var v$3209 = v$3208[0];
var v$3210 = v$3208[1];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[opacity elimination end...]\n")):0;
var resE$$3148 = basics$0Environments$1.on_Env$3796(v$3210[1],resE$$3132);
var resE$$3149 = basics$0Environments$1.on_Env$3796(v$3254[6][1],resE$$3148);
var names_elab$3154 = special_objects$0Name$1.bucket$144[0];
(special_objects$0Name$1.bucket$144[0] = names_old$3100,0);
var fix$4975 = {};
fix$4975.$app = function(v$4464){lab$app: while (true) {if (v$4464 == null) {return 0;
} else {var v$4465 = v$4464;
var v$4466 = v$4465[0];
var v$4467 = v$4465[1];
(v$4466[2][0][0][0] = true,0);
var t$4976 = v$4467;
var v$4464 = t$4976;
continue lab$app;
};
};
};
var app$4463 = fix$4975.$app;
app$4463(v$3254[0]);
var fix$4977 = {};
fix$4977.$app = function(v$4476){lab$app: while (true) {if (v$4476 == null) {return 0;
} else {var v$4477 = v$4476;
var v$4478 = v$4477[0];
var v$4479 = v$4477[1];
(v$4478[0][0][0] = true,0);
var t$4978 = v$4479;
var v$4476 = t$4978;
continue lab$app;
};
};
};
var app$4475 = fix$4977.$app;
app$4475(names_elab$3154);
(special_objects$0Name$1.rematching$185[0] = true,0);
basics$0Environments$1.match$3187(resE$$3149,v$3254[7]);
(special_objects$0Name$1.rematching$185[0] = false,0);
var fix$4979 = {};
fix$4979.$app = function(v$4486){lab$app: while (true) {if (v$4486 == null) {return 0;
} else {var v$4487 = v$4486;
var v$4488 = v$4487[0];
var v$4489 = v$4487[1];
(v$4488[2][0][0][0] = false,0);
var t$4980 = v$4489;
var v$4486 = t$4980;
continue lab$app;
};
};
};
var app$4485 = fix$4979.$app;
app$4485(v$3254[0]);
var fix$4981 = {};
fix$4981.$app = function(v$4498){lab$app: while (true) {if (v$4498 == null) {return 0;
} else {var v$4499 = v$4498;
var v$4500 = v$4499[0];
var v$4501 = v$4499[1];
(v$4500[0][0][0] = false,0);
var t$4982 = v$4501;
var v$4498 = t$4982;
continue lab$app;
};
};
};
var app$4497 = fix$4981.$app;
app$4497(names_elab$3154);
if (basics$0Environments$1.eq$3127([v$3254[7],resE$$3149])) {0;
} else {basis$0General$1.print$163("Check on environments failed\n");
basis$0General$1.print$163("\nresE = \n");
tools$0PrettyPrint$1.printTree$1079(basics$0Environments$1.layout$2610(v$3254[7]));
basis$0General$1.print$163("\nresE' = \n");
tools$0PrettyPrint$1.printTree$1079(basics$0Environments$1.layout$2610(resE$$3149));
basis$0General$1.print$163(("\nT = {" + (smltojs0$0SmlToJsComp$1$8.pr_tynames$2932(v$3254[0]))) + "}\n");
tools$0Crash$1.impossible$59("IntModules.reelaborate.the builder has been applied - but the result environments are not equal (after matching.)");
};
switch (v$3209[0]) { case 0: {var v$4934 = v$3209[1];
switch (v$4934[2][0]) { case 1: {var v$4935 = v$4934[1];
switch (v$4935[0]) { case 0: {var v$4936 = v$4935[1];
var v$4937 = v$4936[1];
var v$4938 = v$4937[1];
switch (v$4938[3][0]) { case 1: {return v$4938[2];
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no structure binding");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.extract_strexp_from_topdec.no (or more than one) structure declaration");
} };
} };
} catch(v$4974) {return (function(X$3247){basis$0General$1.print$163(("Error while reconstructing functor body for " + (syntax_objects$0FunId$1.pr_FunId$60(v$3252))) + "\n");
basis$0General$1.print$163(X$3247[0]);
throw X$3247;
})(v$4974);
};
};
smltojs0$0SmlToJsComp$1$8.lookupInlineFunApp$3255 = function(ife$3258,funid$3261){var v$3274 = smltojs0$0SmlToJsComp$1$4.lookup$362(ife$3258,funid$3261);
var v$3276 = v$3274[1];
var v$3277 = v$3274[2];
var v$3278 = v$3274[3];
var v$3279 = v$3274[4];
var v$3271 = smltojs0$0SmlToJsComp$1$4.un$610(v$3279);
var v$3272 = v$3271[0];
var v$3273 = v$3271[2];
return [v$3276,v$3277,smltojs0$0SmlToJsComp$1$8.reelaborate$3091(funid$3261,v$3276,v$3278),v$3273,v$3272];
};
smltojs0$0SmlToJsComp$1$8.compile_strdecs$3280 = function(v$4948,v$4949,v$3295,v$4950){if (v$3295 == null) {return [compiler_objects$0CompilerEnv$1$7.emptyCEnv$4595,smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2560];
} else {var v$3347 = smltojs0$0SmlToJsComp$1$4.un$610(v$4949);
var v$3348 = v$3347[2];
var v$3349 = v$3347[3];
var v$3331;
switch (v$4950[0]) { case 0: {v$3331 = [v$4950[1],function(v$3341){return 0;
}];
 break; }default: {var i$3343;
var t$4984 = basis$0Int32$1.toString$458;
var t$4983;
(counter$2976[0] = (SmlPrims.chk_ovf_i32(counter$2976[0] + 1)),0);
t$4983 = counter$2976[0];
i$3343 = (t$4984(t$4983));
var name$3344 = special_objects$0Name$1.baseGet$65(0);
special_objects$0Name$1.baseSet$61((name$3344 + "$") + i$3343);
v$3331 = ["code" + i$3343,function(v$3346){return special_objects$0Name$1.baseSet$61(name$3344);
}];
} };
var v$3332 = v$3331[0];
var v$3333 = v$3331[1];
var vcg_filename$3305 = v$3332 + ".vcg";
var res$3306 = smltojs0$0ExecutionJS$1.compile$106([(smltojs0$0SmlToJsComp$1$4.un$610(v$4949))[0],function(ife$4521){return function(funid$4522){var v$4523 = smltojs0$0SmlToJsComp$1$4.lookup$362(ife$4521,funid$4522);
var v$4524 = v$4523[1];
var v$4525 = v$4523[2];
var v$4526 = v$4523[3];
var v$4527 = v$4523[4];
var v$4528 = smltojs0$0SmlToJsComp$1$4.un$610(v$4527);
var v$4529 = v$4528[0];
var v$4530 = v$4528[2];
return [v$4524,v$4525,smltojs0$0SmlToJsComp$1$8.reelaborate$3091(funid$4522,v$4524,v$4526),v$4530,v$4529];
};
}],[v$3348,v$3349,v$3295,vcg_filename$3305]);
v$3333(0);
var fix$4985 = {};
fix$4985.$app = function(v$4533){lab$app: while (true) {if (v$4533 == null) {return 0;
} else {var v$4534 = v$4533;
var v$4535 = v$4534[0];
var v$4536 = v$4534[1];
if (v$4535[0][2]) {0;
} else {var v$4538 = v$4535[0][1];
(v$4535[0] = [[false],v$4538,true],0);
};
var t$4986 = v$4536;
var v$4533 = t$4986;
continue lab$app;
};
};
};
var app$4532 = fix$4985.$app;
app$4532(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
switch (res$3306[0]) { case 0: {var v$3325 = res$3306[1];
var v$3326 = v$3325[0];
var v$3327 = v$3325[1];
var v$3328 = v$3325[2];
var v$3329 = v$3325[3];
return [v$3326,v$3327,smltojs0$0SmlToJsComp$1$5.mk_modcode$2561(v$3328,v$3329,v$3332)];
 break; }default: {return [res$3306[1],smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2560];
} };
};
};
var fix$4987 = {};
fix$4987.$funapp_strbind = function(v$3396){var v$3412 = v$3396[1];
var v$3413 = v$3412[2];
var v$3414 = v$3412[3];
if (fix$4987.$funapp_strexp(v$3413)) {return true;
} else {switch (v$3414[0]) { case 0: {var v$3411 = v$3414[1];
return fix$4987.$funapp_strbind(v$3411);
 break; }default: {return false;
} };
};
};
fix$4987.$funapp_strdec = function(strdec$3358){switch (strdec$3358[0]) { case 0: {var v$3392 = strdec$3358[1];
var v$3393 = v$3392[1];
return fix$4987.$funapp_strbind(v$3393);
 break; }case 1: {var v$3388 = strdec$3358[1];
var v$3389 = v$3388[1];
var v$3390 = v$3388[2];
if (fix$4987.$funapp_strdec(v$3389)) {return true;
} else {return fix$4987.$funapp_strdec(v$3390);
};
 break; }case 2: {var v$3380 = strdec$3358[1];
var v$3381 = v$3380[1];
var v$3382 = v$3380[2];
if (fix$4987.$funapp_strdec(v$3381)) {return true;
} else {return fix$4987.$funapp_strdec(v$3382);
};
 break; }case 3: {return false;
 break; }default: {return false;
} };
};
fix$4987.$funapp_strexp = function(strexp$3417){switch (strexp$3417[0]) { case 1: {var v$3444 = strexp$3417[1];
var v$3445 = v$3444[1];
return fix$4987.$funapp_strdec(v$3445);
 break; }case 0: {var v$3441 = strexp$3417[1];
var v$3442 = v$3441[1];
return fix$4987.$funapp_strexp(v$3442);
 break; }case 2: {var v$3438 = strexp$3417[1];
var v$3439 = v$3438[1];
return fix$4987.$funapp_strexp(v$3439);
 break; }case 5: {return true;
 break; }case 3: {return false;
 break; }default: {var v$3450 = strexp$3417[1];
var v$3451 = v$3450[1];
var v$3452 = v$3450[2];
if (fix$4987.$funapp_strdec(v$3451)) {return true;
} else {return fix$4987.$funapp_strexp(v$3452);
};
} };
};
smltojs0$0SmlToJsComp$1$8.funapp_strbind$3354 = fix$4987.$funapp_strbind;
smltojs0$0SmlToJsComp$1$8.funapp_strdec$3355 = fix$4987.$funapp_strdec;
smltojs0$0SmlToJsComp$1$8.funapp_strexp$3353 = fix$4987.$funapp_strexp;
var fix$4988 = {};
fix$4988.$push_topdec = function(v$3457){switch (v$3457[0]) { case 1: {var v$3504 = v$3457[1];
var v$3505 = v$3504[0];
var v$3506 = v$3504[1];
var v$3507 = v$3504[2];
var t$5025 = [1];
var t$5024;
var t$5023;
var t$5022;
var t$5021 = v$3505;
var t$5020 = v$3506;
var t$5019;
var v$3498 = fix$4988.$push_topdec_opt(v$3507);
var v$3499 = v$3498[0];
switch (v$3499[0]) { case 0: {t$5019 = [0,[0,[v$3505,v$3499[1],v$3498[1]]]];
 break; }default: {t$5019 = v$3498[1];
} };
t$5022 = [t$5021,t$5020,t$5019];
t$5023 = [1,t$5022];
t$5024 = [0,t$5023];
return [t$5025,t$5024];
 break; }case 0: {var v$3486 = v$3457[1];
var v$3487 = v$3486[0];
var v$3488 = v$3486[1];
var v$3489 = v$3486[2];
var v$3480 = fix$4988.$push_topdec_opt(v$3489);
var v$3481 = v$3480[0];
switch (v$3481[0]) { case 0: {return [[0,[1,[v$3487,v$3488,v$3481[1]]]],v$3480[1]];
 break; }default: {return [[0,v$3488],v$3480[1]];
} };
 break; }default: {var v$3521 = v$3457[1];
var v$3522 = v$3521[0];
var v$3523 = v$3521[1];
var v$3524 = v$3521[2];
var t$5032 = [1];
var t$5031;
var t$5030;
var t$5029;
var t$5028 = v$3522;
var t$5027 = v$3523;
var t$5026;
var v$3515 = fix$4988.$push_topdec_opt(v$3524);
var v$3516 = v$3515[0];
switch (v$3516[0]) { case 0: {t$5026 = [0,[0,[v$3522,v$3516[1],v$3515[1]]]];
 break; }default: {t$5026 = v$3515[1];
} };
t$5029 = [t$5028,t$5027,t$5026];
t$5030 = [2,t$5029];
t$5031 = [0,t$5030];
return [t$5032,t$5031];
} };
};
fix$4988.$push_topdec_opt = function(v$3527){switch (v$3527[0]) { case 0: {var v$3534 = v$3527[1];
return fix$4988.$push_topdec(v$3534);
 break; }default: {return [[1],[1]];
} };
};
smltojs0$0SmlToJsComp$1$8.push_topdec$3454 = fix$4988.$push_topdec;
smltojs0$0SmlToJsComp$1$8.push_topdec_opt$3453 = fix$4988.$push_topdec_opt;
var fix$4989 = {};
fix$4989.$strdecs_of_strdec = function(v$3553,v$3554){lab$strdecs_of_strdec: while (true) {switch (v$3553[0]) { case 3: {return v$3554;
 break; }case 1: {var v$3549 = v$3553[1];
var v$3550 = v$3549[1];
var v$3551 = v$3549[2];
var t$4990 = v$3550;
var t$4991 = fix$4989.$strdecs_of_strdec(v$3551,v$3554);
var v$3553 = t$4990;
var v$3554 = t$4991;
continue lab$strdecs_of_strdec;
 break; }default: {return [v$3553,v$3554];
} };
};
};
smltojs0$0SmlToJsComp$1$8.strdecs_of_strdec$3535 = fix$4989.$strdecs_of_strdec;
var fix$4992 = {};
fix$4992.$int_strbind = function(v$3713,v$3714){var v$3715 = v$3714[1];
var v$3717 = v$3715[1];
var v$3718 = v$3715[2];
var v$3719 = v$3715[3];
var v$3709 = fix$4992.$int_strexp(v$3713,v$3718);
var v$3710 = v$3709[0];
var v$3711 = v$3709[1];
var v$3712 = v$3709[2];
var ce$3693 = compiler_objects$0CompilerEnv$1$7.declare_strid$4814(v$3717,v$3710,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4595);
switch (v$3719[0]) { case 0: {var v$3708 = v$3719[1];
var v$3704 = fix$4992.$int_strbind(v$3713,v$3708);
var v$3705 = v$3704[0];
var v$3706 = v$3704[1];
var v$3707 = v$3704[2];
return [compiler_objects$0CompilerEnv$1$7.plus$4867(ce$3693,v$3705),smltojs0$0CompileBasisJS$1.plus$76(v$3711,v$3706),smltojs0$0SmlToJsComp$1$5.seq$2553(v$3712,v$3707)];
 break; }default: {return [ce$3693,v$3711,v$3712];
} };
};
fix$4992.$int_strdec = function(v$3677,v$3678){switch (v$3678[0]) { case 0: {var v$3674 = v$3678[1];
var v$3676 = v$3674[1];
return fix$4992.$int_strbind(v$3677,v$3676);
 break; }case 2: {var v$3669 = v$3678[1];
var v$3671 = v$3669[1];
var v$3672 = v$3669[2];
var v$3665 = fix$4992.$comp_int_strdec(false,v$3677,v$3671,[1]);
var v$3666 = v$3665[0];
var v$3667 = v$3665[1];
var v$3668 = v$3665[2];
var intB1$3656 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3666,v$3667]);
var v$3661 = fix$4992.$comp_int_strdec(false,smltojs0$0SmlToJsComp$1$4.plus$619(v$3677,intB1$3656),v$3672,[1]);
var v$3662 = v$3661[0];
var v$3663 = v$3661[1];
var v$3664 = v$3661[2];
return [v$3662,smltojs0$0CompileBasisJS$1.plus$76(v$3667,v$3663),smltojs0$0SmlToJsComp$1$5.seq$2553(v$3668,v$3664)];
 break; }case 4: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.DECstrdec.the compiler should deal with this");
 break; }case 3: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.EMPTYstrdec.linearization failed");
 break; }default: {return tools$0Crash$1.impossible$59("IntModules.int_strdec.SEQstrdec.linearization failed");
} };
};
fix$4992.$comp_int_strdec = function(v$3626,v$3627,v$3628,v$3629){var fix$5015 = {};
fix$5015.$loop = function(v$4952,v$3579,v$4953){lab$loop: while (true) {if (v$3579 == null) {return smltojs0$0SmlToJsComp$1$8.compile_strdecs$3280(v$3626,v$4952,basis$0List$1.rev$682(v$4953),v$3629);
} else {var v$3621 = v$3579;
var v$3622 = v$3621[0];
var v$3623 = v$3621[1];
if ((v$3626?false:true)?(smltojs0$0SmlToJsComp$1$8.funapp_strdec$3355(v$3622)):false) {var v$3612 = smltojs0$0SmlToJsComp$1$8.compile_strdecs$3280(v$3626,v$4952,basis$0List$1.rev$682(v$4953),[1]);
var v$3613 = v$3612[0];
var v$3614 = v$3612[1];
var v$3615 = v$3612[2];
var intB1$3590 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3613,v$3614]);
var intB$$3591 = smltojs0$0SmlToJsComp$1$4.plus$619(v$4952,intB1$3590);
var v$3608 = fix$4992.$int_strdec(intB$$3591,v$3622);
var v$3609 = v$3608[0];
var v$3610 = v$3608[1];
var v$3611 = v$3608[2];
var intB2$3596 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3609,v$3610]);
var v$3604 = fix$5015.$loop(smltojs0$0SmlToJsComp$1$4.plus$619(intB$$3591,intB2$3596),v$3623,null);
var v$3605 = v$3604[0];
var v$3606 = v$3604[1];
var v$3607 = v$3604[2];
return [compiler_objects$0CompilerEnv$1$7.plus$4867(v$3613,compiler_objects$0CompilerEnv$1$7.plus$4867(v$3609,v$3605)),smltojs0$0CompileBasisJS$1.plus$76(v$3614,smltojs0$0CompileBasisJS$1.plus$76(v$3610,v$3606)),smltojs0$0SmlToJsComp$1$5.seq$2553(v$3615,smltojs0$0SmlToJsComp$1$5.seq$2553(v$3611,v$3607))];
} else {var t$5016 = v$4952;
var t$5017 = v$3623;
var t$5018 = [v$3622,v$4953];
var v$4952 = t$5016;
var v$3579 = t$5017;
var v$4953 = t$5018;
continue lab$loop;
};
};
};
};
var loop$3565 = fix$5015.$loop;
var strdecs$3625 = smltojs0$0SmlToJsComp$1$8.strdecs_of_strdec$3535(v$3628,null);
return loop$3565(v$3627,strdecs$3625,null);
};
fix$4992.$int_strexp = function(v$3943,v$3944){switch (v$3944[0]) { case 1: {var v$3919 = v$3944[1];
var v$3921 = v$3919[1];
return fix$4992.$comp_int_strdec(false,v$3943,v$3921,[1]);
 break; }case 3: {var v$3915 = v$3944[1];
var v$3917 = v$3915[1];
var v$3913 = smltojs0$0SmlToJsComp$1$4.un$610(v$3943);
var v$3914 = v$3913[2];
var v$3910 = syntax_objects$0StrId$1.explode_longstrid$92(v$3917);
var v$3911 = v$3910[0];
var v$3912 = v$3910[1];
var fix$5012 = {};
fix$5012.$lookup = function(v$4951,v$3903){lab$lookup: while (true) {if (v$3903 == null) {return compiler_objects$0CompilerEnv$1$7.lookup_strid$4948(v$4951,v$3912);
} else {var v$3906 = v$3903;
var v$3907 = v$3906[0];
var v$3908 = v$3906[1];
var t$5013 = compiler_objects$0CompilerEnv$1$7.lookup_strid$4948(v$4951,v$3907);
var t$5014 = v$3908;
var v$4951 = t$5013;
var v$3903 = t$5014;
continue lab$lookup;
};
};
};
var lookup$3891 = fix$5012.$lookup;
return [lookup$3891(v$3914,v$3911),smltojs0$0CompileBasisJS$1.empty$74,smltojs0$0SmlToJsComp$1$5.empty$2560];
 break; }case 0: {var v$3881 = v$3944[1];
var v$3882 = v$3881[0];
var v$3883 = v$3881[1];
var v$3877 = fix$4992.$int_strexp(v$3943,v$3883);
var v$3878 = v$3877[0];
var v$3879 = v$3877[1];
var v$3880 = v$3877[2];
var E$3864;
var v$3870;
var v$4541 = basics$0ElabInfo$1.to_TypeInfo$202(v$3882);
switch (v$4541[0]) { case 0: {var v$4542 = v$4541[1];
v$3870 = [0,basics$0TypeInfo$1.normalise$310(v$4542)];
 break; }default: {v$3870 = [1];
} };
switch (v$3870[0]) { case 0: {var v$3872 = v$3870[1];
switch (v$3872[0]) { case 3: {E$3864 = v$3872[1];
 break; }default: {E$3864 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.TRANSPARENT_CONSTRAINTstrexp.no env info"));
} };
 break; }default: {E$3864 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.TRANSPARENT_CONSTRAINTstrexp.no env info"));
} };
return [compiler_objects$0CompilerEnv$1$7.constrain$5899(v$3878,E$3864),v$3879,v$3880];
 break; }case 2: {return tools$0Crash$1.impossible$59("IntModules.OPAQUE_CONSTRAINTstrexp.should be eliminated at this stage");
 break; }case 5: {var v$3850 = v$3944[1];
var v$3851 = v$3850[0];
var v$3852 = v$3850[1];
var v$3853 = v$3850[2];
var s$4553 = ("[interpreting functor argument to functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3852))) + " begin...]";
if (tools$0Flags$1$1.chat$86[0]) {var s$4554 = s$4553 + "\n";
basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],s$4554);
} else {0;
};
var fix$5006 = {};
fix$5006.$app = function(v$4560){lab$app: while (true) {if (v$4560 == null) {return 0;
} else {var v$4561 = v$4560;
var v$4562 = v$4561[0];
var v$4563 = v$4561[1];
if (v$4562[0][2]) {0;
} else {var v$4565 = v$4562[0][1];
(v$4562[0] = [[false],v$4565,true],0);
};
var t$5007 = v$4563;
var v$4560 = t$5007;
continue lab$app;
};
};
};
var app$4559 = fix$5006.$app;
app$4559(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
var v$3831;
var v$3841;
var v$4568 = basics$0ElabInfo$1.to_TypeInfo$202(v$3851);
switch (v$4568[0]) { case 0: {var v$4569 = v$4568[1];
v$3841 = [0,basics$0TypeInfo$1.normalise$310(v$4569)];
 break; }default: {v$3841 = [1];
} };
switch (v$3841[0]) { case 0: {var v$3843 = v$3841[1];
switch (v$3843[0]) { case 12: {var v$3845 = v$3843[1];
var v$3846 = v$3845[2];
var v$3847 = v$3845[1];
var v$3848 = v$3845[0];
v$3831 = [basics$0StatObject$1.oo$4792(v$3846,v$3847),v$3848];
 break; }default: {v$3831 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.APPstrexp.no (phi,E) info"));
} };
 break; }default: {v$3831 = (tools$0Crash$1.impossible$59("IntModules.int_strexp.APPstrexp.no (phi,E) info"));
} };
var v$3832 = v$3831[0];
var v$3827 = fix$4992.$int_strexp(v$3943,v$3853);
var v$3828 = v$3827[0];
var v$3829 = v$3827[1];
var v$3830 = v$3827[2];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor argument end...]\n")):0;
var v$3817 = smltojs0$0SmlToJsComp$1$4.lookup$362((smltojs0$0SmlToJsComp$1$4.un$610(v$3943))[0],v$3852);
var v$3818 = v$3817[0];
var v$3819 = v$3817[1];
var v$3820 = v$3817[2];
var v$3821 = v$3817[3];
var v$3822 = v$3817[4];
var E$$3766 = basics$0Environments$1.on_Env$3796(v$3832,v$3820);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[constraining argument begin...]\n")):0;
var ce$3767 = compiler_objects$0CompilerEnv$1$7.constrain$5899(v$3828,E$$3766);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[constraining argument end...]\n")):0;
var intB1$3768 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,compiler_objects$0CompilerEnv$1$7.declare_strid$4814(v$3819,ce$3767,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4595),smltojs0$0CompileBasisJS$1.plus$76((smltojs0$0SmlToJsComp$1$4.un$610(v$3943))[3],v$3829)]);
basis$0General$1.print$163(((("[compiling body of functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3852))) + " (from project ") + v$3818) + ") begin]\n");
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[recreating functor body begin...]\n")):0;
var strexp0$3779 = smltojs0$0SmlToJsComp$1$8.reelaborate$3091(v$3852,v$3819,v$3821);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[recreating functor body end...]\n")):0;
var v$3796;
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[finding free identifiers begin...]\n")):0;
var v$3811 = basics$0FreeIds$1.fid_strexp$2107(strexp0$3779);
var v$3812 = v$3811[0];
var v$3813 = v$3811[1];
var v$3814 = v$3811[2];
var v$3815 = v$3811[3];
var v$3816 = v$3811[4];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[finding free identifiers end...]\n")):0;
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[restricting interpretation basis begin...]\n")):0;
var intB$$3805 = smltojs0$0SmlToJsComp$1$4.restrict$719(smltojs0$0SmlToJsComp$1$4.plus$619(v$3822,intB1$3768),[v$3812,v$3813,v$3814,v$3815,v$3816],special_objects$0TyName$1$3.empty$2726);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[restricting interpretation basis end...]\n")):0;
v$3796 = [intB$$3805,v$3813];
var v$3797 = v$3796[0];
var strexp0$$3783 = basics$0PostElabGrammar$1$3.map_strexp_info$4278(function(i$4615){var v$4616;
var v$4618 = basics$0ElabInfo$1.to_TypeInfo$202(i$4615);
switch (v$4618[0]) { case 0: {var v$4619 = v$4618[1];
v$4616 = [0,basics$0TypeInfo$1.normalise$310(v$4619)];
 break; }default: {v$4616 = [1];
} };
switch (v$4616[0]) { case 0: {var v$4620 = v$4616[1];
return basics$0ElabInfo$1.plus_TypeInfo$128(i$4615,basics$0TypeInfo$1.on_TypeInfo$306([v$3832,v$4620]));
 break; }default: {return i$4615;
} };
},strexp0$3779);
var fix$5008 = {};
fix$5008.$app = function(v$4623){lab$app: while (true) {if (v$4623 == null) {return 0;
} else {var v$4624 = v$4623;
var v$4625 = v$4624[0];
var v$4626 = v$4624[1];
if (v$4625[0][2]) {0;
} else {var v$4628 = v$4625[0][1];
(v$4625[0] = [[false],v$4628,true],0);
};
var t$5009 = v$4626;
var v$4623 = t$5009;
continue lab$app;
};
};
};
var app$4622 = fix$5008.$app;
app$4622(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor body begin...]\n")):0;
var v$3792 = fix$4992.$int_strexp(v$3797,strexp0$$3783);
var v$3793 = v$3792[0];
var v$3794 = v$3792[1];
var v$3795 = v$3792[2];
tools$0Flags$1$1.chat$86[0]?(basis$0TextIO$1.output$110(tools$0Flags$1$1.log$101[0],"[interpreting functor body end...]\n")):0;
special_objects$0Name$1.bucket$144[0];
var fix$5010 = {};
fix$5010.$app = function(v$4639){lab$app: while (true) {if (v$4639 == null) {return 0;
} else {var v$4640 = v$4639;
var v$4641 = v$4640[0];
var v$4642 = v$4640[1];
if (v$4641[0][2]) {0;
} else {var v$4644 = v$4641[0][1];
(v$4641[0] = [[false],v$4644,true],0);
};
var t$5011 = v$4642;
var v$4639 = t$5011;
continue lab$app;
};
};
};
var app$4638 = fix$5010.$app;
app$4638(special_objects$0Name$1.bucket$144[0]);
(special_objects$0Name$1.bucket$144[0] = null,0);
smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3793,v$3794]);
return [[v$3793,smltojs0$0CompileBasisJS$1.plus$76(v$3829,v$3794),smltojs0$0SmlToJsComp$1$5.seq$2553(v$3830,v$3795)],basis$0General$1.print$163(("[compiling body of functor " + (syntax_objects$0FunId$1.pr_FunId$60(v$3852))) + " end]\n")][0];
 break; }default: {var v$3939 = v$3944[1];
var v$3941 = v$3939[1];
var v$3942 = v$3939[2];
var v$3935 = fix$4992.$comp_int_strdec(false,v$3943,v$3941,[1]);
var v$3936 = v$3935[0];
var v$3937 = v$3935[1];
var v$3938 = v$3935[2];
var intB1$3926 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$3936,v$3937]);
var v$3931 = fix$4992.$int_strexp(smltojs0$0SmlToJsComp$1$4.plus$619(v$3943,intB1$3926),v$3942);
var v$3932 = v$3931[0];
var v$3933 = v$3931[1];
var v$3934 = v$3931[2];
return [v$3932,smltojs0$0CompileBasisJS$1.plus$76(v$3937,v$3933),smltojs0$0SmlToJsComp$1$5.seq$2553(v$3938,v$3934)];
} };
};
smltojs0$0SmlToJsComp$1$8.int_strbind$3556 = fix$4992.$int_strbind;
smltojs0$0SmlToJsComp$1$8.int_strdec$3557 = fix$4992.$int_strdec;
smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3558 = fix$4992.$comp_int_strdec;
smltojs0$0SmlToJsComp$1$8.int_strexp$3555 = fix$4992.$int_strexp;
smltojs0$0SmlToJsComp$1$8.generate_BBC$3945 = function(v$3987,v$3988,v$4954,v$3990,v$4955){var v$3991 = v$3990[2];
var v$3992 = v$3990[1];
var v$3993 = v$3990[0];
var v$3994 = v$3990[4];
var v$3995 = v$3990[3];
try {var funid_string$3957 = syntax_objects$0FunId$1.pr_FunId$60(v$3988);
var info$3962 = basics$0PostElabGrammar$1$3.info_on_strexp$3840(v$4955);
var v$3976;
var x$4944 = basics$0ElabInfo$1.to_ParseInfo$192(info$3962);
v$3976 = (basics$0SourceInfo$1.to_positions$67(basics$0ParseInfo$1.to_SourceInfo$93(x$4944)));
var v$3977 = v$3976[0];
var v$3978 = v$3976[1];
var filetext$3966 = (("structure " + funid_string$3957) + " ") + (basics$0LexBasics$1.get_source$553(v$3977,v$3978));
return [v$3993,v$3987,v$3992,manager0$0MD5$1.fromString$427(filetext$3966),filetext$3966,v$3991,v$3995,v$3994];
} catch(v$4993) {return (function(X$3983){var t$4994 = X$3983;
if (t$4994[0] == basis$0IO$1.en$Io$59) {var v$3986 = X$3983[1][2];
basis$0General$1.print$163((("Error while blasting out functor body for " + (syntax_objects$0FunId$1.pr_FunId$60(v$3988))) + "\n") + v$3986);
throw X$3983;
} else {throw X$3983;
};
})(v$4993);
};
};
var fix$4995 = {};
fix$4995.$int_funbind = function(v$4085,v$4086,v$4087){var v$4088 = v$4087[1];
var v$4089 = v$4088[0];
var v$4090 = v$4088[1];
var v$4091 = v$4088[2];
var v$4092 = v$4088[3];
var v$4093 = v$4088[4];
var v$4094 = v$4088[5];
var v$4079 = basics$0FreeIds$1.fid_strexp_sigexp$2108(v$4091,v$4093,v$4092);
var v$4080 = v$4079[0];
var v$4081 = v$4079[2];
var v$4082 = v$4079[1];
var v$4083 = v$4079[3];
var v$4084 = v$4079[4];
var intB0$4017 = smltojs0$0SmlToJsComp$1$4.restrict$719(v$4086,[v$4080,v$4082,v$4081,v$4083,v$4084],special_objects$0TyName$1$3.empty$2726);
var v$4036;
var v$4049;
var v$4681 = basics$0ElabInfo$1.to_TypeInfo$202(v$4089);
switch (v$4681[0]) { case 0: {var v$4682 = v$4681[1];
v$4049 = [0,basics$0TypeInfo$1.normalise$310(v$4682)];
 break; }default: {v$4049 = [1];
} };
switch (v$4049[0]) { case 0: {var v$4051 = v$4049[1];
switch (v$4051[0]) { case 13: {var v$4053 = v$4051[1];
var v$4054 = v$4053[3];
switch (v$4054[0]) { case 0: {var v$4073 = v$4053[1];
var v$4074 = v$4053[2];
var v$4075 = v$4053[0];
var v$4076 = v$4053[4];
var v$4077 = v$4054[1];
var elabB$4042 = v$4074[0];
var infB$4056;
var v$4062 = basics$0ParseInfo$1.to_DFInfo$102(basics$0ElabInfo$1.to_ParseInfo$192(v$4089));
switch (v$4062[0]) { case 0: {var v$4064 = v$4062[1];
switch (v$4064[0]) { case 5: {infB$4056 = v$4064[1];
 break; }default: {infB$4056 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no infix basis info"));
} };
 break; }default: {infB$4056 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no infix basis info"));
} };
v$4036 = [v$4073,[special_objects$0TyName$1$3.list$3264(v$4075),elabB$4042,infB$4056,v$4077,v$4076]];
 break; }default: {v$4036 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
 break; }default: {v$4036 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
 break; }default: {v$4036 = (tools$0Crash$1.impossible$59("IntModules.int_funbind.no type info"));
} };
var v$4037 = v$4036[0];
var v$4038 = v$4036[1];
var BBC$4026 = smltojs0$0SmlToJsComp$1$8.generate_BBC$3945(v$4085,v$4090,v$4091,v$4038,v$4093);
var fe$4027 = smltojs0$0SmlToJsComp$1$4.add$349(v$4090,[v$4085,v$4091,v$4037,BBC$4026,intB0$4017],smltojs0$0SmlToJsComp$1$4.empty$335);
switch (v$4094[0]) { case 0: {var v$4035 = v$4094[1];
var fe$$4034 = fix$4995.$int_funbind(v$4085,v$4086,v$4035);
return smltojs0$0SmlToJsComp$1$4.plus$337(fe$4027,fe$$4034);
 break; }default: {return fe$4027;
} };
};
smltojs0$0SmlToJsComp$1$8.int_funbind$3997 = fix$4995.$int_funbind;
var fix$4996 = {};
fix$4996.$int_sigbind = function(v$4099){var v$4125 = v$4099[1];
var v$4126 = v$4125[0];
var v$4127 = v$4125[1];
var v$4128 = v$4125[3];
var T$4105;
var v$4111;
var v$4707 = basics$0ElabInfo$1.to_TypeInfo$202(v$4126);
switch (v$4707[0]) { case 0: {var v$4708 = v$4707[1];
v$4111 = [0,basics$0TypeInfo$1.normalise$310(v$4708)];
 break; }default: {v$4111 = [1];
} };
switch (v$4111[0]) { case 0: {var v$4113 = v$4111[1];
switch (v$4113[0]) { case 4: {T$4105 = v$4113[1];
 break; }default: {T$4105 = (tools$0Crash$1.impossible$59("IntModules.int_sigbind; no type info"));
} };
 break; }default: {T$4105 = (tools$0Crash$1.impossible$59("IntModules.int_sigbind; no type info"));
} };
var ise$4117 = smltojs0$0SmlToJsComp$1$4.add$502(v$4127,T$4105,smltojs0$0SmlToJsComp$1$4.empty$488);
var v$4122 = fix$4996.$int_sigbind_opt(v$4128);
switch (v$4122[0]) { case 0: {var v$4124 = v$4122[1];
return smltojs0$0SmlToJsComp$1$4.plus$490(ise$4117,v$4124);
 break; }default: {return ise$4117;
} };
};
fix$4996.$int_sigbind_opt = function(v$4131){switch (v$4131[0]) { case 1: {return [1];
 break; }default: {var v$4137 = v$4131[1];
return [0,fix$4996.$int_sigbind(v$4137)];
} };
};
smltojs0$0SmlToJsComp$1$8.int_sigbind$4096 = fix$4996.$int_sigbind;
smltojs0$0SmlToJsComp$1$8.int_sigbind_opt$4095 = fix$4996.$int_sigbind_opt;
smltojs0$0SmlToJsComp$1$8.int_sigdec$4138 = function(v$4141){var v$4145 = v$4141[1];
var v$4146 = v$4145[1];
return smltojs0$0SmlToJsComp$1$8.int_sigbind$4096(v$4146);
};
var fix$4997 = {};
fix$4997.$flatten = function(v$4162,v$4956){lab$flatten: while (true) {switch (v$4162[0]) { case 1: {return [v$4162[1],v$4956];
 break; }default: {var v$4166 = v$4162[1];
var v$4167 = v$4166[0];
var v$4168 = v$4166[1];
var t$4998 = v$4167;
var t$4999 = fix$4997.$flatten(v$4168,v$4956);
var v$4162 = t$4998;
var v$4956 = t$4999;
continue lab$flatten;
} };
};
};
smltojs0$0SmlToJsComp$1$8.flatten$4149 = fix$4997.$flatten;
var fix$5000 = {};
fix$5000.$int_topdec = function(v$4263,v$4264,v$4265,v$4266,v$4267){switch (v$4267[0]) { case 0: {var v$4237 = v$4267[1];
var v$4239 = v$4237[1];
var v$4240 = v$4237[2];
var v$4233 = smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3558(v$4263,v$4266,v$4239,v$4264);
var v$4234 = v$4233[0];
var v$4235 = v$4233[1];
var v$4236 = v$4233[2];
var intB1$4219 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$4234,v$4235]);
switch (v$4240[0]) { case 0: {var v$4232 = v$4240[1];
var v$4229 = fix$5000.$int_topdec(v$4263,[1],v$4265,smltojs0$0SmlToJsComp$1$4.plus$619(v$4266,intB1$4219),v$4232);
var v$4230 = v$4229[0];
var v$4231 = v$4229[1];
return [[0,[[1,intB1$4219],v$4230]],smltojs0$0SmlToJsComp$1$5.seq$2553(v$4236,v$4231)];
 break; }default: {return [[1,intB1$4219],v$4236];
} };
 break; }case 1: {var v$4210 = v$4267[1];
var v$4212 = v$4210[1];
var v$4213 = v$4210[2];
var ise$4195;
var v$4718 = v$4212[1];
var v$4719 = v$4718[1];
ise$4195 = (smltojs0$0SmlToJsComp$1$8.int_sigbind$4096(v$4719));
var intB1$4196 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,ise$4195,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4595,smltojs0$0CompileBasisJS$1.empty$74]);
switch (v$4213[0]) { case 0: {var v$4209 = v$4213[1];
var v$4206 = fix$5000.$int_topdec(v$4263,v$4264,v$4265,smltojs0$0SmlToJsComp$1$4.plus$619(v$4266,intB1$4196),v$4209);
return [[0,[[1,intB1$4196],v$4206[0]]],v$4206[1]];
 break; }default: {return [[1,intB1$4196],smltojs0$0SmlToJsComp$1$5.empty$2560];
} };
 break; }default: {var v$4256 = v$4267[1];
var v$4258 = v$4256[1];
var v$4259 = v$4258[1];
var v$4261 = v$4259[1];
var v$4262 = v$4256[2];
var fe$4241 = smltojs0$0SmlToJsComp$1$8.int_funbind$3997(v$4265,v$4266,v$4261);
var intB1$4242 = smltojs0$0SmlToJsComp$1$4.mk$608([fe$4241,smltojs0$0SmlToJsComp$1$4.empty$488,compiler_objects$0CompilerEnv$1$7.emptyCEnv$4595,smltojs0$0CompileBasisJS$1.empty$74]);
switch (v$4262[0]) { case 0: {var v$4255 = v$4262[1];
var v$4252 = fix$5000.$int_topdec(v$4263,v$4264,v$4265,smltojs0$0SmlToJsComp$1$4.plus$619(v$4266,intB1$4242),v$4255);
return [[0,[[1,intB1$4242],v$4252[0]]],v$4252[1]];
 break; }default: {return [[1,intB1$4242],smltojs0$0SmlToJsComp$1$5.empty$2560];
} };
} };
};
smltojs0$0SmlToJsComp$1$8.int_topdec$4170 = fix$5000.$int_topdec;
smltojs0$0SmlToJsComp$1$8.interp_aux$4268 = function(v$4313,v$4314,v$4315,v$4316,v$4317){var v$4284 = smltojs0$0SmlToJsComp$1$8.push_topdec$3454(v$4316);
var v$4285 = v$4284[0];
switch (v$4285[0]) { case 0: {var v$4309 = v$4285[1];
var v$4310 = v$4284[1];
var v$4305 = smltojs0$0SmlToJsComp$1$8.comp_int_strdec$3558(v$4313,v$4315,v$4309,[0,v$4317]);
var v$4306 = v$4305[0];
var v$4307 = v$4305[1];
var v$4308 = v$4305[2];
var intB1$4291 = smltojs0$0SmlToJsComp$1$4.mk$608([smltojs0$0SmlToJsComp$1$4.empty$335,smltojs0$0SmlToJsComp$1$4.empty$488,v$4306,v$4307]);
switch (v$4310[0]) { case 0: {var v$4304 = v$4310[1];
var v$4301 = smltojs0$0SmlToJsComp$1$8.int_topdec$4170(v$4313,[1],v$4314,smltojs0$0SmlToJsComp$1$4.plus$619(v$4315,intB1$4291),v$4304);
var v$4302 = v$4301[0];
var v$4303 = v$4301[1];
return [[0,[[1,intB1$4291],v$4302]],smltojs0$0SmlToJsComp$1$5.seq$2553(v$4308,v$4303)];
 break; }default: {return [[1,intB1$4291],v$4308];
} };
 break; }default: {var v$4311 = v$4284[1];
switch (v$4311[0]) { case 1: {return [[1,smltojs0$0SmlToJsComp$1$4.empty$618],smltojs0$0SmlToJsComp$1$5.empty$2560];
 break; }default: {var v$4312 = v$4311[1];
return smltojs0$0SmlToJsComp$1$8.int_topdec$4170(v$4313,[0,v$4317],v$4314,v$4315,v$4312);
} };
} };
};
smltojs0$0SmlToJsComp$1$8.interp$4319 = function(v$4351,v$4352,v$4353,v$4354,v$4355){var v$4348 = smltojs0$0SmlToJsComp$1$8.interp_aux$4268(v$4351,v$4352,v$4353,v$4354,v$4355);
var v$4349 = v$4348[0];
var v$4350 = v$4348[1];
var v$4336 = basis$0Path$1.splitDirFile$511(v$4355);
var v$4337 = v$4336[0];
var v$4338 = v$4336[1];
try {basis$0Path$1.concat$218(basis$0Path$1.concat$218(v$4337,"MLB/Js0"),v$4338);
} catch(v$5001) {(function(v$4335){return tools$0Crash$1.impossible$59("IntModules.interp: Path.concat");
})(v$5001);
};
var intBs$4341 = smltojs0$0SmlToJsComp$1$8.flatten$4149(v$4349,null);
var t$5005;
var fix$5002 = {};
fix$5002.$foldl = function(v$4734,v$4735){lab$foldl: while (true) {if (v$4735 == null) {return v$4734;
} else {var v$4736 = v$4735;
var v$4737 = v$4736[0];
var v$4738 = v$4736[1];
var t$5003 = smltojs0$0SmlToJsComp$1$4.plus$619(v$4734,v$4737);
var t$5004 = v$4738;
var v$4734 = t$5003;
var v$4735 = t$5004;
continue lab$foldl;
};
};
};
var foldl$4733 = fix$5002.$foldl;
t$5005 = (foldl$4733(smltojs0$0SmlToJsComp$1$4.empty$618,intBs$4341));
return [t$5005,v$4350];
};
return 0;
})();
